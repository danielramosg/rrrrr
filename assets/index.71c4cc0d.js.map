{"mappings":"C,A,eCCI,E,S,E,C,E,O,c,C,E,a,C,M,C,E,a,C,C,E,C,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,M,M,C,C,C,O,C,C,E,IA8BJ,IAAM,EAAU,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IACV,CAAA,OAAE,CAAM,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IACb,EAAW,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,IACX,EAAa,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,IAEb,EAAQ,IAAI,EAAA,oBAAmB,CAC/B,EAAiB,IAAI,EAAA,cAAa,CAMtC,EACA,CAAE,GAAG,EAAO,KAAK,CAAC,aAAa,AAAC,EAChC,CAAE,GAAG,EAAO,KAAK,CAAC,iBAAiB,AAAC,EACpC,EACA,EAAO,UAAU,CAAC,cAAc,CAChC,EAAO,UAAU,CAAC,WAAW,EAGzB,EAAS,IAAI,EAAA,MAAK,CAExB,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,KACN,EAAS,SAAS,CAAE,EAAO,IAAI,GAC9B,EAAO,KAAK,EACnB,GAEA,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,KACV,OAAO,MAAM,CAAC,EAAe,UAAU,CAAE,CACvC,GAAG,EAAW,qBAAqB,AACrC,GACA,QAAQ,GAAG,CAAC,0BAA2B,EAAe,UAAU,CAClE,GAEA,EAAO,IAAI,GAEX,AAAA,CAAA,EAAA,EAAA,KAAI,AAAJ,EACE,IAAM,EAAS,YAAY,CAC3B,AAAC,IACC,QAAQ,GAAG,CAAC,sBACZ,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,EACE,EACI,SAAS,eAAe,CAAC,iBAAiB,GAC1C,SAAS,cAAc,GAE/B,GAGF,IAAM,EAAqB,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,CAAA,GAEzB,EAAqB,KACzB,EAAmB,KAAK,CAAG,CAAC,EAAmB,KAAK,AACtD,EAEM,EAAsB,KAC1B,EAAS,qBAAqB,CAAG,CAAC,EAAS,qBAAqB,AAClE,EAEM,EAAkB,KACtB,EAAS,SAAS,CAAG,CAAC,EAAS,SAAS,AAC1C,EAEM,EAAmB,KACvB,EAAS,YAAY,CAAG,CAAC,EAAS,YAAY,AAChD,EAEA,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,AAAA,EAAA,OAAM,CAAE,YAAY,CAAC,GAAG,CAAE,GACtC,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,AAAA,EAAA,OAAM,CAAE,aAAa,CAAC,GAAG,CAAE,GACvC,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,AAAA,EAAA,OAAM,CAAE,GAAG,CAAC,GAAG,CAAE,GAC7B,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,AAAA,EAAA,OAAM,CAAE,UAAU,CAAC,GAAG,CAAE,GAEpC,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,KACN,EAAS,SAAS,CAAE,EAAO,IAAI,GAC9B,EAAO,KAAK,EACnB,GAEA,IAAM,EAAsB,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAsC,EAAE,EACpE,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,KAaR,EAAO,EAAE,CAAC,OAZG,AAAC,IACZ,GAAM,CAAE,EAAG,CAAK,CAAE,CAAG,EAAe,MAAM,CAC1C,EAAe,IAAI,CAAC,GACpB,GAAM,CAAE,EAAG,CAAQ,CAAE,CAAG,EAAe,MAAM,CACvC,EAAS,EAAW,EAEpB,CAAA,OAAE,CAAM,CAAE,CAAG,EACnB,EAAW,MAAM,CAAC,CAAE,OAAA,CAAO,GAC3B,EAAoB,KAAK,CAAC,OAAO,CAAC,AAAC,GACjC,EAAG,MAAM,CAAC,EAAS,EAAQ,EAAe,MAAM,EAEpD,EAEF,G,I,E,C,Q,E,O,E,S,E,W,E,M,E,e,E,O,E,mB,E,mB,E,oB,E,gB,E,iB,E,oB,E,gB,E,O,C,mB,E,O,C,gB,E,O,C,W,E,O,C,a,E,O,C,iB,E,O,C,e,E,O,C,oB,E,O,C,mB,E,O,C,mB,E,O,C,I,a,C,O,E,W,A,E,I,c,C,O,E,Y,A,C,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MCzHI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAgD,GAChD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,sBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,kB,M,C,W,C,C,E,M,C,S,C,M,C,C,C,O,C,C,K,C,C,E,IAJf,IAAM,EAAe,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAA2B,MAC1C,EAAe,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAA2B,MAE1C,EAAgB,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,CAAE,WAAY,EAAG,WAAY,EAAG,MAAO,CAAE,GAEnE,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,KACR,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,AAAuB,OAAvB,EAAa,KAAK,EACzB,IAAM,EAAoB,EAAa,KAAK,CAEtC,EAAe,KACnB,IAAM,EAAO,EAAkB,qBAAqB,GAC9C,EAAQ,KAAK,GAAG,CACpB,EAAK,KAAK,CAAG,AAjBL,EAiBW,UAAU,CAAC,KAAK,CACnC,EA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GE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CAEA,AAAA,EAAA,SAAA,OAAA,CAAgD,GAChD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,sBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,kB,M,C,C,C,O,C,C,E,IALf,GAAM,CAAA,gBAAE,CAAe,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IAEtB,EAAc,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAClB,EACA,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,EAAG,UAAU,CAAC,U,E,C,gB,E,Y,E,e,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,I,E,CAKrB,IAAI,YAAY,MAAM,c,E,S,E,C,C,C,C,C,C,C,C,C,C,C,EAA3B,MAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQM,MARN,EAAA,CACE,CAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,EAAA,CAAA,GAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAME,EAAA,QAAA,CAAA,KAAA,AAAA,CAAA,EAAA,EAAA,UAAA,AAAA,EALiB,EAAA,WAAW,CAAA,AAArB,GADT,CAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAME,EANF,cAAA,CAAA,CAEG,IAAK,EAAO,EAAE,CACd,YAAW,EAAO,EAAE,CACpB,EAAG,EAAO,CAAC,CACX,EAAG,EAAO,CAAC,A,E,K,E,C,Y,I,I,C,G,I,E,C,I,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GApBlB,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MCJI,E,E,E,O,C,U,W,O,C,GA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AAe,OAAxC,GACC,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAmD,OAAnD,EAAmD,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAxB,GAA3B,G,EAEH,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAA+D,KAA/D,EAA+D,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAA3B,EAAA,MAAM,CAAC,EAAM,KAAK,GAAtD,G,G,G,E,E,C,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GAjDV,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MaJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAA6C,GAC7C,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,mBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,e,M,C,S,O,E,M,C,C,C,O,C,C,E,IAFf,IAAM,EAAsB,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,CAAA,G,E,C,MAFlB,E,oB,E,iC,E,O,C,mC,E,O,C,sB,E,O,C,4B,E,O,C,oB,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MCRV,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAiE,GACjE,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,uCAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,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AM,EAAgB,EAAgB,EAAW,MAAM,CACvD,CAAA,EAAQ,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAG,EAAc,GAAG,CAAC,AAAC,GAAM,EAAE,KAAK,EAChE,EAAQ,MAAM,EAChB,EACF,G,I,E,C,MA7Cc,E,gB,E,W,E,O,E,Y,E,O,C,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,SAiDP,IAAA,EAAA,CAAA,MAAA,CAAA,MAAA,MAAA,CAAA,EACK,EAAA,CAAA,IAAI,QAAJ,E,S,E,C,C,C,C,C,C,C,C,C,C,C,EADV,MAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAEM,MAFN,EAAA,CACE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAA8B,SAA9B,EAAA,KAAA,K,C,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GAjFJ,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MCJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAA4D,GAC5D,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,kCAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,8B,M,C,C,C,O,C,C,E,IAAf,GAAM,CAAA,OAAE,CAAM,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IAEb,EAA2B,AAAA,CAAA,EAAA,EAAA,2BAA0B,AAA1B,IAC3B,CAAA,oBAAE,CAAmB,CAAE,CAAG,EAC1B,CAAA,yBAAE,CAAwB,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,IAC/B,CAAA,kBAAE,CAAiB,CAAA,yBAAE,CAAwB,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,IAElD,EAAS,CACb,QAAS,EACT,YAAa,EACb,QAAS,EACT,MAAO,CACT,EAGM,EAAgB,CACpB,CAAC,EAAO,OAAO,CAAC,CAAE,yBAClB,CAAC,EAAO,WAAW,CAAC,CAAE,GACtB,CAAC,EAAO,OAAO,CAAC,CAAE,4DAClB,CAAC,EAAO,KAAK,CAAC,CAAE,uDAClB,EAEM,EAA8B,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,IAClC,EAAgC,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAW,EAAO,WAAW,EAC7D,EAA4B,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,IAChC,EAA+B,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAW,EAAO,WAAW,EAElE,SAAS,EAAa,CAAyB,EAC7C,GAAI,CACF,IAAM,EAA4B,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,IAAI,CAAC,IAC1C,CAAC,EACG,EAAY,AAAA,CAAA,EAAA,EAAA,YAAW,AAAX,EAAa,KAAK,CAClC,gBAAgB,AAAA,CAAA,EAAA,EAAA,KAAI,AAAJ,EAAM,IACtB,GAEI,EAAmB,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,GAExC,GAAI,CAAC,EAAiB,EAAE,CAAE,CACxB,6BAA6B,EAC7B,GAAM,CACJ,MAAO,CAAA,OAAE,CAAM,CAAA,YAAE,CAAW,CAAE,CAC/B,CAAG,EAOJ,OANA,QAAQ,KAAK,CAAC,yBAA0B,GACxC,QAAQ,KAAK,CAAC,GACd,QAAQ,KAAK,CACX,qDACI,GAAU,EAAE,EAEX,IACT,CAEA,OAAO,EAAiB,IAAI,AAC9B,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,wBAAyB,GAChC,IACT,CACF,CAEA,eAAe,IACb,IAAM,EAAY,EAAa,EAA0B,KAAK,EAG9D,GAFA,EAA6B,KAAK,CAChC,AAAc,OAAd,EAAqB,EAAO,KAAK,CAAG,EAAO,OAAO,CAChD,CAAC,EAAW,OAEhB,GAAM,CACJ,MAAO,CAAE,kBAAmB,CAA0B,CAAE,CACzD,CAAG,EAEJ,OAAO,MAAM,CAAC,EAAmB,GAEjC,EAA6B,KAAK,CAAG,EAAO,OAAO,AACrD,CAEA,eAAe,IACb,IAAM,EAAY,EAAa,EAA4B,KAAK,EAGhE,GAFA,EAA8B,KAAK,CACjC,AAAc,OAAd,EAAqB,EAAO,KAAK,CAAG,EAAO,OAAO,CAChD,CAAC,EAAW,OAEhB,GAAM,CAAE,oBAAqB,CAA4B,CAAE,CAAG,EAExD,EAA6B,IAAI,QAAQ,CAAC,EAAS,KACvD,AAAA,CAAA,EAAA,EAAA,KAAI,AAAJ,EAAM,EAA0B,EAAS,CAAE,KAAM,CAAA,EAAM,KAAM,CAAA,CAAK,EACpE,GAEA,EAAyB,UAAU,CAAC,GACpC,IAEA,MAAM,EACN,EAA8B,KAAK,CAAG,EAAO,OAAO,AACtD,C,I,E,C,O,E,yB,E,oB,E,yB,E,kB,E,yB,E,O,E,c,E,4B,E,8B,E,0B,E,6B,E,a,E,wB,E,0B,E,wBAEA,WACE,EAA6B,KAAK,CAAG,EAAO,WAAW,CAIvD,EAA0B,KAAK,CAAG,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,IAAI,CAHzB,CAChB,MAAO,CAAE,kBAAmB,CAAkB,CAChD,GAEA,QAAQ,GAAG,CAAC,EAA0B,KAAK,CAC7C,E,0BAEA,WACE,EAA8B,KAAK,CAAG,EAAO,WAAW,CACxD,IAAM,EAAY,CAChB,oBAAqB,EAAoB,GAAG,CAAC,CAAC,CAAA,GAAE,CAAE,CAAA,OAAE,CAAM,CAAE,GAAM,CAAA,CAChE,GAAA,EACA,OAAA,CACF,CAAA,EACF,CACA,CAAA,EAA4B,KAAK,CAAG,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,IAAI,CAAC,GAC9C,QAAQ,GAAG,CAAC,EAA4B,KAAK,CAC/C,C,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,iB,W,O,C,G,I,E,E,S,E,E,S,E,SCrHA,IAAM,EAAe,EAAA,oBAAmB,CAElC,EAAyB,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,GACV,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,EAAc,CAAE,OAAQ,CAAA,CAAK,GACpC,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,EAAc,CAAE,OAAQ,CAAA,CAAK,GAQnE,IAAM,EAAyE,AAC7E,IAEA,IAAM,EAAmB,EAAuB,GAChD,GAAI,CAAC,EAAiB,EAAE,CAAE,CACxB,GAAM,CAAA,OAAE,CAAM,CAAA,YAAE,CAAW,CAAE,CAAG,EAChC,MAAO,CAAE,GAAI,CAAA,EAAO,MAAO,CAAE,OAAA,EAAQ,YAAA,CAAY,CAAE,CACrD,CAEA,MAAO,CAAE,GAAI,CAAA,EAAM,KAAM,CAAe,CAC1C,C,G,E,Q,S,C,C,C,E,E,E,O,C,uB,W,O,C,G,I,E,E,S,E,E,SCzBA,IAAM,EAAiB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,OAAO,CADV,8CAGzB,EAA2B,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC/B,CAAE,KAAM,0BAA2B,EACnC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CAAE,GAAI,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GAAI,OAAQ,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAAG,GAClE,UAAU,CAAC,CAAA,GACX,QAAQ,IAGP,EAA4B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAEpC,EAA0B,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC9B,CAAE,KAAM,yBAA0B,EAClC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CACL,OAAO,WAAW,CAAC,AAAA,CAAA,EAAA,EAAA,YAAW,AAAX,EAAa,GAAG,CAAC,AAAC,GAAM,CAAC,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GAAG,IAEtE,UAAU,CAAC,CAAA,IAGV,EAAsB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC1B,CAAE,KAAM,qBAAsB,EAC9B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,OAAO,WAAW,CAAC,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,GAAG,CAAC,AAAC,GAAM,CAAC,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GAAG,IACxE,UAAU,CAAC,CAAA,IAGV,EAAmB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACvB,CAAE,KAAM,kBAAmB,EAC3B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,GAAI,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACvB,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACtB,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACtB,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAC5B,GACC,UAAU,CAAC,CAAA,IAGV,EAAiB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACrB,CAAE,KAAM,gBAAiB,EACzB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,GAAI,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACvB,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACtB,EAAG,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACtB,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAC5B,GACC,UAAU,CAAC,CAAA,IAGV,EAAa,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACjB,CAAE,KAAM,YAAa,EACrB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,qBAAsB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACzC,IAAK,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAC1B,GACC,UAAU,CAAC,CAAA,IAGV,EAAoB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,OAAO,CAAC,uBAEvC,EAAuB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC3B,CAAE,KAAM,sBAAuB,EAC/B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,GAAI,EAAkB,QAAQ,GAC9B,KAAM,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,IAAI,CAAC,SAAS,QAAQ,GACvC,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAAkB,QAAQ,GACzC,sBAAuB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,IAAI,QAAQ,EACrD,GACC,UAAU,CAAC,CAAA,IAGV,EAA4B,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAChC,CAAE,KAAM,2BAA4B,EACpC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,GAAI,EAAkB,QAAQ,GAC9B,KAAM,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,IAAI,CAAC,eAAe,QAAQ,GAC7C,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACJ,KAAK,CACJ,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,WAAY,EAAiB,QAAQ,GACrC,SAAU,EAAe,QAAQ,EACnC,GACC,UAAU,CAAC,CAAA,IAEf,QAAQ,GACX,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAAY,QAAQ,EACrC,GACC,UAAU,CAAC,CAAA,IAGV,EAA2B,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC/B,CAAE,KAAM,0BAA2B,EACnC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,GAAI,EAAkB,QAAQ,GAC9B,KAAM,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,IAAI,CAAC,cAAc,QAAQ,GAC5C,WAAY,EAAiB,QAAQ,GACrC,UAAW,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAAgB,QAAQ,GAC3C,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAAY,QAAQ,EACrC,GACC,UAAU,CAAC,CAAA,IAGV,EAAkB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACtB,CAAE,KAAM,WAAY,EACpB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,CACN,EACA,EACA,EACD,GAGG,EAAgC,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACpC,CAAE,KAAM,+BAAgC,EACxC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,IAAI,CAAC,uBAGZ,EAAyB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC7B,CAAE,KAAM,wBAAyB,EACjC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,IAAK,EAAe,QAAQ,GAC5B,UAAW,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAChC,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,IAGP,EAAe,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAC1B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,CAAC,EAA+B,EAAuB,GAG3D,EAAgB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACpB,CAAE,KAAM,eAAgB,EACxB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,aAAc,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACjC,gBAAiB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACpC,kBAAmB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACtC,YAAa,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACV,MAAM,CAAC,CACN,YAAa,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,IAAI,QAAQ,GACzD,UAAW,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,IAAI,QAAQ,EACzD,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,EACb,GACC,UAAU,CAAC,CAAA,IAGV,EAAuB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAC1B,MAAM,CAAC,CAAE,IAAK,EAAe,QAAQ,EAAG,GACxC,UAAU,CAAC,CAAA,GAER,EAAoB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACxB,CAAE,KAAM,mBAAoB,EAC5B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,kBAAmB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAC7C,oBAAqB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAC/C,oBAAqB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAC/C,uBAAwB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAClD,uBAAwB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAClD,OAAQ,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACL,MAAM,CAAC,CACN,iBAAkB,EAAqB,QAAQ,GAC/C,mBAAoB,EAAqB,QAAQ,EACnD,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,GACX,WAAY,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,KAAK,CAAC,GAAiB,QAAQ,EAC/C,GACC,UAAU,CAAC,CAAA,IAKV,EAAe,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EACnB,CAAE,KAHuB,QAGE,EAC3B,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACG,MAAM,CAAC,CACN,QAAS,EAAc,QAAQ,GAC/B,MAAO,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACJ,MAAM,CAAC,CACN,kBAAmB,EAAwB,QAAQ,GACnD,cAAe,EAAoB,QAAQ,EAC7C,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,GACX,WAAY,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EACT,MAAM,CAAC,CACN,eAAgB,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,GACnC,YAAa,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAE,MAAM,GAAG,QAAQ,EAClC,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,GACX,oBAAqB,EAA0B,QAAQ,GACvD,YAAa,EAAkB,QAAQ,GACvC,OAAQ,EAAa,QAAQ,EAC/B,GACC,UAAU,CAAC,CAAA,GACX,QAAQ,G,G,E,Q,S,C,C,C,E,E,Q,G,E,Q,S,C,C,C,EEpNb,kBAAkB,EAClB,kBAAkB,EAClB;;;;;CAKC,E,G,E,Q,S,C,C,C,E,E,E,O,C,e,W,O,C,G,I,E,E,S,E,E,S,E,E,SCED,SAAS,EAAkB,CAAoB,CAAE,CAAS,EACxD,OAAO,CACT,CAEO,MAAM,EACX,aAAuB,MAAM,CAAiB,CAAmB,CAC/D,IAAM,EAAW,MAAM,MAAM,GAC7B,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MACR,CAAC,4BAA4B,EAAE,EAAI,QAAQ,GAAG,GAAG,EAAE,EAAS,UAAU,CAAC,CAAC,EAI5E,IAAM,EAAO,MAAM,EAAS,IAAI,GAC1B,EAAO,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,IAAI,CAAC,EAAM,CAAE,OAAQ,AAAA,EAAA,OAAG,CAAE,WAAW,AAAC,GACxD,GAAI,AAAgB,UAAhB,OAAO,GAAqB,AAAS,OAAT,EAC9B,MAAM,AAAI,MACR,CAAC,6BAA6B,EAAE,EAAI,QAAQ,GAAG,GAAG,EAAE,KAAK,SAAS,CAAC,GAAM,CAAC,EAE9E,OAAO,CACT,CAEA,OAAO,MAAM,GAAG,CAAkB,CAAU,CAC1C,OAAO,AAAA,WAAA,EAAA,EAAA,GAAU,GAAG,CAAC,EAAU,CAAE,WAAY,CAAe,EAC9D,CAEA,aAAa,SAAS,GAAG,CAAW,CAQlC,CACA,IAAM,EAAW,MAAM,QAAQ,GAAG,CAChC,EAAK,GAAG,CACN,MAAO,GAAgC,CACrC,EACA,MAAM,EAAa,KAAK,CAAC,GAC1B,GAGC,EAAS,EAAa,KAAK,IAC5B,EAAS,GAAG,CAAC,CAAC,CAAC,EAAG,EAAY,GAAK,IAElC,EAAmB,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,UACxC,AAAK,EAAiB,EAAE,CAMjB,CAAE,GAAI,CAAA,EAAM,KAAM,EAAiB,IAAI,AAAmB,EALxD,CACL,GAAI,CAAA,EACJ,MAAO,CAAE,OAAQ,CAAE,OAAA,EAAQ,SAAA,CAAS,EAAG,MAAO,EAAiB,KAAK,AAAC,CACvE,CAGJ,CAEA,aAAa,KAAK,GAAG,CAAW,CAA2B,CACzD,IAAM,EAAa,MAAM,EAAa,QAAQ,IAAI,GAClD,GAAI,CAAC,EAAW,EAAE,CAEhB,MAAM,EAAW,KAAK,CAExB,OAAO,EAAW,IAAI,AACxB,CACF,C,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,I,E,A,G,C,A,C,E,E,W,A,E,iB,E,I,A,C,E,E,U,A,I,C,ELuDqB,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAM,KAAN,KAAA,KAAA,K,E,C,Q,CAiBnB,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAM,KAAN,KAAA,KAAA,KACqB,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAM,KAAN,KAAA,KAAA,K,E,C,Q,C,S,E,C,C,C,C,C,C,C,C,C,C,C,E,M,A,C,E,E,S,A,I,A,C,E,E,kB,A,E,E,Q,C,K,CAlBF,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAA,wBAAA,EACnB,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWY,WAXZ,CACE,KAAK,4BACI,sBAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAA,EAAA,yBAAyB,CAAzB,CAAA,EACT,KAAK,KACL,KAAK,KACJ,MAAA,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAwB,QAAA,EAAA,4BAA4B,GAAK,EAAA,MAAM,CAAC,OAAO,CAAe,MAAA,EAAA,4BAA4B,GAAK,EAAA,MAAM,CAAC,KAAK,A,GAInI,MAAO,EAAA,aAAa,CAAC,EAAA,4BAA4B,CAAjD,CACA,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,4BAA4B,CAAG,EAAA,MAAM,CAAC,WAAW,AAAX,C,E,K,G,G,CARrC,CAAA,EAAA,UAAA,CAAA,EAAA,yBAAyB,CAAzB,C,EAUX,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAGM,MAHN,KAAA,CACE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAyE,QAAzE,CAAO,KAAK,SAAS,MAAM,SAAU,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,uBAAuB,EAAA,C,GACnE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAyE,QAAzE,CAAO,KAAK,SAAS,MAAM,SAAU,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,uBAAuB,EAAA,C,G,EAErE,EAAM,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAA,0BACe,EACrB,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAYY,WAZZ,CACE,KAAK,6BACI,sBAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAA,EAAA,2BAA2B,CAA3B,CAAA,EACT,KAAK,KACL,KAAK,KACJ,MAAA,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAwB,QAAA,EAAA,6BAA6B,GAAK,EAAA,MAAM,CAAC,OAAO,CAAiB,QAAA,EAAA,6BAA6B,GAAK,EAAA,MAAM,CAAC,OAAO,CAAe,MAAA,EAAA,6BAA6B,GAAK,EAAA,MAAM,CAAC,KAAK,A,GAKtM,MAAO,EAAA,aAAa,CAAC,EAAA,6BAA6B,CAAlD,CACA,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,6BAA6B,CAAG,EAAA,MAAM,CAAC,WAAW,AAAX,C,E,K,G,G,CATtC,CAAA,EAAA,UAAA,CAAA,EAAA,2BAA2B,CAA3B,C,EAWX,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAGM,MAHN,KAAA,CACE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAA2E,QAA3E,CAAO,KAAK,SAAS,MAAM,SAAU,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,yBAAyB,EAAA,C,GACrE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAA2E,QAA3E,CAAO,KAAK,SAAS,MAAM,SAAU,QAAK,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,yBAAyB,EAAA,C,G,E,C,G,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GA/JzE,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MMJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CAEA,AAAA,EAAA,SAAA,OAAA,CAAoD,GACpD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,0BAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,sB,M,C,C,C,O,C,C,E,IAPf,IAAM,EAAqB,CAAC,mBAAmB,EAAE,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,IAAS,CAAC,CACrD,EAAwB,CAAC,mBAAmB,EAAE,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,IAAS,CAAC,CACxD,EAA2B,CAAC,mBAAmB,EAAE,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,IAAS,CAAC,CAC3D,EAAkC,CAAC,mBAAmB,EAAE,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,IAAS,CAAC,CAElE,EAAW,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,I,E,C,mB,E,sB,E,yB,E,gC,E,S,E,cAEK,IAAM,EAAS,MAAM,CAAC,CAAE,UAAW,CAAC,EAAS,SAAS,AAAC,G,iBAEpD,IACvB,EAAS,MAAM,CAAC,CAAE,aAAc,CAAC,EAAS,YAAY,AAAC,G,oBAE7B,IAC1B,EAAS,MAAM,CAAC,CAAE,sBAAuB,CAAC,EAAS,qBAAqB,AAAC,G,2BAExC,IACjC,EAAS,MAAM,CAAC,CACd,qBAAsB,CAAC,EAAS,oBAAoB,AACtD,G,I,S,C,O,E,O,A,C,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,S,E,C,C,C,C,C,C,C,C,C,C,C,E,M,A,C,E,E,S,A,I,A,C,E,E,kB,A,E,E,Q,C,K,CAIA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAOE,QAPF,CACE,KAAK,WACL,MAAK,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAC,YAAW,IAEF,EAAA,QAAQ,CAAC,YAAY,CAFpC,SAAA,GAAA,EACC,GAAI,EAAA,kBAAkB,CAEvB,aAAa,MACZ,QAAO,EAAA,aAAa,A,E,K,GAEvB,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAA,QAAA,CAAO,MAAM,kBAAmB,IAAK,EAAA,kBAAkB,AACpD,EAAA,QAAK,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAG,EAAA,OAAO,CAAC,GAAG,CAAC,KAAK,EAAG,IAA5B,GAEH,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAME,QANF,CACE,KAAK,WACL,MAAK,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAC,YAAW,IAEF,EAAA,QAAQ,CAAC,YAAY,CAFpC,SAAA,GAAA,EACC,GAAI,EAAA,qBAAqB,CAE1B,aAAa,K,E,K,GAEf,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAA,QAAA,CACE,MAAM,kBACL,IAAK,EAAA,qBAAqB,CAC1B,QAAO,EAAA,gBAAgB,AACvB,EAAA,eAAY,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAG,EAAA,OAAO,CAAC,UAAU,CAAC,KAAK,EAAG,IAA1C,GAEH,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAME,QANF,CACE,KAAK,WACL,MAAK,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAC,YAAW,IAEF,EAAA,QAAQ,CAAC,qBAAqB,CAF7C,SAAA,GAAA,EACC,GAAI,EAAA,wBAAwB,CAE7B,aAAa,K,E,K,GAEf,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAA,QAAA,CACE,MAAM,kBACL,IAAK,EAAA,wBAAwB,CAC7B,QAAO,EAAA,mBAAmB,AAC1B,EAAA,mBAAgB,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAG,EAAA,OAAO,CAAC,aAAa,CAAC,KAAK,EAAG,IAAjD,GAEH,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAME,QANF,CACE,KAAK,WACL,MAAK,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAC,YAAW,IAEF,EAAA,QAAQ,CAAC,oBAAoB,CAF5C,SAAA,GAAA,EACC,GAAI,EAAA,+BAA+B,CAEpC,aAAa,K,E,K,GAEf,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAAA,QAAA,CACE,MAAM,kBACL,IAAK,EAAA,+BAA+B,CACpC,QAAO,EAAA,0BAA0B,AACjC,EAAA,0BAAuB,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAG,EAAA,OAAO,CAAC,oBAAoB,CAAC,KAAK,EAAG,IAA/D,G,C,G,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GAzEL,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,I,E,A,G,C,A,C,E,E,W,A,E,iB,E,I,A,C,E,E,U,A,I,C,E,E,CVYW,MAAM,eAAe,GAAG,UAAU,KAAK,S,EAC1C,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWS,SAXT,CACE,MAAM,WACN,GAAG,6BACH,iBAAe,MACf,iBAAe,0BACf,KAAK,SACL,KAAK,MACL,gBAAc,yBACd,gBAAc,OACf,EAAA,uBAAA,KAGD,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWS,SAXT,CACE,MAAM,kBACN,GAAG,+BACH,iBAAe,MACf,iBAAe,4BACf,KAAK,SACL,KAAK,MACL,gBAAc,2BACd,gBAAc,MACf,EAAA,yBAAA,KAmBD,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWS,SAXT,CACE,MAAM,WACN,GAAG,wBACH,iBAAe,MACf,iBAAe,qBACf,KAAK,SACL,KAAK,MACL,gBAAc,oBACd,gBAAc,OACf,EAAA,kBAAA,KAGD,EAAA,WAAA,EAAA,EAAA,IAAA,AAAA,WAAA,EAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWS,SAXT,CACE,MAAM,WACN,GAAG,eACH,iBAAe,MACf,iBAAe,YACf,KAAK,SACL,KAAK,MACL,gBAAc,WACd,gBAAc,MACf,EAAA,SAAA,K,E,CAKA,MAAM,cAAc,GAAG,gB,E,E,CAExB,MAAM,gBACN,GAAG,yBACH,KAAK,WACL,kBAAgB,6BAChB,SAAS,G,E,E,CAKT,MAAM,uBACN,GAAG,2BACH,KAAK,WACL,kBAAgB,+BAChB,SAAS,G,E,E,CAKT,MAAM,gBACN,GAAG,eACH,KAAK,WACL,kBAAgB,mBAChB,SAAS,G,E,E,CAOT,MAAM,gBACN,GAAG,oBACH,KAAK,WACL,kBAAgB,wBAChB,SAAS,G,E,E,CAKT,MAAM,gBACN,GAAG,WACH,KAAK,WACL,kBAAgB,eAChB,SAAS,G,E,S,E,C,C,C,C,C,C,C,C,C,C,C,EAjHf,MAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAsHM,MAtHN,CAAK,MAAK,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAAC,gBAAe,CAAA,OAAmB,EAAA,KAAK,CAAC,QAAQ,AAAtD,EAAA,C,E,CACH,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAmEM,MAnEN,KAAA,CACE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAiEM,MAjEN,EAAA,CACE,EAYA,EAYA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAeS,SAfT,AAAA,CAAA,EAAA,EAAA,UAAA,AAAA,EAeS,CAdP,MAAM,WACN,GAAG,mBACH,iBAAe,MACf,iBAAe,gBACf,KAAK,SACL,KAAK,MACL,gBAAc,eACd,gBAAc,OACd,EAAA,AAAA,CAAA,EAAA,EAAA,UAAA,AAAA,EAGE,CAH0C,gBAAA,IAAA,EAAA,mBAAmB,CAAnB,CAAA,EAA+D,cAAA,IAAA,EAAA,mBAAmB,CAAnB,CAAA,CAI5G,EAAA,CAAA,IAAA,aAAA,IAGD,EAYA,E,E,EAcJ,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAgDM,MAhDN,EAAA,CACE,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQM,MARN,EAAA,CAOE,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAAoC,EAApC,gCAAA,E,EAEF,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQM,MARN,EAAA,CAOE,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAAsC,EAAtC,kCAAA,E,EAEF,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAUM,MAVN,EAAA,CAOE,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAEE,EAFF,qBAAA,CAAA,CACG,SAAU,EAAA,KAAK,CAAC,QAAQ,EAAI,EAAA,mBAAmB,A,E,K,E,C,W,E,EAGpD,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQM,MARN,EAAA,CAOE,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAA+B,EAA/B,2BAAA,E,EAEF,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQM,MARN,EAAA,CAOE,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAAuB,EAAvB,mBAAA,E,E,E,C,E,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GA/HR,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MWJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAiD,GACjD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,uBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,mB,M,C,Y,C,C,E,M,C,C,C,O,C,C,E,IAEf,GAAM,CAAA,qBAAE,CAAoB,CAAA,WAAE,CAAU,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IACvC,CAAA,OAAE,CAAM,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,IAIb,EAAsB,CAAC,EAAE,EAAE,AAAA,CAAA,EAAA,EAAA,oBAAmB,AAAnB,EAAqB,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAC/E,SAAS,EAAQ,CAAiB,EAChC,8DAA8D;AAC9D,OAAO,AAAI,SACT,EACA,CAAC,QAAQ,EAAE,EAAU,WAAW,CAAC,CAErC,CAEA,SAAS,EAAa,CAAA,UAAE,CAAS,CAAA,IAAE,CAAG,CAA0B,EAO9D,IAAM,EAAc,EAAW,GACzB,CAAA,EAAE,CAAC,CAAA,EAAE,CAAC,CAAE,CAAG,EAAqB,GAChC,EAAiB,EAAQ,GAC/B,MAAO,CACL,eAAA,EACA,UAAA,EACA,IAAK,EACL,EAAA,EACA,EAAA,CACF,CACF,CAEA,IAAM,EAAgB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,IAAM,EAAa,AArCpC,EAqC0C,WAAW,G,E,C,MArCrD,E,qB,E,W,E,O,E,oB,E,Q,E,a,E,c,C,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,I,E,C,M,C,S,E,C,C,C,C,C,C,C,C,C,C,C,EA2CJ,OAAA,EAAA,aAAa,CAAC,cAAc,CAAC,EAAA,MAAM,EAF3C,CAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAQE,MARF,C,I,EACG,IAAK,EAAA,aAAa,CAAC,GAAG,CAAC,IAAI,CAE5B,MAAM,mBACL,MAAA,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAA,CAA4B,YAAA,EAAA,aAAa,CAAC,CAAC,CAAqB,YAAA,EAAA,aAAa,CAAC,CAAC,A,E,E,K,G,E,E,A,C,E,E,kB,A,E,G,C,E,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GArDpF,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MCJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CAEA,AAAA,EAAA,SAAA,OAAA,CAA+C,GAC/C,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,qBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,iB,M,C,gB,C,C,E,M,C,C,C,O,C,C,E,IACf,GAAM,CAAA,gBAAE,CAAe,CAAE,CAHX,EAKR,CAAA,WAAE,CAAU,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,IACjB,EAAY,EAAW,IAAI,CAAC,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,IAAO,EAAgB,EAAE,EACvE,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,AAAqB,KAAA,IAAd,GAEd,IAAM,EAAY,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,GAEtB,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,EAAY,IACV,EAAU,mBAAmB,CAAC,OAAO,CAAC,CAAC,EAAI,IACzC,EAAG,SAAS,CAAC,EAAU,KAAK,CAAG,K,I,E,C,MAbrB,E,gB,E,W,E,U,E,U,E,W,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MCVV,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,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C,UAAU,EAAE,EAAc,KAAK,CAAC,EAAE,CAAC,qBAAqB,EAAE,EAAa,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAElG,EAAW,KAAK,CAAG,EACnB,EAAW,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,EAAa,MAAM,CAAC,KAAK,CAC5D,EAAG,EAAH,CAEJ,CAUF,EACA,CAAE,UAAW,CAAA,CAAK,EAEtB,G,I,E,C,MA7Ec,E,gB,E,kB,E,W,E,U,E,c,E,yB,E,W,E,O,C,S,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MC/BV,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAyC,GACzC,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,eAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,W,M,C,e,C,E,W,C,E,O,C,K,O,C,E,M,C,C,C,O,C,C,E,IAEf,IAAM,EAAW,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,I,E,C,MANH,E,S,E,S,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MCRV,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAyC,GACzC,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,eAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,W,M,C,I,C,E,M,C,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,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,qB,M,C,gB,C,C,E,M,C,C,C,O,C,C,E,IAEf,GAAM,CAAA,gBAAE,CAAe,CAAE,CAHX,EAIR,CAAE,WAAY,CAAgB,CAAE,CAAG,EAEnC,CAAA,WAAE,CAAU,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,IACjB,EAAY,EAAW,IAAI,CAAC,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,IAAO,EAAgB,EAAE,EACvE,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,AAAqB,KAAA,IAAd,GAEd,IAAM,EAAqB,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,CAAA,G,E,C,MAVjB,E,gB,E,iB,E,W,E,U,E,mB,E,W,E,O,C,gB,E,O,A,E,O,O,c,C,E,kB,C,W,C,E,M,C,C,G,C,C,E,G,E,Q,S,C,C,C,MCXV,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CAEA,AAAA,EAAA,SAAA,OAAA,CAAgD,GAChD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,sBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,kB,M,C,gB,C,E,Q,C,K,O,C,E,M,C,C,C,O,C,C,E,IASf,GAAM,CACJ,OAAQ,CACN,YAAa,CAAA,oBACX,CAAmB,CAAA,oBACnB,CAAmB,CAAA,uBACnB,CAAsB,CAAA,uBACtB,CAAsB,CACvB,CACF,CACF,CAAG,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,IAEE,CAAA,WAAE,CAAU,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,IACjB,EAAY,EAAW,IAAI,CAAC,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,IAA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,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GAnIb,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,E,E,E,O,C,S,W,O,C,G,I,E,E,S,I,E,C,qB,C,S,E,C,C,C,C,C,C,C,C,C,C,C,EDqBE,MAAA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,IAAA,AAAA,CAAA,EAAA,EAAA,kBAAA,AAAA,EAWM,MAXN,CAAM,qBAAoB,EAAA,eAAe,CAAC,EAAE,A,E,CAC1C,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAGE,EAHF,eAAA,CAAA,CACG,oBAAmB,EAAA,eAAe,CAClC,QAAS,EAAA,kBAAkB,A,E,K,E,C,oB,U,EAE9B,AAAA,CAAA,EAAA,EAAA,WAAA,AAAA,EAKE,EALF,UAAA,CAAA,CACG,gBAAe,EAAA,eAAe,CAAC,EAAE,CACjC,cAAa,EAAA,gBAAgB,CAC7B,WAAQ,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,kBAAkB,CAA5B,CAAA,CAAA,EACA,aAAU,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,AAAA,GAAE,EAAA,kBAAkB,CAA9B,CAAA,CAAA,C,E,K,E,C,gB,c,E,C,E,E,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GAhCP,IAAA,EAAe,AAAA,IAEf,C,G,E,Q,S,C,C,C,MEJI,E,E,E,O,C,U,W,O,C,GAGE,AADJ,CAAA,EAAA,EAAA,QAAA,EACW,UAAU,EAAE,CAAA,EAAS,EAAO,OAAO,AAAP,EACvC,EAAO,MAAM,CAAG,AAAhB,EAAA,SAAA,MAAA,CACA,EAAO,YAAY,CAAG,CAAtB,EACA,AAAA,EAAA,SAAA,OAAA,CAAmD,GACnD,EAAO,SAAS,CAAG,gBACnB,EAAO,MAAM,CAAG,yBAIlB,IAAA,EAAe,C,G,E,Q,S,C,C,C,E,E,E,O,E,E,E,O,C,U,W,O,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,A,W,E,C,E,E,e,A,E,C,O,qB,M,C,C,C,O,C,C,EAQf,I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","sources":["<anon>","src/vue/components/App.vue","src/vue/components/ScaledLetterbox.vue","src/vue/components/PointerMarkerPanel.vue","src/ts/builtin-config.ts","src/vue/components/MarkerUnderlay.vue","src/ts/stores/app.ts","src/ts/stores/options.ts","src/ts/stores/marker.ts","src/ts/util/input/tuio/tuio11-event-emitter.ts","src/ts/util/input/tuio/tuio_client_js.ts","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/index.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/common/TuioConnectionType.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/common/TuioReceiver.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/common/TuioState.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/common/TuioTime.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/common/WebsocketTuioReceiver.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Blob.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Container.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Point.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Client.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Object.js","src/vendor/InteractiveScapeGmbh/tuio_client_js/src/tuio11/Tuio11Cursor.js","src/ts/util/input/tuio/websocket-tuio-receiver-ext.ts","src/vue/components/TuioMarkerPanel.vue","src/vue/components/ScoreTable.vue","src/ts/stores/config.ts","src/ts/stores/model.ts","src/ts/circular-economy-model.ts","src/ts/model.ts","src/ts/box-model/box-model.ts","src/ts/box-model/engine.ts","src/ts/box-model/ode.ts","src/ts/stores/parameter-transforms.ts","src/ts/util/is-var-name.ts","src/ts/stores/slot-groups.ts","src/ts/util/type-helpers.ts","src/ts/scores.ts","src/vue/components/ControlPanel.vue","src/vue/components/ControlPanelTabInitialParameters.vue","src/vue/components/ControlPanelTabParameterTransforms.vue","src/vue/components/ControlPanelTabCharts.vue","src/vue/components/ControlPanelTabImportExport.vue","src/ts/config/config-schema.ts","src/ts/config/config-schema-suretype.ts","src/ts/config/config-schema-types.ts","src/ts/config/config-schema-types.generated.ts","src/ts/config/config-loader.ts","src/vue/components/ControlPanelTabMisc.vue","src/vue/components/ConditionalLayer.vue","src/vue/components/BasicSlotGroup.vue","src/vue/components/MarkerSlot.vue","src/ts/stores/slot.ts","src/ts/util/geometry/circle.ts","src/vue/components/ActionCardSlotGroup.vue","src/vue/components/CardSlot.vue","src/vue/components/GameCard.vue","src/vue/components/EventCardSlotGroup.vue","src/vue/components/EventCardCycler.vue","src/vue/components/ModelVisualization.vue","src/ts/util/load-svg.ts","src/ts/util/geometry/svg.ts","src/ts/util/guarded-query-selectors.ts","node_modules/@parcel/runtime-js/lib/runtime-b9f8517930308a00.js","src/ts/util/ignore-promise.ts","src/ts/model-simulator.ts","src/ts/util/runner.ts","src/ts/index.ts","src/ts/side-effects.ts","src/ts/util/document-ready.ts"],"sourcesContent":["(function () {\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirec7f3\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirec7f3\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"fkeW0\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $7f2e693888b7da48$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $djoOt = parcelRequire(\"djoOt\");\n\nvar $1Ubyj = parcelRequire(\"1Ubyj\");\n\nvar $bA8zD = parcelRequire(\"bA8zD\");\n\nvar $4I7K4 = parcelRequire(\"4I7K4\");\n\nvar $2PnmE = parcelRequire(\"2PnmE\");\n\nvar $lbosM = parcelRequire(\"lbosM\");\n\nvar $4TkLj = parcelRequire(\"4TkLj\");\n\nvar $2vvax = parcelRequire(\"2vvax\");\n\nvar $1VbKL = parcelRequire(\"1VbKL\");\n\nvar $jrojO = parcelRequire(\"jrojO\");\n\nvar $kIEuR = parcelRequire(\"kIEuR\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $flGFW = parcelRequire(\"flGFW\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $8C4qt = parcelRequire(\"8C4qt\");\n\nvar $6h466 = parcelRequire(\"6h466\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\n\nvar $9cXwb = parcelRequire(\"9cXwb\");\nvar $7f2e693888b7da48$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"App\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const options = (0, $flGFW.useOptionStore)();\n        const { config: config } = (0, $7dQGn.useConfigStore)();\n        const appStore = (0, $f4LB1.useAppStore)();\n        const modelStore = (0, $i5N9G.useModelStore)();\n        const model = new (0, $aDsGb.CircularEconomyModel)();\n        const modelSimulator = new (0, $6h466.ModelSimulator)(model, {\n            ...config.model.initialStocks\n        }, {\n            ...config.model.initialParameters\n        }, 0.0, config.simulation.deltaPerSecond, config.simulation.maxStepSize);\n        const runner = new (0, $9cXwb.Runner)();\n        (0, $djimy.watchEffect)(()=>{\n            if (appStore.isPlaying) runner.play();\n            else runner.pause();\n        });\n        (0, $djimy.watchEffect)(()=>{\n            Object.assign(modelSimulator.parameters, {\n                ...modelStore.transformedParameters\n            });\n            console.log(\"Update model parameters\", modelSimulator.parameters);\n        });\n        runner.tick();\n        (0, $djimy.watch)(()=>appStore.isFullscreen, (isFullscreen)=>{\n            console.log(\"Fullscreen toogled\");\n            (0, $8C4qt.ignorePromise)(isFullscreen ? document.documentElement.requestFullscreen() : document.exitFullscreen());\n        });\n        const enableControlPanel = (0, $djimy.ref)(false);\n        const toggleControlPanel = ()=>{\n            enableControlPanel.value = !enableControlPanel.value;\n        };\n        const toggleDeveloperMode = ()=>{\n            appStore.isDeveloperModeActive = !appStore.isDeveloperModeActive;\n        };\n        const togglePlayPause = ()=>{\n            appStore.isPlaying = !appStore.isPlaying;\n        };\n        const toggleFullscreen = ()=>{\n            appStore.isFullscreen = !appStore.isFullscreen;\n        };\n        (0, $djoOt.onKeyStroke)((0, $7Rjir.HOTKEYS).controlPanel.key, toggleControlPanel);\n        (0, $djoOt.onKeyStroke)((0, $7Rjir.HOTKEYS).developerMode.key, toggleDeveloperMode);\n        (0, $djoOt.onKeyStroke)((0, $7Rjir.HOTKEYS).run.key, togglePlayPause);\n        (0, $djoOt.onKeyStroke)((0, $7Rjir.HOTKEYS).fullscreen.key, toggleFullscreen);\n        (0, $djimy.watchEffect)(()=>{\n            if (appStore.isPlaying) runner.play();\n            else runner.pause();\n        });\n        const modelVisualizations = (0, $djimy.ref)([]);\n        (0, $djimy.onMounted)(()=>{\n            const tick = (deltaMs)=>{\n                const { t: lastT } = modelSimulator.record;\n                modelSimulator.tick(deltaMs);\n                const { t: currentT } = modelSimulator.record;\n                const deltaT = currentT - lastT;\n                const { record: record } = modelSimulator;\n                modelStore.$patch({\n                    record: record\n                });\n                modelVisualizations.value.forEach((mv)=>mv.update(deltaMs, deltaT, modelSimulator.record));\n            };\n            runner.on(\"tick\", tick);\n        });\n        const __returned__ = {\n            options: options,\n            config: config,\n            appStore: appStore,\n            modelStore: modelStore,\n            model: model,\n            modelSimulator: modelSimulator,\n            runner: runner,\n            enableControlPanel: enableControlPanel,\n            toggleControlPanel: toggleControlPanel,\n            toggleDeveloperMode: toggleDeveloperMode,\n            togglePlayPause: togglePlayPause,\n            toggleFullscreen: toggleFullscreen,\n            modelVisualizations: modelVisualizations,\n            ScaledLetterBox: $1Ubyj.default,\n            PointerMarkerPanel: $bA8zD.default,\n            TuioMarkerPanel: $4I7K4.default,\n            ScoreTable: $2PnmE.default,\n            ControlPanel: $lbosM.default,\n            ConditionalLayer: $4TkLj.default,\n            BasicSlotGroup: $2vvax.default,\n            ActionCardSlotGroup: $1VbKL.default,\n            EventCardSlotGroup: $jrojO.default,\n            ModelVisualization: $kIEuR.default,\n            get BOARD_WIDTH () {\n                return 0, $7Rjir.BOARD_WIDTH;\n            },\n            get BOARD_HEIGHT () {\n                return 0, $7Rjir.BOARD_HEIGHT;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"1Ubyj\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $1633fb7771aaca14$export$2e2bcd8739ae039; });\nlet $1633fb7771aaca14$var$script;\n\n\n\n\nlet $1633fb7771aaca14$var$initialize = ()=>{\n    $1633fb7771aaca14$var$script = (parcelRequire(\"9WNvp\"));\n    if ($1633fb7771aaca14$var$script.__esModule) $1633fb7771aaca14$var$script = $1633fb7771aaca14$var$script.default;\n    $1633fb7771aaca14$var$script.render = (parcelRequire(\"9QxH9\")).render;\n    $1633fb7771aaca14$var$script.__cssModules = {};\n    (parcelRequire(\"f4glk\")).default($1633fb7771aaca14$var$script);\n    $1633fb7771aaca14$var$script.__scopeId = \"data-v-70f7f0\";\n    $1633fb7771aaca14$var$script.__file = \"ScaledLetterbox.vue\";\n};\n$1633fb7771aaca14$var$initialize();\nvar $1633fb7771aaca14$export$2e2bcd8739ae039 = $1633fb7771aaca14$var$script;\n\n});\nparcelRegister(\"9WNvp\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $1eb7476f2c6edbd3$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\nvar $1eb7476f2c6edbd3$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ScaledLetterbox\",\n    props: {\n        targetSize: {}\n    },\n    emits: [\n        \"resize\"\n    ],\n    setup (__props, { expose: __expose, emit: __emit }) {\n        __expose();\n        const props = __props;\n        const emit = __emit;\n        const outerElement = (0, $djimy.ref)(null);\n        const innerElement = (0, $djimy.ref)(null);\n        const transformInfo = (0, $djimy.ref)({\n            translateX: 0,\n            translateY: 0,\n            scale: 1\n        });\n        (0, $djimy.onMounted)(()=>{\n            (0, $hWymx.strict)(outerElement.value !== null);\n            const outerElementValue = outerElement.value;\n            const handleResize = ()=>{\n                const rect = outerElementValue.getBoundingClientRect();\n                const scale = Math.min(rect.width / props.targetSize.width, rect.height / props.targetSize.height);\n                transformInfo.value = {\n                    translateX: rect.width / 2,\n                    translateY: rect.height / 2,\n                    scale: scale\n                };\n                emit(\"resize\", scale);\n            };\n            const observer = new ResizeObserver(handleResize);\n            observer.observe(outerElementValue);\n            handleResize();\n            (0, $djimy.onUnmounted)(()=>observer.disconnect());\n        });\n        const __returned__ = {\n            props: props,\n            emit: emit,\n            outerElement: outerElement,\n            innerElement: innerElement,\n            transformInfo: transformInfo\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"9QxH9\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $72b31b861bff258e$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $72b31b861bff258e$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-70f7f0\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $72b31b861bff258e$var$_hoisted_1 = {\n    ref: \"outerElement\",\n    class: \"outer\"\n};\nfunction $72b31b861bff258e$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $72b31b861bff258e$var$_hoisted_1, [\n        (0, $djimy.createElementVNode)(\"div\", {\n            ref: \"innerElement\",\n            class: \"inner\",\n            style: (0, $djimy.normalizeStyle)({\n                \"--target-width\": $setup.props.targetSize.width,\n                \"--target-height\": $setup.props.targetSize.height,\n                \"--translate-x\": $setup.transformInfo.translateX,\n                \"--translate-y\": $setup.transformInfo.translateY,\n                \"--scale\": $setup.transformInfo.scale\n            })\n        }, [\n            (0, $djimy.renderSlot)(_ctx.$slots, \"default\")\n        ], 4)\n    ], 512);\n}\n\n});\n\nparcelRegister(\"f4glk\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $af83e81a6fab8a8b$export$2e2bcd8739ae039; });\nlet $af83e81a6fab8a8b$var$NOOP = ()=>{};\nvar $af83e81a6fab8a8b$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"bA8zD\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $86e9b5140c82a6be$export$2e2bcd8739ae039; });\nlet $86e9b5140c82a6be$var$script;\n\n\n\n\nlet $86e9b5140c82a6be$var$initialize = ()=>{\n    $86e9b5140c82a6be$var$script = (parcelRequire(\"k9l3C\"));\n    if ($86e9b5140c82a6be$var$script.__esModule) $86e9b5140c82a6be$var$script = $86e9b5140c82a6be$var$script.default;\n    $86e9b5140c82a6be$var$script.render = (parcelRequire(\"dWDNN\")).render;\n    $86e9b5140c82a6be$var$script.__cssModules = {};\n    (parcelRequire(\"hfCe3\")).default($86e9b5140c82a6be$var$script);\n    $86e9b5140c82a6be$var$script.__scopeId = \"data-v-f20b9f\";\n    $86e9b5140c82a6be$var$script.__file = \"PointerMarkerPanel.vue\";\n};\n$86e9b5140c82a6be$var$initialize();\nvar $86e9b5140c82a6be$export$2e2bcd8739ae039 = $86e9b5140c82a6be$var$script;\n\n});\nparcelRegister(\"k9l3C\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $10959303488fabde$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $dLTM2 = parcelRequire(\"dLTM2\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\n\nvar $02fmQ = parcelRequire(\"02fmQ\");\nvar $10959303488fabde$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"PointerMarkerPanel\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const appStore = (0, $f4LB1.useAppStore)();\n        const { markerPositions: markerPositions, addMarker: addMarker, moveMarker: moveMarker } = (0, $02fmQ.useMarkerStore)();\n        const pointerMarkers = (0, $9OMm5.useArrayFilter)(markerPositions, ({ id: id })=>id.startsWith(\"pointer-marker-\"));\n        (0, $7Rjir.POINTER_MARKER_COORDINATES).forEach(({ x: x, y: y }, i)=>addMarker({\n                id: `pointer-marker-${i}`,\n                x: x,\n                y: y\n            }));\n        const offsets = new Map();\n        const onPointerDown = (event, m)=>{\n            const { target: target } = event;\n            (0, $hWymx.strict)(target instanceof HTMLElement);\n            target.setPointerCapture(event.pointerId);\n            const offset = {\n                x: event.clientX / appStore.scale - m.x,\n                y: event.clientY / appStore.scale - m.y\n            };\n            offsets.set(m.id, offset);\n        };\n        const onPointerMove = (event, m)=>{\n            const { target: target } = event;\n            (0, $hWymx.strict)(target instanceof HTMLElement);\n            if (!target.hasPointerCapture(event.pointerId)) return;\n            const offset = offsets.get(m.id);\n            (0, $hWymx.strict)(typeof offset !== \"undefined\");\n            // eslint-disable-next-line no-param-reassign\n            const x = event.clientX / appStore.scale - offset.x;\n            const y = event.clientY / appStore.scale - offset.y;\n            moveMarker({\n                id: m.id,\n                x: x,\n                y: y\n            });\n        };\n        const onPointerUpOrCancel = (event, _)=>{\n            const { target: target } = event;\n            (0, $hWymx.strict)(target !== null && target instanceof HTMLElement);\n            target.releasePointerCapture(event.pointerId);\n        };\n        const __returned__ = {\n            appStore: appStore,\n            markerPositions: markerPositions,\n            addMarker: addMarker,\n            moveMarker: moveMarker,\n            pointerMarkers: pointerMarkers,\n            offsets: offsets,\n            onPointerDown: onPointerDown,\n            onPointerMove: onPointerMove,\n            onPointerUpOrCancel: onPointerUpOrCancel,\n            MarkerUnderlay: $dLTM2.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"7Rjir\", function(module, exports) {\n\n$parcel$export(module.exports, \"CONFIG_URLS\", function () { return $79212d24b42f8c0b$export$2b102c21fd8c3a14; });\n$parcel$export(module.exports, \"CONFIG_INJECTION_KEY\", function () { return $79212d24b42f8c0b$export$2d4baac05ba5050f; });\n$parcel$export(module.exports, \"BOARD_WIDTH\", function () { return $79212d24b42f8c0b$export$eefabe5abfdf297; });\n$parcel$export(module.exports, \"BOARD_HEIGHT\", function () { return $79212d24b42f8c0b$export$c89d6b8b907791b2; });\n$parcel$export(module.exports, \"MARKER_CIRCLE_DIAMETER\", function () { return $79212d24b42f8c0b$export$635192e5cc7a5655; });\n$parcel$export(module.exports, \"NUM_POINTER_MARKERS\", function () { return $79212d24b42f8c0b$export$633ebe01a9307f62; });\n$parcel$export(module.exports, \"POINTER_MARKER_COORDINATES\", function () { return $79212d24b42f8c0b$export$f983e279e6a51323; });\n$parcel$export(module.exports, \"SLOT_CIRCLE_DIAMETER\", function () { return $79212d24b42f8c0b$export$f44b5656cfdd52c7; });\n$parcel$export(module.exports, \"HOTKEYS\", function () { return $79212d24b42f8c0b$export$e82355d5f8b7b656; });\nconst $79212d24b42f8c0b$export$3b1418b0273134fc = new URL(\"./config/\", window.location.href);\nconst $79212d24b42f8c0b$export$feeb00bdeba6b9a4 = [\n    \"general.yaml\",\n    \"model.yaml\",\n    \"simulation.yaml\",\n    \"parameter-transforms.yaml\",\n    \"interaction.yaml\",\n    \"layers.yaml\"\n];\nconst $79212d24b42f8c0b$export$2b102c21fd8c3a14 = $79212d24b42f8c0b$export$feeb00bdeba6b9a4.map((name)=>new URL(name, $79212d24b42f8c0b$export$3b1418b0273134fc));\nconst $79212d24b42f8c0b$export$2d4baac05ba5050f = Symbol(\"config injection key\");\nconst $79212d24b42f8c0b$export$eefabe5abfdf297 = 3840;\nconst $79212d24b42f8c0b$export$c89d6b8b907791b2 = 2160;\nconst $79212d24b42f8c0b$export$e8bab16815da12e2 = 1209.6;\nconst $79212d24b42f8c0b$export$49d54b40bae01d28 = 74.3;\nconst $79212d24b42f8c0b$export$635192e5cc7a5655 = $79212d24b42f8c0b$export$eefabe5abfdf297 * $79212d24b42f8c0b$export$49d54b40bae01d28 / $79212d24b42f8c0b$export$e8bab16815da12e2;\nconst $79212d24b42f8c0b$export$633ebe01a9307f62 = 8;\nconst $79212d24b42f8c0b$export$f983e279e6a51323 = new Array($79212d24b42f8c0b$export$633ebe01a9307f62).fill(0).map(()=>({\n        x: 180,\n        y: 260\n    }));\nconst $79212d24b42f8c0b$export$f44b5656cfdd52c7 = $79212d24b42f8c0b$export$635192e5cc7a5655;\nconst $79212d24b42f8c0b$export$e82355d5f8b7b656 = {\n    run: {\n        key: \" \",\n        label: \"space\"\n    },\n    controlPanel: {\n        key: \"c\",\n        label: \"c\"\n    },\n    developerMode: {\n        key: \"d\",\n        label: \"d\"\n    },\n    fullscreen: {\n        key: \"f\",\n        label: \"f\"\n    },\n    highlightDerivatives: {\n        key: \"h\",\n        label: \"h\"\n    }\n};\n\n});\n\nparcelRegister(\"dLTM2\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $a06aeda8c0ab6070$export$2e2bcd8739ae039; });\nlet $a06aeda8c0ab6070$var$script;\n\n\n\n\nlet $a06aeda8c0ab6070$var$initialize = ()=>{\n    $a06aeda8c0ab6070$var$script = (parcelRequire(\"kpnqw\"));\n    if ($a06aeda8c0ab6070$var$script.__esModule) $a06aeda8c0ab6070$var$script = $a06aeda8c0ab6070$var$script.default;\n    $a06aeda8c0ab6070$var$script.render = (parcelRequire(\"awOVi\")).render;\n    $a06aeda8c0ab6070$var$script.__cssModules = {};\n    (parcelRequire(\"cdnTT\")).default($a06aeda8c0ab6070$var$script);\n    $a06aeda8c0ab6070$var$script.__scopeId = \"data-v-9f6c2c\";\n    $a06aeda8c0ab6070$var$script.__file = \"MarkerUnderlay.vue\";\n};\n$a06aeda8c0ab6070$var$initialize();\nvar $a06aeda8c0ab6070$export$2e2bcd8739ae039 = $a06aeda8c0ab6070$var$script;\n\n});\nparcelRegister(\"kpnqw\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $846b478b0b125147$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\nvar $846b478b0b125147$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"MarkerUnderlay\",\n    props: {\n        markerId: {},\n        x: {},\n        y: {}\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const appStore = (0, $f4LB1.useAppStore)();\n        const props = __props;\n        const __returned__ = {\n            appStore: appStore,\n            props: props,\n            get MARKER_CIRCLE_DIAMETER () {\n                return 0, $7Rjir.MARKER_CIRCLE_DIAMETER;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"f4LB1\", function(module, exports) {\n\n$parcel$export(module.exports, \"useAppStore\", function () { return $32cab0daf3d2e700$export$35cd30506bcba883; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $flGFW = parcelRequire(\"flGFW\");\nconst $32cab0daf3d2e700$export$35cd30506bcba883 = (0, $kV0Ly.defineStore)(\"app\", ()=>{\n    const optionStore = (0, $flGFW.useOptionStore)();\n    const isPlaying = (0, $djimy.ref)(optionStore.autoStart);\n    const isFullscreen = (0, $djimy.ref)(false);\n    const isDeveloperModeActive = (0, $djimy.ref)(optionStore.developerMode);\n    const highlightDerivatives = (0, $djimy.ref)(optionStore.highlightDerivatives);\n    const scale = (0, $djimy.ref)(1);\n    return {\n        isPlaying: isPlaying,\n        isFullscreen: isFullscreen,\n        isDeveloperModeActive: isDeveloperModeActive,\n        highlightDerivatives: highlightDerivatives,\n        scale: scale\n    };\n});\n\n});\nparcelRegister(\"flGFW\", function(module, exports) {\n\n$parcel$export(module.exports, \"useOptionStore\", function () { return $e7dc2931e5db5cc8$export$60f4650a311a4bd4; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\nconst $e7dc2931e5db5cc8$export$60f4650a311a4bd4 = (0, $kV0Ly.defineStore)(\"options\", ()=>{\n    const searchParams = new URLSearchParams(window.location.search);\n    const useTuioMarkers = (searchParams.get(\"tuio\") ?? \"true\") === \"true\";\n    const usePointerMarkers = (searchParams.get(\"pointer\") ?? \"false\") === \"true\";\n    const numPointerMarkers = Number.parseInt(searchParams.get(\"numPointerMarkers\") ?? `${0, $7Rjir.NUM_POINTER_MARKERS}`, 10);\n    const tuioUrl = searchParams.get(\"tuioUrl\") ?? \"ws://localhost:3339\";\n    const tuioReconnectionDelayMs = Number.parseInt(searchParams.get(\"tuioReconnectionDelay\") ?? \"10\", 10) * 1000;\n    const autoStart = (searchParams.get(\"autoStart\") ?? \"true\") === \"true\";\n    const developerMode = (searchParams.get(\"devMode\") ?? \"false\") === \"true\";\n    const highlightDerivatives = (searchParams.get(\"highlightDerivatives\") ?? \"false\") === \"true\";\n    const result = {\n        useTuioMarkers: useTuioMarkers,\n        usePointerMarkers: usePointerMarkers,\n        numPointerMarkers: numPointerMarkers,\n        tuioUrl: tuioUrl,\n        tuioReconnectionDelayMs: tuioReconnectionDelayMs,\n        autoStart: autoStart,\n        developerMode: developerMode,\n        highlightDerivatives: highlightDerivatives\n    };\n    return result;\n});\n\n});\n\n\n\nparcelRegister(\"awOVi\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $7aa464cf12ea4d55$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $7aa464cf12ea4d55$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-9f6c2c\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $7aa464cf12ea4d55$var$_hoisted_1 = /*#__PURE__*/ $7aa464cf12ea4d55$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"div\", {\n        class: \"circle\"\n    }, null, -1));\nconst $7aa464cf12ea4d55$var$_hoisted_2 = {\n    key: 0\n};\nfunction $7aa464cf12ea4d55$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        class: \"marker\",\n        style: (0, $djimy.normalizeStyle)({\n            \"--marker-position-x\": $setup.props.x,\n            \"--marker-position-y\": $setup.props.y,\n            \"--marker-diameter\": $setup.MARKER_CIRCLE_DIAMETER\n        })\n    }, [\n        $7aa464cf12ea4d55$var$_hoisted_1,\n        $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"span\", $7aa464cf12ea4d55$var$_hoisted_2, (0, $djimy.toDisplayString)($setup.props.markerId), 1)) : (0, $djimy.createCommentVNode)(\"\", true)\n    ], 4);\n}\n\n});\n\nparcelRegister(\"cdnTT\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $8e493d15ea3076d6$export$2e2bcd8739ae039; });\nlet $8e493d15ea3076d6$var$NOOP = ()=>{};\nvar $8e493d15ea3076d6$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"02fmQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"useMarkerStore\", function () { return $211e460fa0ebe353$export$190b5ce5ec6b71c; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $flGFW = parcelRequire(\"flGFW\");\n\nvar $46h5Q = parcelRequire(\"46h5Q\");\nparcelRequire(\"h1KQv\");\nvar $4Bz8r = parcelRequire(\"4Bz8r\");\n\nvar $le1Q3 = parcelRequire(\"le1Q3\");\nconst $211e460fa0ebe353$export$190b5ce5ec6b71c = (0, $kV0Ly.defineStore)(\"marker\", ()=>{\n    const options = (0, $flGFW.useOptionStore)();\n    const markerPositions = (0, $djimy.ref)(new Array());\n    const removeMarker = (m)=>{\n        let index = -1;\n        do {\n            index = markerPositions.value.findIndex(({ id: id })=>id === m.id);\n            if (index !== -1) markerPositions.value.splice(index, 1);\n        }while (index !== -1);\n    };\n    const addMarker = (m)=>{\n        removeMarker(m);\n        markerPositions.value.push({\n            ...m\n        });\n    };\n    const moveMarker = (m)=>{\n        const movedMarker = markerPositions.value.find(({ id: id })=>id === m.id);\n        if (typeof movedMarker === \"undefined\") {\n            addMarker(m);\n            return;\n        }\n        movedMarker.x = m.x;\n        movedMarker.y = m.y;\n    };\n    // TODO: Factor out the TUIO stuff into separate composable\n    const tuio11EventEmitter = new (0, $46h5Q.Tuio11EventEmitter)();\n    if (options.useTuioMarkers) {\n        const client = new (0, $4Bz8r.Tuio11Client)(new (0, $le1Q3.WebsocketTuioReceiverExt)(options.tuioUrl, options.tuioReconnectionDelayMs));\n        client.addTuioListener(tuio11EventEmitter);\n        /*\n     * FIXME:\n     *   This is a workaround to not miss the initial marker events that are emitted directly after the connection is\n     *   established.\n     */ setTimeout(()=>client.connect(), 0);\n    }\n    tuio11EventEmitter.on(\"tuio-object-add\", (tuioObject)=>{\n        addMarker({\n            id: `tuio-${tuioObject.sessionId}`,\n            x: tuioObject.xPos * (0, $7Rjir.BOARD_WIDTH),\n            y: tuioObject.yPos * (0, $7Rjir.BOARD_HEIGHT)\n        });\n    });\n    tuio11EventEmitter.on(\"tuio-object-update\", (tuioObject)=>{\n        moveMarker({\n            id: `tuio-${tuioObject.sessionId}`,\n            x: tuioObject.xPos * (0, $7Rjir.BOARD_WIDTH),\n            y: tuioObject.yPos * (0, $7Rjir.BOARD_HEIGHT)\n        });\n    });\n    tuio11EventEmitter.on(\"tuio-object-remove\", (tuioObject)=>{\n        removeMarker({\n            id: `tuio-${tuioObject.sessionId}`,\n            x: tuioObject.xPos * (0, $7Rjir.BOARD_WIDTH),\n            y: tuioObject.yPos * (0, $7Rjir.BOARD_HEIGHT)\n        });\n    });\n    return {\n        markerPositions: (0, $djimy.readonly)(markerPositions),\n        removeMarker: removeMarker,\n        addMarker: addMarker,\n        moveMarker: moveMarker\n    };\n});\n\n});\nparcelRegister(\"46h5Q\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11EventEmitter\", function () { return $79791ffeac0c565b$export$228c2695e2750e70; });\n\nvar $3ZGF0 = parcelRequire(\"3ZGF0\");\nclass $79791ffeac0c565b$export$228c2695e2750e70 extends (0, $3ZGF0.EventEmitter) {\n    addTuioObject(tuioObject) {\n        this.emit(\"tuio-object-add\", tuioObject);\n    }\n    updateTuioObject(tuioObject) {\n        this.emit(\"tuio-object-update\", tuioObject);\n    }\n    removeTuioObject(tuioObject) {\n        this.emit(\"tuio-object-remove\", tuioObject);\n    }\n    addTuioCursor(tuioCursor) {\n        this.emit(\"tuio-cursor-add\", tuioCursor);\n    }\n    updateTuioCursor(tuioCursor) {\n        this.emit(\"tuio-cursor-update\", tuioCursor);\n    }\n    removeTuioCursor(tuioCursor) {\n        this.emit(\"tuio-cursor-remove\", tuioCursor);\n    }\n    addTuioBlob(tuioBlob) {\n        this.emit(\"tuio-blob-add\", tuioBlob);\n    }\n    updateTuioBlob(tuioBlob) {\n        this.emit(\"tuio-blob-update\", tuioBlob);\n    }\n    removeTuioBlob(tuioBlob) {\n        this.emit(\"tuio-blob-remove\", tuioBlob);\n    }\n    refresh(frameTime) {\n        this.emit(\"refresh\", frameTime);\n    }\n}\n\n});\n\nparcelRegister(\"h1KQv\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Client\", function () { return (parcelRequire(\"4Bz8r\")).Tuio11Client; });\nparcelRequire(\"7oQXN\");\nvar $4Bz8r = parcelRequire(\"4Bz8r\");\n\n});\nparcelRegister(\"7oQXN\", function(module, exports) {\n\n$parcel$export(module.exports, \"TuioReceiver\", function () { return (parcelRequire(\"bNthR\")).TuioReceiver; });\n$parcel$export(module.exports, \"Tuio11Client\", function () { return (parcelRequire(\"4Bz8r\")).Tuio11Client; });\n/// <reference path=\"./index.d.ts\" />\n// common code\n\nvar $aepZW = parcelRequire(\"aepZW\");\n\nvar $bNthR = parcelRequire(\"bNthR\");\n\nvar $2SMZK = parcelRequire(\"2SMZK\");\n\nvar $bSOPx = parcelRequire(\"bSOPx\");\n\nvar $4IIOm = parcelRequire(\"4IIOm\");\n\nvar $2Cyxe = parcelRequire(\"2Cyxe\");\n\nvar $4Bz8r = parcelRequire(\"4Bz8r\");\n\nvar $cmRMF = parcelRequire(\"cmRMF\");\n\nvar $02co9 = parcelRequire(\"02co9\");\n\nvar $b3X4E = parcelRequire(\"b3X4E\");\n\nvar $1lgn3 = parcelRequire(\"1lgn3\");\n /* Exclude TUIO 2.0 code for now\n// TUIO 2.0 code\nimport { Tuio20Bounds } from './tuio20/Tuio20Bounds.js';\nimport { Tuio20Client } from './tuio20/Tuio20Client.js';\nimport { Tuio20Component } from './tuio20/Tuio20Component.js';\nimport { Tuio20Object } from './tuio20/Tuio20Object.js';\nimport { Tuio20Point } from './tuio20/Tuio20Point.js';\nimport { Tuio20Pointer } from './tuio20/Tuio20Pointer.js';\nimport { Tuio20Symbol } from './tuio20/Tuio20Symbol.js';\nimport { Tuio20Token } from './tuio20/Tuio20Token.js';\n\nexport {\n  Tuio20Bounds,\n  Tuio20Client,\n  Tuio20Component,\n  Tuio20Object,\n  Tuio20Point,\n  Tuio20Pointer,\n  Tuio20Symbol,\n  Tuio20Token,\n};\n*/ \n});\nparcelRegister(\"aepZW\", function(module, exports) {\nclass $772f60e1750256f5$export$28f0a315f845fe05 {\n    static UDP = new $772f60e1750256f5$export$28f0a315f845fe05(\"UDP\");\n    static Websocket = new $772f60e1750256f5$export$28f0a315f845fe05(\"Websocket\");\n    constructor(name){\n        this.name = name;\n    }\n    toString() {\n        return `TuioConnectionType.${this.name}`;\n    }\n}\n\n});\n\nparcelRegister(\"bNthR\", function(module, exports) {\n\n$parcel$export(module.exports, \"TuioReceiver\", function () { return $0237672df630eb01$export$1d174becd7383320; });\nclass $0237672df630eb01$export$1d174becd7383320 {\n    constructor(){\n        this._isConnected = false;\n        this._messageListeners = {};\n    }\n    connect() {}\n    disconnect() {}\n    onOscMessage(oscMessage) {\n        let messageListeners = this._messageListeners[oscMessage.address];\n        if (messageListeners !== undefined) for (let messageListener of messageListeners)messageListener(oscMessage);\n    }\n    addMessageListener(address, callback) {\n        if (!(address in this._messageListeners)) this._messageListeners[address] = [];\n        this._messageListeners[address].push(callback);\n    }\n}\n\n});\n\nparcelRegister(\"2SMZK\", function(module, exports) {\n\n$parcel$export(module.exports, \"TuioState\", function () { return $2196a14ad8312b8c$export$e8c7defc8ed7d61c; });\nclass $2196a14ad8312b8c$export$e8c7defc8ed7d61c {\n    static Added = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Added\");\n    static Accelerating = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Accelerating\");\n    static Decelerating = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Decelerating\");\n    static Stopped = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Stopped\");\n    static Removed = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Removed\");\n    static Rotating = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Rotating\");\n    static Idle = new $2196a14ad8312b8c$export$e8c7defc8ed7d61c(\"Idle\");\n    constructor(name){\n        this.name = name;\n    }\n    toString() {\n        return `TuioState.${this.name}`;\n    }\n}\n\n});\n\nparcelRegister(\"bSOPx\", function(module, exports) {\n\n$parcel$export(module.exports, \"TuioTime\", function () { return $8a6c2aafea9e66e6$export$c9434b8ebedd3127; });\nclass $8a6c2aafea9e66e6$export$c9434b8ebedd3127 {\n    static _startTime = new $8a6c2aafea9e66e6$export$c9434b8ebedd3127(0, 0);\n    constructor(seconds, microSeconds){\n        this._seconds = seconds;\n        this._microSeconds = microSeconds;\n    }\n    static fromOscTime(oscTime) {\n        let seconds = oscTime.raw[0];\n        let microseconds = oscTime.raw[1] / 4294967296;\n        return new $8a6c2aafea9e66e6$export$c9434b8ebedd3127(seconds, microseconds);\n    }\n    subtract(tuioTime) {\n        let seconds = this._seconds - tuioTime._seconds;\n        let microSeconds = this._microSeconds - tuioTime._microSeconds;\n        if (microSeconds < 0) {\n            microSeconds += 1000000;\n            seconds = seconds - 1;\n        }\n        return new $8a6c2aafea9e66e6$export$c9434b8ebedd3127(seconds, microSeconds);\n    }\n    getTotalMilliseconds() {\n        return 1000 * this._seconds + this._microSeconds / 1000;\n    }\n    static init() {\n        $8a6c2aafea9e66e6$export$c9434b8ebedd3127._startTime = $8a6c2aafea9e66e6$export$c9434b8ebedd3127._getSystemTime();\n    }\n    static _getSystemTime() {\n        let performanceNow = performance.now();\n        return new $8a6c2aafea9e66e6$export$c9434b8ebedd3127(Math.floor(performanceNow / 1000), Math.floor(performanceNow * 1000) % 1000000);\n    }\n    static getCurrentTime() {\n        return $8a6c2aafea9e66e6$export$c9434b8ebedd3127._getSystemTime().subtract($8a6c2aafea9e66e6$export$c9434b8ebedd3127._startTime);\n    }\n}\n\n});\n\nparcelRegister(\"4IIOm\", function(module, exports) {\n\nvar $9iGn8 = parcelRequire(\"9iGn8\");\n\nvar $bNthR = parcelRequire(\"bNthR\");\nclass $36fe0816a50400bb$export$1f079ef135f2f13d extends (0, $bNthR.TuioReceiver) {\n    constructor(url){\n        super();\n        this._oscPort = new $9iGn8.WebSocketPort({\n            url: url,\n            metadata: true\n        });\n    }\n    connect() {\n        this._oscPort.open();\n        this._isConnected = true;\n        this._oscPort.on(\"message\", (function(oscMessage) {\n            this.onOscMessage(oscMessage);\n        }).bind(this));\n    }\n    disconnect() {\n        this._oscPort.close();\n        this._isConnected = false;\n    }\n}\n\n});\n\nparcelRegister(\"2Cyxe\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Blob\", function () { return $1e89eb4ee9dfa7e6$export$c1c6b3d395fb2eb; });\n\nvar $cmRMF = parcelRequire(\"cmRMF\");\n\nvar $2SMZK = parcelRequire(\"2SMZK\");\nclass $1e89eb4ee9dfa7e6$export$c1c6b3d395fb2eb extends (0, $cmRMF.Tuio11Container) {\n    constructor(startTime, blobId, symbolId, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        super(startTime, blobId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._blobId = blobId;\n        this._angle = angle;\n        this._width = width;\n        this._height = height;\n        this._area = area;\n        this._rotationSpeed = rotationSpeed;\n        this._rotationAccel = rotationAccel;\n    }\n    get blobId() {\n        return this._blobId;\n    }\n    get angle() {\n        return this._angle;\n    }\n    get width() {\n        return this._angle;\n    }\n    get height() {\n        return this._angle;\n    }\n    get area() {\n        return this._angle;\n    }\n    get rotationSpeed() {\n        return this._rotationSpeed;\n    }\n    get rotationAccel() {\n        return this._rotationAccel;\n    }\n    _hasChanged(currentTime, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        return !(xPos === this.xPos && yPos === this.yPos && angle === this.angle && width === this.width && height === this.height && area === this.area && xSpeed === this.xSpeed && ySpeed === this.ySpeed && rotationSpeed === this.rotationSpeed && motionAccel === this.motionAccel && rotationAccel === this.rotationAccel);\n    }\n    _update(currentTime, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        let lastPoint = this.path[this.path.length - 1];\n        let isCalculateSpeeds = xPos !== this.xPos && xSpeed === 0 || yPos !== this.yPos && ySpeed === 0;\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n        let isCalculateRotation = angle !== this.angle && rotationSpeed === 0;\n        if (isCalculateRotation) {\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds() / 1000.0;\n            let lastAngle = this.angle;\n            let lastRotationSpeed = this.rotationSpeed;\n            let da = (angle - lastAngle) / (2 * Math.PI);\n            if (da > 0.5) da -= 1;\n            else if (da <= -0.5) da += 1;\n            this._rotationSpeed = da / dt;\n            this._rotationAccel = (this.rotationSpeed - lastRotationSpeed) / dt;\n        } else {\n            this._rotationSpeed = rotationSpeed;\n            this._rotationAccel = rotationAccel;\n        }\n        this._angle = angle;\n        if (this._state !== (0, $2SMZK.TuioState).Stopped && this.rotationAccel !== 0) this._state = (0, $2SMZK.TuioState).Rotating;\n        this._width = width;\n        this._height = height;\n        this._area = area;\n    }\n}\n\n});\nparcelRegister(\"cmRMF\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Container\", function () { return $9011427d9ef946ab$export$7a903d80da36dab7; });\n\nvar $1lgn3 = parcelRequire(\"1lgn3\");\n\nvar $2SMZK = parcelRequire(\"2SMZK\");\nclass $9011427d9ef946ab$export$7a903d80da36dab7 extends (0, $1lgn3.Tuio11Point) {\n    MAX_PATH_LENGTH = 128;\n    constructor(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel){\n        super(startTime, xPos, yPos);\n        this._currentTime = startTime;\n        this._sessionId = sessionId;\n        this._xSpeed = xSpeed;\n        this._ySpeed = ySpeed;\n        this._motionSpeed = Math.sqrt(xSpeed * xSpeed + ySpeed * ySpeed);\n        this._motionAccel = motionAccel;\n        this._state = (0, $2SMZK.TuioState).Added;\n        this._prevPoints = [];\n        this._prevPoints.push(new (0, $1lgn3.Tuio11Point)(startTime, xPos, yPos));\n    }\n    get currentTime() {\n        return this._currentTime;\n    }\n    get sessionId() {\n        return this._sessionId;\n    }\n    get xSpeed() {\n        return this._xSpeed;\n    }\n    get ySpeed() {\n        return this._ySpeed;\n    }\n    get motionSpeed() {\n        return this._motionSpeed;\n    }\n    get motionAccel() {\n        return this._motionAccel;\n    }\n    get state() {\n        return this._state;\n    }\n    get path() {\n        return this._prevPoints;\n    }\n    _updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds) {\n        let lastPoint = this.path[this.path.length - 1];\n        this._xPos = xPos;\n        this._yPos = yPos;\n        if (isCalculateSpeeds) {\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds() / 1000.0;\n            let dx = this.xPos - lastPoint.xPos;\n            let dy = this.yPos - lastPoint.yPos;\n            let dist = Math.sqrt(dx * dx + dy * dy);\n            let lastMotionSpeed = this.motionSpeed;\n            this._xSpeed = dx / dt;\n            this._ySpeed = dy / dt;\n            this._motionSpeed = dist / dt;\n            this._motionAccel = (this.motionSpeed - lastMotionSpeed) / dt;\n        } else {\n            this._xSpeed = xSpeed;\n            this._ySpeed = ySpeed;\n            this._motionSpeed = Math.sqrt(xSpeed * xSpeed + ySpeed * ySpeed);\n            this._motionAccel = motionAccel;\n        }\n        this._currentTime = currentTime;\n        this._prevPoints.push(new (0, $1lgn3.Tuio11Point)(currentTime, xPos, yPos));\n        if (this._prevPoints.length > this.MAX_PATH_LENGTH) this._prevPoints.shift();\n        if (this._motionAccel > 0) this._state = (0, $2SMZK.TuioState).Accelerating;\n        else if (this._motionAccel < 0) this._state = (0, $2SMZK.TuioState).Decelerating;\n        else this._state = (0, $2SMZK.TuioState).Stopped;\n    }\n    _remove(currentTime) {\n        this._currentTime = currentTime;\n        this._state = (0, $2SMZK.TuioState).Removed;\n    }\n}\n\n});\nparcelRegister(\"1lgn3\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Point\", function () { return $0fa47383898c1af0$export$2ae129cdfdb48009; });\nclass $0fa47383898c1af0$export$2ae129cdfdb48009 {\n    constructor(startTime, xPos, yPos){\n        this._startTime = startTime;\n        this._xPos = xPos;\n        this._yPos = yPos;\n    }\n    get startTime() {\n        return this._startTime;\n    }\n    get xPos() {\n        return this._xPos;\n    }\n    get yPos() {\n        return this._yPos;\n    }\n}\n\n});\n\n\n\nparcelRegister(\"4Bz8r\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Client\", function () { return $35a5df3efa823680$export$f69bbf3abdc617d6; });\n\nvar $b3X4E = parcelRequire(\"b3X4E\");\n\nvar $02co9 = parcelRequire(\"02co9\");\n\nvar $2Cyxe = parcelRequire(\"2Cyxe\");\n\nvar $bSOPx = parcelRequire(\"bSOPx\");\nclass $35a5df3efa823680$export$f69bbf3abdc617d6 {\n    constructor(tuioReceiver){\n        this._tuioReceiver = tuioReceiver;\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dobj\", this._on2Dobj.bind(this));\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dcur\", this._on2Dcur.bind(this));\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dblb\", this._on2Dblb.bind(this));\n        this._tuioListeners = [];\n        this._tuioObjects = new Map();\n        this._tuioCursors = new Map();\n        this._tuioBlobs = new Map();\n        this._objectSetMessages = [];\n        this._cursorSetMessages = [];\n        this._blobSetMessages = [];\n        this._objectAliveMessage = null;\n        this._cursorAliveMessage = null;\n        this._blobAliveMessage = null;\n        this._freeCursorIds = [];\n        this._freeBlobIds = [];\n        this._currentFrame = 0;\n        this._currentTime = null;\n    }\n    connect() {\n        (0, $bSOPx.TuioTime).init();\n        this._currentTime = (0, $bSOPx.TuioTime).getCurrentTime();\n        this._tuioReceiver.connect();\n    }\n    disconnect() {\n        this._tuioReceiver.disconnect();\n    }\n    addTuioListener(tuioListener) {\n        this._tuioListeners.push(tuioListener);\n    }\n    removeTuioListener(tuioListener) {\n        let index = this._tuioListeners.indexOf(tuioListener);\n        if (index > -1) this._tuioListeners.splice(index, 1);\n    }\n    removeAllTuioListeners() {\n        this._tuioListeners = [];\n    }\n    getTuioObjects() {\n        return this._tuioObjects.values();\n    }\n    getTuioCursors() {\n        return this._tuioCursors.values();\n    }\n    getTuioBlobs() {\n        return this._tuioBlobs.values();\n    }\n    getTuioObject(sessionId) {\n        let ret = this._tuioObjects.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n    getTuioCursor(sessionId) {\n        let ret = this._tuioCursors.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n    getTuioBlob(sessionId) {\n        let ret = this._tuioBlobs.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n    _updateFrame(fseq) {\n        let currentTime = (0, $bSOPx.TuioTime).getCurrentTime();\n        if (fseq > 0) {\n            if (fseq > this._currentFrame) this._currentTime = currentTime;\n            if (fseq >= this._currentFrame || this._currentFrame - fseq > 100) this._currentFrame = fseq;\n            else return false;\n        } else if (currentTime.subtract(this._currentTime).getTotalMilliseconds() > 100) this._currentTime = currentTime;\n        return true;\n    }\n    _on2Dobj(oscMessage) {\n        let command = oscMessage.args[0].value;\n        if (command === \"set\") this._objectSetMessages.push(oscMessage);\n        else if (command === \"alive\") this._objectAliveMessage = oscMessage;\n        else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if (this._updateFrame(fseq)) {\n                if (this._objectAliveMessage !== null) {\n                    let currentSessionIds = new Set(this._tuioObjects.keys());\n                    let aliveSessionIds = new Set(this._objectAliveMessage.args.slice(1).map((arg)=>arg.value));\n                    let removedSessionIds = new Set([\n                        ...currentSessionIds\n                    ].filter((x)=>!aliveSessionIds.has(x)));\n                    for (let sessionId of removedSessionIds){\n                        let tuioObject = this._tuioObjects.get(sessionId);\n                        tuioObject._remove(this._currentTime);\n                        for (let tuioListener of this._tuioListeners)tuioListener.removeTuioObject(tuioObject);\n                        this._tuioObjects.delete(sessionId);\n                    }\n                    for (let setMessage of this._objectSetMessages){\n                        let [, s, i, x, y, a, X, Y, A, m, r] = setMessage.args.map((arg)=>arg.value);\n                        if (aliveSessionIds.has(s)) {\n                            if (currentSessionIds.has(s)) {\n                                let tuioObject = this._tuioObjects.get(s);\n                                if (tuioObject._hasChanged(this._currentTime, x, y, a, X, Y, A, m, r)) {\n                                    tuioObject._update(this._currentTime, x, y, a, X, Y, A, m, r);\n                                    for (let tuioListener of this._tuioListeners)tuioListener.updateTuioObject(tuioObject);\n                                }\n                            } else {\n                                let tuioObject = new (0, $b3X4E.Tuio11Object)(this._currentTime, s, i, x, y, a, X, Y, A, m, r);\n                                this._tuioObjects.set(s, tuioObject);\n                                for (let tuioListener of this._tuioListeners)tuioListener.addTuioObject(tuioObject);\n                            }\n                        }\n                    }\n                    for (let tuioListener of this._tuioListeners)tuioListener.refresh(this._currentTime);\n                }\n                this._objectSetMessages = [];\n                this._objectAliveMessage = null;\n            }\n        }\n    }\n    _on2Dcur(oscMessage) {\n        let command = oscMessage.args[0].value;\n        if (command === \"set\") this._cursorSetMessages.push(oscMessage);\n        else if (command === \"alive\") this._cursorAliveMessage = oscMessage;\n        else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if (this._updateFrame(fseq)) {\n                if (this._cursorAliveMessage !== null) {\n                    let currentSessionIds = new Set(this._tuioCursors.keys());\n                    let aliveSessionIds = new Set(this._cursorAliveMessage.args.slice(1).map((arg)=>arg.value));\n                    let removedSessionIds = new Set([\n                        ...currentSessionIds\n                    ].filter((x)=>!aliveSessionIds.has(x)));\n                    for (let sessionId of removedSessionIds){\n                        let tuioCursor = this._tuioCursors.get(sessionId);\n                        tuioCursor._remove(this._currentTime);\n                        for (let tuioListener of this._tuioListeners)tuioListener.removeTuioCursor(tuioCursor);\n                        this._tuioCursors.delete(sessionId);\n                        this._freeCursorIds.push(tuioCursor.cursorId);\n                    }\n                    this._freeCursorIds.sort();\n                    for (let setMessage of this._cursorSetMessages){\n                        let [, s, x, y, X, Y, m] = setMessage.args.map((arg)=>arg.value);\n                        if (aliveSessionIds.has(s)) {\n                            if (currentSessionIds.has(s)) {\n                                let tuioCursor = this._tuioCursors.get(s);\n                                if (tuioCursor._hasChanged(this._currentTime, x, y, X, Y, m)) {\n                                    tuioCursor._update(this._currentTime, x, y, X, Y, m);\n                                    for (let tuioListener of this._tuioListeners)tuioListener.updateTuioCursor(tuioCursor);\n                                }\n                            } else {\n                                let cursorId = this._tuioCursors.size;\n                                if (this._freeCursorIds.length > 0) {\n                                    cursorId = this._freeCursorIds[0];\n                                    this._freeCursorIds.splice(0, 1);\n                                }\n                                let tuioCursor = new (0, $02co9.Tuio11Cursor)(this._currentTime, s, cursorId, x, y, X, Y, m);\n                                this._tuioCursors.set(s, tuioCursor);\n                                for (let tuioListener of this._tuioListeners)tuioListener.addTuioCursor(tuioCursor);\n                            }\n                        }\n                    }\n                    for (let tuioListener of this._tuioListeners)tuioListener.refresh(this._currentTime);\n                }\n                this._cursorSetMessages = [];\n                this._cursorAliveMessage = null;\n            }\n        }\n    }\n    _on2Dblb(oscMessage) {\n        let command = oscMessage.args[0].value;\n        if (command === \"set\") this._blobSetMessages.push(oscMessage);\n        else if (command === \"alive\") this._blobAliveMessage = oscMessage;\n        else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if (this._updateFrame(fseq)) {\n                if (this._blobAliveMessage !== null) {\n                    let currentSessionIds = new Set(this._tuioBlobs.keys());\n                    let aliveSessionIds = new Set(this._blobAliveMessage.args.slice(1).map((arg)=>arg.value));\n                    let removedSessionIds = new Set([\n                        ...currentSessionIds\n                    ].filter((x)=>!aliveSessionIds.has(x)));\n                    for (let sessionId of removedSessionIds){\n                        let tuioBlob = this._tuioBlobs.get(sessionId);\n                        tuioBlob._remove(this._currentTime);\n                        for (let tuioListener of this._tuioListeners)tuioListener.removeTuioBlob(tuioBlob);\n                        this._tuioBlobs.delete(sessionId);\n                        this._freeBlobIds.push(tuioBlob.blobId);\n                    }\n                    this._freeBlobIds.sort();\n                    for (let setMessage of this._blobSetMessages){\n                        let [, s, x, y, a, w, h, f, X, Y, A, m, r] = setMessage.args.map((arg)=>arg.value);\n                        if (aliveSessionIds.has(s)) {\n                            if (currentSessionIds.has(s)) {\n                                let tuioBlob = this._tuioBlobs.get(s);\n                                if (tuioBlob._hasChanged(this._currentTime, x, y, a, w, h, f, X, Y, A, m, r)) {\n                                    tuioBlob._update(this._currentTime, x, y, a, w, h, f, X, Y, A, m, r);\n                                    for (let tuioListener of this._tuioListeners)tuioListener.updateTuioBlob(tuioBlob);\n                                }\n                            } else {\n                                let blobId = this._tuioBlobs.size;\n                                if (this._freeBlobIds.length > 0) {\n                                    blobId = this._freeBlobIds[0];\n                                    this._freeBlobIds.splice(0, 1);\n                                }\n                                let tuioBlob = new (0, $2Cyxe.Tuio11Blob)(this._currentTime, s, blobId, x, y, a, w, h, f, X, Y, A, m, r);\n                                this._tuioBlobs.set(s, tuioBlob);\n                                for (let tuioListener of this._tuioListeners)tuioListener.addTuioBlob(tuioBlob);\n                            }\n                        }\n                    }\n                    for (let tuioListener of this._tuioListeners)tuioListener.refresh(this._currentTime);\n                }\n                this._blobSetMessages = [];\n                this._blobAliveMessage = null;\n            }\n        }\n    }\n}\n\n});\nparcelRegister(\"b3X4E\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Object\", function () { return $80ddcc621d415983$export$24309c183f44708e; });\n\nvar $cmRMF = parcelRequire(\"cmRMF\");\n\nvar $2SMZK = parcelRequire(\"2SMZK\");\nclass $80ddcc621d415983$export$24309c183f44708e extends (0, $cmRMF.Tuio11Container) {\n    constructor(startTime, sessionId, symbolId, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        super(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._symbolId = symbolId;\n        this._angle = angle;\n        this._rotationSpeed = rotationSpeed;\n        this._rotationAccel = rotationAccel;\n    }\n    get symbolId() {\n        return this._symbolId;\n    }\n    get angle() {\n        return this._angle;\n    }\n    get rotationSpeed() {\n        return this._rotationSpeed;\n    }\n    get rotationAccel() {\n        return this._rotationAccel;\n    }\n    _hasChanged(currentTime, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        return !(xPos === this.xPos && yPos === this.yPos && angle === this.angle && xSpeed === this.xSpeed && ySpeed === this.ySpeed && rotationSpeed === this.rotationSpeed && motionAccel === this.motionAccel && rotationAccel === this.rotationAccel);\n    }\n    _update(currentTime, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        let lastPoint = this.path[this.path.length - 1];\n        let isCalculateSpeeds = xPos !== this.xPos && xSpeed === 0 || yPos !== this.yPos && ySpeed === 0;\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n        let isCalculateRotation = angle !== this.angle && rotationSpeed === 0;\n        if (isCalculateRotation) {\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds() / 1000.0;\n            let lastAngle = this.angle;\n            let lastRotationSpeed = this.rotationSpeed;\n            let da = (angle - lastAngle) / (2 * Math.PI);\n            if (da > 0.5) da -= 1;\n            else if (da <= -0.5) da += 1;\n            this._rotationSpeed = da / dt;\n            this._rotationAccel = (this.rotationSpeed - lastRotationSpeed) / dt;\n        } else {\n            this._rotationSpeed = rotationSpeed;\n            this._rotationAccel = rotationAccel;\n        }\n        this._angle = angle;\n        if (this._state !== (0, $2SMZK.TuioState).Stopped && this.rotationAccel !== 0) this._state = (0, $2SMZK.TuioState).Rotating;\n    }\n}\n\n});\n\nparcelRegister(\"02co9\", function(module, exports) {\n\n$parcel$export(module.exports, \"Tuio11Cursor\", function () { return $0069cc215a4c388c$export$5d8d626d568b91cf; });\n\nvar $cmRMF = parcelRequire(\"cmRMF\");\nclass $0069cc215a4c388c$export$5d8d626d568b91cf extends (0, $cmRMF.Tuio11Container) {\n    constructor(startTime, sessionId, cursorId, xPos, yPos, xSpeed, ySpeed, motionAccel){\n        super(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._cursorId = cursorId;\n    }\n    get cursorId() {\n        return this._cursorId;\n    }\n    _hasChanged(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel) {\n        return !(xPos === this.xPos && yPos === this.yPos && xSpeed === this.xSpeed && ySpeed === this.ySpeed && motionAccel === this.motionAccel);\n    }\n    _update(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel) {\n        let isCalculateSpeeds = xPos !== this.xPos && xSpeed === 0 || yPos !== this.yPos && ySpeed === 0;\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n    }\n}\n\n});\n\n\n\n\nparcelRegister(\"le1Q3\", function(module, exports) {\n\n$parcel$export(module.exports, \"WebsocketTuioReceiverExt\", function () { return $4fec40e32d323de9$export$a64a15eace4f507c; });\n\nvar $9iGn8 = parcelRequire(\"9iGn8\");\nparcelRequire(\"7oQXN\");\nvar $bNthR = parcelRequire(\"bNthR\");\nclass $4fec40e32d323de9$export$a64a15eace4f507c extends (0, $bNthR.TuioReceiver) {\n    constructor(url, reconnectIntervalMs){\n        super();\n        this._isConnected = false;\n        this._url = url;\n        this._reconnectIntervalMs = reconnectIntervalMs;\n        this._oscPort = new $9iGn8.WebSocketPort({\n            url: url,\n            metadata: true\n        });\n        this._reconnectTimeout = 0;\n        this._handleOscMessage = this.onOscMessage.bind(this);\n        this._handleOscReady = this.onOscReady.bind(this);\n        this._handleOscClose = this.onOscClose.bind(this);\n        this._handleOscError = this.onOscError.bind(this);\n    }\n    scheduleReconnect() {\n        this.disconnect();\n        console.warn(`Attempting reconnection in ${this._reconnectIntervalMs}ms`);\n        clearTimeout(this._reconnectTimeout);\n        this._reconnectTimeout = setTimeout(()=>this.connect(), this._reconnectIntervalMs);\n    }\n    onOscReady() {\n        this._isConnected = true;\n        this._oscPort.on(\"message\", this._handleOscMessage);\n        console.log(`TUIO connection to ${this._url} established`);\n    }\n    onOscClose(event) {\n        console.warn(`TUIO connection to ${this._url} closed`, event);\n        this.scheduleReconnect();\n    }\n    onOscError(error) {\n        console.error(\"TUIO error: \", error);\n        console.warn(`Terminating TUIO connection ${this._url}`);\n        this.scheduleReconnect();\n    }\n    connect() {\n        console.log(`Connecting to TUIO server ${this._url}`);\n        this._oscPort.once(\"ready\", this._handleOscReady);\n        this._oscPort.once(\"close\", this._handleOscClose);\n        this._oscPort.once(\"error\", this._handleOscError);\n        this._oscPort.once(\"wsClient\", this._handleOscError);\n        this._oscPort.open();\n    }\n    disconnect() {\n        this._oscPort.off(\"ready\", this._handleOscReady);\n        this._oscPort.off(\"message\", this._handleOscMessage);\n        this._oscPort.off(\"close\", this._handleOscClose);\n        this._oscPort.off(\"error\", this._handleOscError);\n        this._oscPort.off(\"wsClient\", this._handleOscError);\n        this._oscPort.close();\n        this._isConnected = false;\n    }\n}\n\n});\n\n\n\nparcelRegister(\"dWDNN\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $a26f9109ab158c38$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $a26f9109ab158c38$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-f20b9f\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $a26f9109ab158c38$var$_hoisted_1 = {\n    class: \"abs-top-left\"\n};\nfunction $a26f9109ab158c38$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $a26f9109ab158c38$var$_hoisted_1, [\n        ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.pointerMarkers, (marker)=>{\n            return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"MarkerUnderlay\"], {\n                key: marker.id,\n                \"marker-id\": marker.id,\n                x: marker.x,\n                y: marker.y,\n                class: \"marker-underlay\",\n                onPointerdown: ($event)=>$setup.onPointerDown($event, marker),\n                onPointermove: ($event)=>$setup.onPointerMove($event, marker),\n                onPointerup: ($event)=>$setup.onPointerUpOrCancel($event, marker),\n                onPointercancel: ($event)=>$setup.onPointerUpOrCancel($event, marker)\n            }, null, 8, [\n                \"marker-id\",\n                \"x\",\n                \"y\",\n                \"onPointerdown\",\n                \"onPointermove\",\n                \"onPointerup\",\n                \"onPointercancel\"\n            ]);\n        }), 128))\n    ]);\n}\n\n});\n\nparcelRegister(\"hfCe3\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $c8f17d3a36a29c4b$export$2e2bcd8739ae039; });\nlet $c8f17d3a36a29c4b$var$NOOP = ()=>{};\nvar $c8f17d3a36a29c4b$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"4I7K4\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $36e146e0af5e607b$export$2e2bcd8739ae039; });\nlet $36e146e0af5e607b$var$script;\n\n\n\nlet $36e146e0af5e607b$var$initialize = ()=>{\n    $36e146e0af5e607b$var$script = (parcelRequire(\"RDxjP\"));\n    if ($36e146e0af5e607b$var$script.__esModule) $36e146e0af5e607b$var$script = $36e146e0af5e607b$var$script.default;\n    $36e146e0af5e607b$var$script.render = (parcelRequire(\"4bJi3\")).render;\n    (parcelRequire(\"4OgPE\")).default($36e146e0af5e607b$var$script);\n    $36e146e0af5e607b$var$script.__scopeId = \"data-v-18be12\";\n    $36e146e0af5e607b$var$script.__file = \"TuioMarkerPanel.vue\";\n};\n$36e146e0af5e607b$var$initialize();\nvar $36e146e0af5e607b$export$2e2bcd8739ae039 = $36e146e0af5e607b$var$script;\n\n});\nparcelRegister(\"RDxjP\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $18441bec35370532$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $dLTM2 = parcelRequire(\"dLTM2\");\n\nvar $02fmQ = parcelRequire(\"02fmQ\");\nvar $18441bec35370532$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"TuioMarkerPanel\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const { markerPositions: markerPositions } = (0, $02fmQ.useMarkerStore)();\n        const tuioMarkers = (0, $9OMm5.useArrayFilter)(markerPositions, ({ id: id })=>id.startsWith(\"tuio-\"));\n        const __returned__ = {\n            markerPositions: markerPositions,\n            tuioMarkers: tuioMarkers,\n            MarkerUnderlay: $dLTM2.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"4bJi3\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $30cb5235f346f7b0$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $30cb5235f346f7b0$var$_hoisted_1 = {\n    ref: \"container\",\n    class: \"abs-top-left\"\n};\nfunction $30cb5235f346f7b0$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $30cb5235f346f7b0$var$_hoisted_1, [\n        ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.tuioMarkers, (marker)=>{\n            return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"MarkerUnderlay\"], {\n                key: marker.id,\n                \"marker-id\": marker.id,\n                x: marker.x,\n                y: marker.y\n            }, null, 8, [\n                \"marker-id\",\n                \"x\",\n                \"y\"\n            ]);\n        }), 128))\n    ], 512);\n}\n\n});\n\nparcelRegister(\"4OgPE\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $3808e37639eea4f2$export$2e2bcd8739ae039; });\nlet $3808e37639eea4f2$var$NOOP = ()=>{};\nvar $3808e37639eea4f2$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"2PnmE\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $20f277e0999adaf7$export$2e2bcd8739ae039; });\nlet $20f277e0999adaf7$var$script;\n\n\n\n\nlet $20f277e0999adaf7$var$initialize = ()=>{\n    $20f277e0999adaf7$var$script = (parcelRequire(\"lvc51\"));\n    if ($20f277e0999adaf7$var$script.__esModule) $20f277e0999adaf7$var$script = $20f277e0999adaf7$var$script.default;\n    $20f277e0999adaf7$var$script.render = (parcelRequire(\"d3Cdr\")).render;\n    $20f277e0999adaf7$var$script.__cssModules = {};\n    (parcelRequire(\"eATDO\")).default($20f277e0999adaf7$var$script);\n    $20f277e0999adaf7$var$script.__scopeId = \"data-v-f8eb84\";\n    $20f277e0999adaf7$var$script.__file = \"ScoreTable.vue\";\n};\n$20f277e0999adaf7$var$initialize();\nvar $20f277e0999adaf7$export$2e2bcd8739ae039 = $20f277e0999adaf7$var$script;\n\n});\nparcelRegister(\"lvc51\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $6a024a7d4d6ff12f$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\n\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $dNJei = parcelRequire(\"dNJei\");\nconst $6a024a7d4d6ff12f$var$fractionDigits = 1;\nvar $6a024a7d4d6ff12f$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ScoreTable\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const { config: { general: general } } = (0, $7dQGn.useConfigStore)();\n        const { primaryLanguage: primaryLanguage, secondaryLanguage: secondaryLanguage, scoreLabels: scoreLabels } = general;\n        const { circularity: circularityLabels, happiness: happinessLabels } = scoreLabels;\n        const modelStore = (0, $i5N9G.useModelStore)();\n        const circularity = {\n            score: (0, $djimy.computed)(()=>(0, $dNJei.Scores).circularity(modelStore.record)),\n            primaryLabel: circularityLabels[primaryLanguage],\n            secondaryLabel: circularityLabels[secondaryLanguage]\n        };\n        const happiness = {\n            score: (0, $djimy.computed)(()=>(0, $dNJei.Scores).happiness(modelStore.record)),\n            primaryLabel: happinessLabels[primaryLanguage],\n            secondaryLabel: happinessLabels[secondaryLanguage]\n        };\n        const scores = [\n            circularity,\n            happiness\n        ];\n        const format = (score)=>`${(score * 100).toFixed($6a024a7d4d6ff12f$var$fractionDigits)}%`;\n        const __returned__ = {\n            general: general,\n            primaryLanguage: primaryLanguage,\n            secondaryLanguage: secondaryLanguage,\n            scoreLabels: scoreLabels,\n            circularityLabels: circularityLabels,\n            happinessLabels: happinessLabels,\n            modelStore: modelStore,\n            circularity: circularity,\n            happiness: happiness,\n            scores: scores,\n            fractionDigits: $6a024a7d4d6ff12f$var$fractionDigits,\n            format: format\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"7dQGn\", function(module, exports) {\n\n$parcel$export(module.exports, \"useConfigStore\", function () { return $05dc67d1dc32361c$export$34e3fa5a389d1187; });\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\nconst $05dc67d1dc32361c$export$34e3fa5a389d1187 = (0, $kV0Ly.defineStore)(\"config\", ()=>{\n    const config = (0, $djimy.inject)((0, $7Rjir.CONFIG_INJECTION_KEY), null);\n    (0, $hWymx.strict)(config);\n    const { general: { assetBaseDir: assetBaseDir } } = config;\n    const assetBaseUrl = new URL(`${assetBaseDir}/`, window.location.href);\n    const toAssetUrl = (path)=>new URL(path, assetBaseUrl);\n    const POSITIONAL_ASSET_REGEX = /_x([+-]?[0-9]+)_y([+-]?[0-9]+)\\.[a-zA-Z0-9]+$/;\n    const extractAssetPosition = (url)=>{\n        if (typeof url !== \"string\") return extractAssetPosition(url.href);\n        const matches = url.match(POSITIONAL_ASSET_REGEX);\n        if (matches === null || matches.length !== 3) return {\n            x: 0,\n            y: 0\n        };\n        const x = Number.parseInt(matches[1], 10);\n        const y = Number.parseInt(matches[2], 10);\n        return {\n            x: x,\n            y: y\n        };\n    };\n    return {\n        config: config,\n        assetBaseUrl: assetBaseUrl,\n        toAssetUrl: toAssetUrl,\n        extractAssetPosition: extractAssetPosition\n    };\n});\n\n});\n\nparcelRegister(\"i5N9G\", function(module, exports) {\n\n$parcel$export(module.exports, \"useModelStore\", function () { return $ce8a515351467a03$export$5f60664fdfa2046f; });\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $5rTuK = parcelRequire(\"5rTuK\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\nconst $ce8a515351467a03$var$useTransformedParameters = (initialParameters)=>{\n    const slotGroupsStore = (0, $cIjax.useSlotGroupsStore)();\n    const parameterTransformStore = (0, $5rTuK.useParameterTransformsStore)();\n    const { slotGroups: slotGroups } = slotGroupsStore;\n    const { parameterTransforms: transforms } = parameterTransformStore;\n    const transformedParametersExt = (0, $9OMm5.reactiveComputed)(()=>{\n        let before = {\n            ...initialParameters.value\n        };\n        const stepGroups = slotGroups.map(({ id: sId, parameterTransforms: parameterTransforms })=>{\n            const steps = parameterTransforms.map(({ id: pId, active: active })=>{\n                const transformObject = transforms.find((t)=>t.id === pId);\n                (0, $hWymx.strict)(transformObject, `No transform found for id ${pId}`);\n                const { script: script, transform: transform } = transformObject;\n                const after = active ? transform({\n                    ...before\n                }) : {\n                    ...before\n                };\n                const diff = Object.fromEntries(Object.entries(after).filter(([key, value])=>value !== before[key]));\n                const result = {\n                    id: pId,\n                    script: script,\n                    active: active,\n                    before: before,\n                    after: after,\n                    diff: diff\n                };\n                before = {\n                    ...after\n                };\n                return result;\n            });\n            return {\n                id: sId,\n                steps: steps\n            };\n        });\n        return stepGroups;\n    });\n    const transformedParameters = (0, $9OMm5.reactiveComputed)(()=>{\n        const lastWithDefault = (a, defaultValue)=>a.length > 0 ? a[a.length - 1] : defaultValue;\n        const lastStepResult = lastWithDefault(transformedParametersExt.map(({ steps: steps })=>lastWithDefault(steps.map(({ after: after })=>after), initialParameters.value)), initialParameters.value);\n        return lastStepResult;\n    });\n    return {\n        transformedParametersExt: transformedParametersExt,\n        transformedParameters: transformedParameters\n    };\n};\nconst $ce8a515351467a03$export$5f60664fdfa2046f = (0, $kV0Ly.defineStore)(\"model\", ()=>{\n    const { config: { model: modelConfig } } = (0, $7dQGn.useConfigStore)();\n    const initialRecord = new (0, $aDsGb.CircularEconomyModel)().evaluate(modelConfig.initialStocks, modelConfig.initialParameters, 0);\n    const record = (0, $djimy.ref)(initialRecord);\n    const initialParameters = (0, $djimy.ref)({\n        ...modelConfig.initialParameters\n    });\n    const { transformedParameters: transformedParameters, transformedParametersExt: transformedParametersExt } = $ce8a515351467a03$var$useTransformedParameters(initialParameters);\n    return {\n        record: record,\n        initialParameters: initialParameters,\n        transformedParameters: transformedParameters,\n        transformedParametersExt: transformedParametersExt\n    };\n});\n\n});\nparcelRegister(\"aDsGb\", function(module, exports) {\n\n$parcel$export(module.exports, \"stockIds\", function () { return $206356841936c3c2$export$f750b2e397fa5c0d; });\n$parcel$export(module.exports, \"flowIds\", function () { return $206356841936c3c2$export$7c12f5d9f59e1bd6; });\n$parcel$export(module.exports, \"variableIds\", function () { return $206356841936c3c2$export$b590f4f5e6e68ae6; });\n$parcel$export(module.exports, \"parameterIds\", function () { return $206356841936c3c2$export$a03075ce549b4fda; });\n$parcel$export(module.exports, \"CircularEconomyModel\", function () { return $206356841936c3c2$export$8f51ca2bca4e557a; });\n// This file was auto-generated from the InsightMaker model. Do not edit it manually.\n\nvar $jRMUH = parcelRequire(\"jRMUH\");\nconst $206356841936c3c2$export$f750b2e397fa5c0d = [\n    \"capacityOfNewlyProducedPhones\",\n    \"capacityOfRecycledMaterials\",\n    \"capacityOfRefurbishedPhones\",\n    \"capacityOfRepairedPhones\",\n    \"phonesInUse\",\n    \"supplyOfBrokenPhones\",\n    \"supplyOfDisposedPhones\",\n    \"supplyOfHibernatingPhones\",\n    \"supplyOfNewlyProducedPhones\",\n    \"supplyOfRecycledMaterials\",\n    \"supplyOfRefurbishedPhones\",\n    \"supplyOfRepairedPhones\"\n];\nconst $206356841936c3c2$export$7c12f5d9f59e1bd6 = [\n    \"abandon\",\n    \"acquireNewlyProduced\",\n    \"acquireRefurbished\",\n    \"acquireRepaired\",\n    \"acquireUsed\",\n    \"capacityOfNewlyProducedPhonesAdjustment\",\n    \"capacityOfRecycledMaterialsAdjustment\",\n    \"capacityOfRefurbishedPhonesAdjustment\",\n    \"disposeBroken\",\n    \"disposeHibernating\",\n    \"goBroken\",\n    \"landfill\",\n    \"produceFromNaturalResources\",\n    \"produceFromRecycledMaterials\",\n    \"recycle\",\n    \"refurbish\",\n    \"repair\",\n    \"repairShopCapcityAdjustment\"\n];\nconst $206356841936c3c2$export$b590f4f5e6e68ae6 = [\n    \"demandForNaturalResources\",\n    \"demandForNewlyProducedPhones\",\n    \"demandForPhones\",\n    \"demandForRecycledMaterials\",\n    \"demandForRecycling\",\n    \"demandForRefurbishedPhones\",\n    \"demandForRefurbishment\",\n    \"demandForRepair\",\n    \"demandForRepairedPhones\",\n    \"demandForResources\",\n    \"demandForReusedPhones\",\n    \"inflowIncentiveSumForPhonesInUse\",\n    \"phoneGoal\",\n    \"phonesInUseExcess\",\n    \"supplyOfBrokenPhonesForDisposal\",\n    \"supplyOfBrokenPhonesForRepair\",\n    \"supplyOfDisposedPhonesForLandfilling\",\n    \"supplyOfDisposedPhonesForRecycling\",\n    \"supplyOfHibernatingPhonesForDisposal\",\n    \"supplyOfHibernatingPhonesForRefurbishment\",\n    \"supplyOfHibernatingPhonesForReuse\"\n];\nconst $206356841936c3c2$export$a03075ce549b4fda = [\n    \"abandonExcessRate\",\n    \"abandonRate\",\n    \"acquireRate\",\n    \"breakRate\",\n    \"capacityAdjustmentRate\",\n    \"disposeIncentive\",\n    \"disposeRate\",\n    \"landfillIncentive\",\n    \"landfillRate\",\n    \"naturalResourcesIncentive\",\n    \"newPhoneProductionRate\",\n    \"newlyProducedPhoneIncentive\",\n    \"numberOfUsers\",\n    \"phonesPerUserGoal\",\n    \"recycleRate\",\n    \"recyclingIncentive\",\n    \"refurbishmentIncentive\",\n    \"refurbishmentRate\",\n    \"repairIncentive\",\n    \"repairRate\",\n    \"reuseIncentive\"\n];\nclass $206356841936c3c2$export$8f51ca2bca4e557a extends (0, $jRMUH.Model) {\n    static #_ = this.initialStocks = {\n        capacityOfNewlyProducedPhones: 0,\n        capacityOfRecycledMaterials: 0,\n        capacityOfRefurbishedPhones: 0,\n        capacityOfRepairedPhones: 0,\n        phonesInUse: 0,\n        supplyOfBrokenPhones: 0,\n        supplyOfDisposedPhones: 0,\n        supplyOfHibernatingPhones: 0,\n        supplyOfNewlyProducedPhones: 0,\n        supplyOfRecycledMaterials: 0,\n        supplyOfRefurbishedPhones: 0,\n        supplyOfRepairedPhones: 0\n    };\n    static #_2 = this.defaultParameters = {\n        abandonExcessRate: 0.5,\n        abandonRate: 0.1,\n        acquireRate: 1,\n        breakRate: 0.1,\n        capacityAdjustmentRate: 0.1,\n        disposeIncentive: 0.5,\n        disposeRate: 0.5,\n        landfillIncentive: 0.5,\n        landfillRate: 1,\n        naturalResourcesIncentive: 0.5,\n        newPhoneProductionRate: 0.5,\n        newlyProducedPhoneIncentive: 0.82,\n        numberOfUsers: 1000000,\n        phonesPerUserGoal: 1,\n        recycleRate: 1,\n        recyclingIncentive: 0.89,\n        refurbishmentIncentive: 0.5,\n        refurbishmentRate: 1,\n        repairIncentive: 0.5,\n        repairRate: 1,\n        reuseIncentive: 0.86\n    };\n    constructor(){\n        super($206356841936c3c2$export$f750b2e397fa5c0d, $206356841936c3c2$export$7c12f5d9f59e1bd6, $206356841936c3c2$export$b590f4f5e6e68ae6, $206356841936c3c2$export$a03075ce549b4fda);\n    }\n    // eslint-disable-next-line class-methods-use-this\n    evaluate(stocks, parameters, t) {\n        const { capacityOfNewlyProducedPhones: capacityOfNewlyProducedPhones, capacityOfRecycledMaterials: capacityOfRecycledMaterials, capacityOfRefurbishedPhones: capacityOfRefurbishedPhones, capacityOfRepairedPhones: capacityOfRepairedPhones, phonesInUse: phonesInUse, supplyOfBrokenPhones: supplyOfBrokenPhones, supplyOfDisposedPhones: supplyOfDisposedPhones, supplyOfHibernatingPhones: supplyOfHibernatingPhones, supplyOfNewlyProducedPhones: supplyOfNewlyProducedPhones, supplyOfRecycledMaterials: supplyOfRecycledMaterials, supplyOfRefurbishedPhones: supplyOfRefurbishedPhones, supplyOfRepairedPhones: supplyOfRepairedPhones } = stocks;\n        const { abandonExcessRate: abandonExcessRate, abandonRate: abandonRate, acquireRate: acquireRate, breakRate: breakRate, capacityAdjustmentRate: capacityAdjustmentRate, disposeIncentive: disposeIncentive, disposeRate: disposeRate, landfillIncentive: landfillIncentive, landfillRate: landfillRate, naturalResourcesIncentive: naturalResourcesIncentive, newPhoneProductionRate: newPhoneProductionRate, newlyProducedPhoneIncentive: newlyProducedPhoneIncentive, numberOfUsers: numberOfUsers, phonesPerUserGoal: phonesPerUserGoal, recycleRate: recycleRate, recyclingIncentive: recyclingIncentive, refurbishmentIncentive: refurbishmentIncentive, refurbishmentRate: refurbishmentRate, repairIncentive: repairIncentive, repairRate: repairRate, reuseIncentive: reuseIncentive } = parameters;\n        const phoneGoal = numberOfUsers * phonesPerUserGoal;\n        const phonesInUseExcess = Math.max(phonesInUse - phoneGoal, 0);\n        const abandon = abandonRate * phonesInUse + abandonExcessRate * phonesInUseExcess;\n        const inflowIncentiveSumForPhonesInUse = reuseIncentive + repairIncentive + refurbishmentIncentive + newlyProducedPhoneIncentive;\n        const goBroken = breakRate * phonesInUse;\n        const demandForPhones = Math.max(0, phoneGoal - phonesInUse + goBroken + abandon);\n        const demandForNewlyProducedPhones = newlyProducedPhoneIncentive / inflowIncentiveSumForPhonesInUse * demandForPhones;\n        const acquireNewlyProduced = acquireRate * Math.min(supplyOfNewlyProducedPhones, demandForNewlyProducedPhones);\n        const demandForRefurbishedPhones = refurbishmentIncentive / inflowIncentiveSumForPhonesInUse * demandForPhones;\n        const acquireRefurbished = acquireRate * Math.min(demandForRefurbishedPhones, supplyOfRefurbishedPhones);\n        const demandForRepairedPhones = repairIncentive / inflowIncentiveSumForPhonesInUse * demandForPhones;\n        const acquireRepaired = acquireRate * Math.min(demandForRepairedPhones, supplyOfRepairedPhones);\n        const supplyOfHibernatingPhonesForReuse = reuseIncentive / (reuseIncentive + refurbishmentIncentive + disposeIncentive) * supplyOfHibernatingPhones;\n        const demandForReusedPhones = reuseIncentive / inflowIncentiveSumForPhonesInUse * demandForPhones;\n        const acquireUsed = acquireRate * Math.min(supplyOfHibernatingPhonesForReuse, demandForReusedPhones);\n        const capacityOfNewlyProducedPhonesAdjustment = capacityAdjustmentRate * (demandForNewlyProducedPhones - capacityOfNewlyProducedPhones);\n        const demandForResources = Math.max(capacityOfNewlyProducedPhones - supplyOfNewlyProducedPhones + acquireNewlyProduced, 0);\n        const demandForRecycledMaterials = recyclingIncentive / (naturalResourcesIncentive + recyclingIncentive) * demandForResources;\n        const capacityOfRecycledMaterialsAdjustment = capacityAdjustmentRate * (demandForRecycledMaterials - capacityOfRecycledMaterials);\n        const capacityOfRefurbishedPhonesAdjustment = capacityAdjustmentRate * (demandForRefurbishedPhones - capacityOfRefurbishedPhones);\n        const supplyOfBrokenPhonesForDisposal = disposeIncentive / (repairIncentive + disposeIncentive) * supplyOfBrokenPhones;\n        const disposeBroken = disposeRate * supplyOfBrokenPhonesForDisposal;\n        const supplyOfHibernatingPhonesForDisposal = disposeIncentive / (reuseIncentive + refurbishmentIncentive + disposeIncentive) * supplyOfHibernatingPhones;\n        const disposeHibernating = disposeRate * supplyOfHibernatingPhonesForDisposal;\n        const supplyOfDisposedPhonesForLandfilling = landfillIncentive / (recyclingIncentive + landfillIncentive) * supplyOfDisposedPhones;\n        const landfill = landfillRate * supplyOfDisposedPhonesForLandfilling;\n        const demandForNaturalResources = naturalResourcesIncentive / (naturalResourcesIncentive + recyclingIncentive) * demandForResources;\n        const produceFromNaturalResources = newPhoneProductionRate * demandForNaturalResources;\n        const produceFromRecycledMaterials = newPhoneProductionRate * Math.min(demandForRecycledMaterials, supplyOfRecycledMaterials);\n        const supplyOfDisposedPhonesForRecycling = recyclingIncentive / (recyclingIncentive + landfillIncentive) * supplyOfDisposedPhones;\n        const demandForRecycling = Math.max(capacityOfRecycledMaterials - supplyOfRecycledMaterials + produceFromRecycledMaterials, 0);\n        const recycle = recycleRate * Math.min(supplyOfDisposedPhonesForRecycling, demandForRecycling);\n        const supplyOfHibernatingPhonesForRefurbishment = refurbishmentIncentive / (reuseIncentive + refurbishmentIncentive + disposeIncentive) * supplyOfHibernatingPhones;\n        const demandForRefurbishment = Math.max(capacityOfRefurbishedPhones - supplyOfRefurbishedPhones + acquireRefurbished, 0);\n        const refurbish = refurbishmentRate * Math.min(supplyOfHibernatingPhonesForRefurbishment, demandForRefurbishment);\n        const demandForRepair = Math.max(capacityOfRepairedPhones - supplyOfRepairedPhones + acquireRepaired, 0);\n        const repair = repairRate * Math.min(supplyOfBrokenPhones, demandForRepair);\n        const repairShopCapcityAdjustment = capacityAdjustmentRate * (demandForRepairedPhones - capacityOfRepairedPhones);\n        const supplyOfBrokenPhonesForRepair = repairIncentive / (repairIncentive + disposeIncentive) * supplyOfBrokenPhones;\n        const variables = {\n            demandForNaturalResources: demandForNaturalResources,\n            demandForNewlyProducedPhones: demandForNewlyProducedPhones,\n            demandForPhones: demandForPhones,\n            demandForRecycledMaterials: demandForRecycledMaterials,\n            demandForRecycling: demandForRecycling,\n            demandForRefurbishedPhones: demandForRefurbishedPhones,\n            demandForRefurbishment: demandForRefurbishment,\n            demandForRepair: demandForRepair,\n            demandForRepairedPhones: demandForRepairedPhones,\n            demandForResources: demandForResources,\n            demandForReusedPhones: demandForReusedPhones,\n            inflowIncentiveSumForPhonesInUse: inflowIncentiveSumForPhonesInUse,\n            phoneGoal: phoneGoal,\n            phonesInUseExcess: phonesInUseExcess,\n            supplyOfBrokenPhonesForDisposal: supplyOfBrokenPhonesForDisposal,\n            supplyOfBrokenPhonesForRepair: supplyOfBrokenPhonesForRepair,\n            supplyOfDisposedPhonesForLandfilling: supplyOfDisposedPhonesForLandfilling,\n            supplyOfDisposedPhonesForRecycling: supplyOfDisposedPhonesForRecycling,\n            supplyOfHibernatingPhonesForDisposal: supplyOfHibernatingPhonesForDisposal,\n            supplyOfHibernatingPhonesForRefurbishment: supplyOfHibernatingPhonesForRefurbishment,\n            supplyOfHibernatingPhonesForReuse: supplyOfHibernatingPhonesForReuse\n        };\n        const flows = {\n            abandon: abandon,\n            acquireNewlyProduced: acquireNewlyProduced,\n            acquireRefurbished: acquireRefurbished,\n            acquireRepaired: acquireRepaired,\n            acquireUsed: acquireUsed,\n            capacityOfNewlyProducedPhonesAdjustment: capacityOfNewlyProducedPhonesAdjustment,\n            capacityOfRecycledMaterialsAdjustment: capacityOfRecycledMaterialsAdjustment,\n            capacityOfRefurbishedPhonesAdjustment: capacityOfRefurbishedPhonesAdjustment,\n            disposeBroken: disposeBroken,\n            disposeHibernating: disposeHibernating,\n            goBroken: goBroken,\n            landfill: landfill,\n            produceFromNaturalResources: produceFromNaturalResources,\n            produceFromRecycledMaterials: produceFromRecycledMaterials,\n            recycle: recycle,\n            refurbish: refurbish,\n            repair: repair,\n            repairShopCapcityAdjustment: repairShopCapcityAdjustment\n        };\n        return {\n            t: t,\n            stocks: stocks,\n            parameters: parameters,\n            variables: variables,\n            flows: flows\n        };\n    }\n    // eslint-disable-next-line class-methods-use-this\n    accumulateFlowsPerStock(flows) {\n        const { abandon: abandon, acquireNewlyProduced: acquireNewlyProduced, acquireRefurbished: acquireRefurbished, acquireRepaired: acquireRepaired, acquireUsed: acquireUsed, capacityOfNewlyProducedPhonesAdjustment: capacityOfNewlyProducedPhonesAdjustment, capacityOfRecycledMaterialsAdjustment: capacityOfRecycledMaterialsAdjustment, capacityOfRefurbishedPhonesAdjustment: capacityOfRefurbishedPhonesAdjustment, disposeBroken: disposeBroken, disposeHibernating: disposeHibernating, goBroken: goBroken, landfill: landfill, produceFromNaturalResources: produceFromNaturalResources, produceFromRecycledMaterials: produceFromRecycledMaterials, recycle: recycle, refurbish: refurbish, repair: repair, repairShopCapcityAdjustment: repairShopCapcityAdjustment } = flows;\n        const flowPerStock = {\n            capacityOfNewlyProducedPhones: capacityOfNewlyProducedPhonesAdjustment,\n            capacityOfRecycledMaterials: capacityOfRecycledMaterialsAdjustment,\n            capacityOfRefurbishedPhones: capacityOfRefurbishedPhonesAdjustment,\n            capacityOfRepairedPhones: repairShopCapcityAdjustment,\n            phonesInUse: acquireNewlyProduced + acquireRefurbished + acquireRepaired + acquireUsed - (abandon + goBroken),\n            supplyOfBrokenPhones: goBroken - (disposeBroken + repair),\n            supplyOfDisposedPhones: disposeBroken + disposeHibernating - (landfill + recycle),\n            supplyOfHibernatingPhones: abandon - (acquireUsed + disposeHibernating + refurbish),\n            supplyOfNewlyProducedPhones: produceFromNaturalResources + produceFromRecycledMaterials - acquireNewlyProduced,\n            supplyOfRecycledMaterials: recycle - produceFromRecycledMaterials,\n            supplyOfRefurbishedPhones: refurbish - acquireRefurbished,\n            supplyOfRepairedPhones: repair - acquireRepaired\n        };\n        return flowPerStock;\n    }\n}\n\n});\nparcelRegister(\"jRMUH\", function(module, exports) {\n\n$parcel$export(module.exports, \"Model\", function () { return $cbfe2072c869131c$export$a1edc412be3e1841; });\n\nvar $4E5XB = parcelRequire(\"4E5XB\");\nclass $cbfe2072c869131c$export$a1edc412be3e1841 {\n    static #_ = this.elementIds = [\n        \"stocks\",\n        \"parameters\",\n        \"variables\",\n        \"flows\"\n    ];\n    constructor(stocksIds, flowIds, variableIds, parameterIds){\n        this.stockIds = stocksIds;\n        this.flowIds = flowIds;\n        this.variableIds = variableIds;\n        this.parameterIds = parameterIds;\n    }\n    static elementObjectToArray(ids, object) {\n        return ids.map((id)=>object[id]);\n    }\n    static arrayToElementObject(ids, array) {\n        const result = {};\n        for(let i = 0; i < ids.length; i += 1){\n            const id = ids[i];\n            result[id] = array[i];\n        }\n        return result;\n    }\n    stocksToStockArray(stocks) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.elementObjectToArray(this.stockIds, stocks);\n    }\n    stockArrayToStocks(stockArray) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.arrayToElementObject(this.stockIds, stockArray);\n    }\n    flowsToFlowArray(flows) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.elementObjectToArray(this.flowIds, flows);\n    }\n    flowArrayToFlows(flowArray) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.arrayToElementObject(this.flowIds, flowArray);\n    }\n    variablesToVariableArray(variables) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.elementObjectToArray(this.variableIds, variables);\n    }\n    variableArrayToVariables(variableArray) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.arrayToElementObject(this.variableIds, variableArray);\n    }\n    parametersToParameterArray(parameters) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.elementObjectToArray(this.parameterIds, parameters);\n    }\n    parameterArrayToParameters(parameterArray) {\n        return $cbfe2072c869131c$export$a1edc412be3e1841.arrayToElementObject(this.parameterIds, parameterArray);\n    }\n    evaluateFlowPerStock(stocks, parameters, t) {\n        const { flows: flows } = this.evaluate(stocks, parameters, t);\n        return this.accumulateFlowsPerStock(flows);\n    }\n    createFlowEvaluator(parameters) {\n        const result = (stocksArray, t)=>{\n            const stocks = this.stockArrayToStocks(stocksArray);\n            const flowsPerStock = this.evaluateFlowPerStock(stocks, parameters, t);\n            const flowPerStockArray = this.stocksToStockArray(flowsPerStock);\n            return flowPerStockArray;\n        };\n        return result;\n    }\n    step(stocks, t, h, flowEvaluator) {\n        const stocksArray = this.stocksToStockArray(stocks);\n        const newStocksArray = (0, $4E5XB.step)(stocksArray, t, h, flowEvaluator);\n        return this.stockArrayToStocks(newStocksArray);\n    }\n}\n\n});\nparcelRegister(\"4E5XB\", function(module, exports) {\n\n$parcel$export(module.exports, \"step\", function () { return $b31563e15b67f27b$export$35d34bc0ed591a92; });\n\nvar $3h2ov = parcelRequire(\"3h2ov\");\nfunction $b31563e15b67f27b$var$step5(stocksAtT, t, h, computeFlows, integrator) {\n    return (0, $3h2ov.step)(stocksAtT, t, h, computeFlows, integrator);\n}\nfunction $b31563e15b67f27b$var$step6(stocksAtT, flowsAtT, t, h, computeFlows, integrator) {\n    const mutableFlowsAtT = [\n        ...flowsAtT\n    ];\n    const getFlows = (y, x)=>x === t ? mutableFlowsAtT : computeFlows(y, x);\n    return (0, $3h2ov.step)(stocksAtT, t, h, getFlows, integrator);\n}\nfunction $b31563e15b67f27b$export$35d34bc0ed591a92(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrIntegrator, integrator) {\n    if (typeof tOrFlowsAtT === \"number\") return $b31563e15b67f27b$var$step5(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrIntegrator);\n    return $b31563e15b67f27b$var$step6(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrIntegrator, integrator);\n}\nfunction $b31563e15b67f27b$var$converge6(stocksAtT, t, h, computeFlows, criterion, integrator) {\n    return (0, $3h2ov.converge)(stocksAtT, t, h, computeFlows, criterion, integrator);\n}\nfunction $b31563e15b67f27b$var$converge7(stocksAtT, flowsAtT, t, h, computeFlows, criterion, integrator) {\n    const mutableFlowsAtT = [\n        ...flowsAtT\n    ];\n    const getFlows = (y, x)=>x === t ? mutableFlowsAtT : computeFlows(y, x);\n    return (0, $3h2ov.converge)(stocksAtT, t, h, getFlows, criterion, integrator);\n}\nfunction $b31563e15b67f27b$export$342c33653c71264(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrCriterion, criterionOrIntegrator, integrator) {\n    if (typeof tOrFlowsAtT === \"number\") return $b31563e15b67f27b$var$converge6(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrCriterion, criterionOrIntegrator);\n    return $b31563e15b67f27b$var$converge7(stocksAtT, tOrFlowsAtT, tOrH, hOrComputeFlows, computeFlowsOrCriterion, criterionOrIntegrator, integrator);\n}\n\n});\nparcelRegister(\"3h2ov\", function(module, exports) {\n\n$parcel$export(module.exports, \"step\", function () { return $e256d5ccddceeace$export$35d34bc0ed591a92; });\n$parcel$export(module.exports, \"converge\", function () { return $e256d5ccddceeace$export$342c33653c71264; });\n\nvar $555Ja = parcelRequire(\"555Ja\");\nfunction $e256d5ccddceeace$export$35d34bc0ed591a92(stocksAtT, t, h, getFlows, integrator = (0, $555Ja.rk4)) {\n    return integrator(stocksAtT, t, h, getFlows);\n}\nfunction $e256d5ccddceeace$export$342c33653c71264(stocksAtT, t, h, getFlows, criterion, integrator = (0, $555Ja.rk4)) {\n    let iterations = 0;\n    let { userdata: userdata, done: done } = criterion(stocksAtT, t, undefined, iterations);\n    if (!done) {\n        let newT = t;\n        let newStocks;\n        do {\n            newStocks = integrator(newStocks ?? stocksAtT, newT, h, getFlows);\n            newT += h;\n            iterations += 1;\n            ({ userdata: userdata, done: done } = criterion(newStocks, newT, userdata, iterations));\n        }while (!done);\n    }\n    return userdata;\n}\n\n});\nparcelRegister(\"555Ja\", function(module, exports) {\n\n$parcel$export(module.exports, \"rk4\", function () { return $5d015ad0548de018$export$926181dbdeb3ce30; });\nfunction $5d015ad0548de018$export$dc799133ea41435b(y, x, h, derivatives) {\n    const n = y.length;\n    const dydx = derivatives(y, x);\n    const yTemp = dydx; // Reuse array for result to avoid allocation and GC\n    for(let i = 0; i < n; i += 1)yTemp[i] = y[i] + h * dydx[i];\n    return yTemp;\n}\nfunction $5d015ad0548de018$export$926181dbdeb3ce30(y, x, h, derivatives) {\n    const n = y.length;\n    const dydx = derivatives(y, x);\n    const yTemp = new Array(n);\n    const h2 = h / 2.0;\n    const h6 = h / 6.0;\n    const xhh = x + h2;\n    for(let i = 0; i < n; i += 1)yTemp[i] = y[i] + h2 * dydx[i];\n    let dydxTemp = derivatives(yTemp, xhh);\n    for(let i = 0; i < n; i += 1)yTemp[i] = y[i] + h2 * dydxTemp[i];\n    const dydxM = derivatives(yTemp, xhh);\n    for(let i = 0; i < n; i += 1){\n        yTemp[i] = y[i] + h * dydxM[i];\n        dydxM[i] += dydxTemp[i];\n    }\n    dydxTemp = derivatives(yTemp, x + h);\n    for(let i = 0; i < n; i += 1)yTemp[i] = y[i] + h6 * (dydx[i] + dydxTemp[i] + 2.0 * dydxM[i]);\n    return yTemp;\n}\n\n});\n\n\n\n\n\nparcelRegister(\"5rTuK\", function(module, exports) {\n\n$parcel$export(module.exports, \"useParameterTransformsStore\", function () { return $095edef698fa8b01$export$7ec9ce70268244ce; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\n\nvar $k6FcS = parcelRequire(\"k6FcS\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\nfunction $095edef698fa8b01$var$createParameterTransformFunction(// eslint-disable-next-line @typescript-eslint/no-shadow\nparameterIds, script) {\n    parameterIds.forEach((parameterId)=>{\n        if (!(0, $k6FcS.isVarName)(parameterId)) throw new Error(`Parameter name '${parameterId}' can not be used as a variable`);\n    });\n    // eslint-disable-next-line @typescript-eslint/no-implied-eval\n    const wrappedScript = new Function(script).toString();\n    // eslint-disable-next-line @typescript-eslint/no-implied-eval\n    const func = new Function(`{ ${parameterIds.join(\", \")} }`, `(${wrappedScript})(); return { ${parameterIds.join(\", \")} }`);\n    return (parameters)=>{\n        const transformedParameters = func(parameters);\n        Object.assign(parameters, transformedParameters);\n        return parameters;\n    };\n}\nfunction $095edef698fa8b01$var$createReactiveParameterTransform({ id: id, script: script }) {\n    const reactiveScript = (0, $djimy.ref)(script);\n    const reactiveTransform = (0, $djimy.computed)(()=>$095edef698fa8b01$var$createParameterTransformFunction((0, $aDsGb.parameterIds), reactiveScript.value));\n    return {\n        id: id,\n        script: reactiveScript,\n        transform: reactiveTransform\n    };\n}\nconst $095edef698fa8b01$export$7ec9ce70268244ce = (0, $kV0Ly.defineStore)(\"parameter-transforms\", ()=>{\n    const { config: config } = (0, $7dQGn.useConfigStore)();\n    const parameterTransforms = (0, $djimy.reactive)(config.parameterTransforms.map((pt)=>(0, $djimy.reactive)($095edef698fa8b01$var$createReactiveParameterTransform(pt))));\n    const addOrModify = (id, script)=>{\n        const index = parameterTransforms.findIndex((t)=>t.id === id);\n        if (index === -1) {\n            const newTransform = $095edef698fa8b01$var$createReactiveParameterTransform({\n                id: id,\n                script: script\n            });\n            parameterTransforms.push((0, $djimy.reactive)(newTransform));\n        } else parameterTransforms[index].script = script;\n    };\n    const remove = (id)=>{\n        const index = parameterTransforms.findIndex((t)=>t.id === id);\n        if (index !== -1) parameterTransforms.splice(index, 1);\n    };\n    const move = (from, to)=>{\n        const [removed] = parameterTransforms.splice(from, 1);\n        parameterTransforms.splice(to, 0, removed);\n    };\n    const replaceAll = (ptcs)=>{\n        const newParameterTransforms = ptcs.map((ptc)=>(0, $djimy.reactive)($095edef698fa8b01$var$createReactiveParameterTransform(ptc)));\n        parameterTransforms.splice(0, parameterTransforms.length, ...newParameterTransforms);\n    };\n    return {\n        parameterTransforms: parameterTransforms,\n        addOrModify: addOrModify,\n        move: move,\n        remove: remove,\n        replaceAll: replaceAll\n    };\n});\n\n});\nparcelRegister(\"k6FcS\", function(module, exports) {\n\n$parcel$export(module.exports, \"isVarName\", function () { return $decb13147f00dbdd$export$75ea5357c1bedf6c; });\nfunction $decb13147f00dbdd$export$75ea5357c1bedf6c(str) {\n    if (typeof str !== \"string\") return false;\n    if (str.trim() !== str) return false;\n    if (str.match(/^[a-zA-Z_][a-zA-Z0-9_]*$/) === null) return false;\n    return true;\n}\n\n});\n\n\nparcelRegister(\"cIjax\", function(module, exports) {\n\n$parcel$export(module.exports, \"useParameterTransformId\", function () { return $9f9fc157427b77a6$export$d5bc3025606077cd; });\n$parcel$export(module.exports, \"useSlotGroupsStore\", function () { return $9f9fc157427b77a6$export$acd2e06900408da2; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $gK2p2 = parcelRequire(\"gK2p2\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $5rTuK = parcelRequire(\"5rTuK\");\n\nvar $6clsW = parcelRequire(\"6clsW\");\nfunction $9f9fc157427b77a6$export$d5bc3025606077cd(id) {\n    const uuid = (0, $gK2p2.default)();\n    const active = false;\n    const result = {\n        id: id,\n        uuid: uuid,\n        active: active,\n        setActive: function(active) {\n            if (this.active !== active) this.active = active;\n        }\n    };\n    return (0, $djimy.reactive)(result);\n}\nfunction $9f9fc157427b77a6$export$1b929da68af3f2bb() {\n    const id = \"internal\";\n    const parameterTransformStore = (0, $5rTuK.useParameterTransformsStore)();\n    const parameterTransforms = (0, $djimy.reactive)(parameterTransformStore.parameterTransforms.map(({ id: parameterTransformId })=>$9f9fc157427b77a6$export$d5bc3025606077cd(parameterTransformId)));\n    return {\n        id: id,\n        parameterTransforms: parameterTransforms\n    };\n}\nfunction $9f9fc157427b77a6$var$useBasicSlotGroup(config) {\n    const { id: id } = config;\n    const parameterTransforms = (0, $djimy.reactive)(config.parameterTransformIds.map($9f9fc157427b77a6$export$d5bc3025606077cd));\n    return {\n        id: id,\n        parameterTransforms: parameterTransforms\n    };\n}\nfunction $9f9fc157427b77a6$var$useActionCardSlotGroup(config) {\n    const { id: id } = config;\n    const parameterTransforms = (0, $djimy.reactive)(config.cards.map(({ parameterTransformId: parameterTransformId })=>$9f9fc157427b77a6$export$d5bc3025606077cd(parameterTransformId)));\n    return {\n        id: id,\n        parameterTransforms: parameterTransforms\n    };\n}\nfunction $9f9fc157427b77a6$var$useEventCardSlotGroup(config) {\n    const { id: id } = config;\n    const parameterTransforms = (0, $djimy.reactive)(config.cards.map(({ parameterTransformId: parameterTransformId })=>$9f9fc157427b77a6$export$d5bc3025606077cd(parameterTransformId)));\n    return {\n        id: id,\n        parameterTransforms: parameterTransforms\n    };\n}\nfunction $9f9fc157427b77a6$export$c3958279a8e7f3ca(config) {\n    const { type: type } = config;\n    switch(type){\n        case \"basic\":\n            return $9f9fc157427b77a6$var$useBasicSlotGroup(config);\n        case \"action-card\":\n            return $9f9fc157427b77a6$var$useActionCardSlotGroup(config);\n        case \"event-card\":\n            return $9f9fc157427b77a6$var$useEventCardSlotGroup(config);\n        default:\n            return (0, $6clsW.exhaustiveGuard)(type);\n    }\n}\nconst $9f9fc157427b77a6$export$acd2e06900408da2 = (0, $kV0Ly.defineStore)(\"slot-groups\", ()=>{\n    const { config: config } = (0, $7dQGn.useConfigStore)();\n    const internalSlotGroup = $9f9fc157427b77a6$export$1b929da68af3f2bb();\n    const nonInternalSlotGroups = config.interaction.slotGroups.map($9f9fc157427b77a6$export$c3958279a8e7f3ca);\n    const slotGroups = [\n        internalSlotGroup,\n        ...nonInternalSlotGroups\n    ];\n    const rebuildInternalSlotGroup = ()=>{\n        internalSlotGroup.parameterTransforms.splice(0, internalSlotGroup.parameterTransforms.length, ...$9f9fc157427b77a6$export$1b929da68af3f2bb().parameterTransforms);\n    };\n    return {\n        slotGroups: slotGroups,\n        internalSlotGroup: internalSlotGroup,\n        nonInternalSlotGroups: nonInternalSlotGroups,\n        rebuildInternalSlotGroup: rebuildInternalSlotGroup\n    };\n});\n\n});\nparcelRegister(\"6clsW\", function(module, exports) {\n\n$parcel$export(module.exports, \"exhaustiveGuard\", function () { return $8749890caf5fdf0f$export$bf9df2bc3f7ef580; });\nfunction $8749890caf5fdf0f$export$d3b922f0ea18ec50(f) {\n    return (...args)=>{\n        try {\n            return {\n                ok: true,\n                data: f(...args)\n            };\n        } catch (error) {\n            return {\n                ok: false,\n                error: error\n            };\n        }\n    };\n}\nfunction $8749890caf5fdf0f$export$7c0431e6a4957949(f) {\n    return async (...args)=>{\n        try {\n            return {\n                ok: true,\n                data: await f(...args)\n            };\n        } catch (error) {\n            return {\n                ok: false,\n                error: error\n            };\n        }\n    };\n}\nfunction $8749890caf5fdf0f$export$bf9df2bc3f7ef580(value) {\n    throw new Error(`Reached forbidden guard function with unexpected value: ${JSON.stringify(value)}`);\n}\n\n});\n\n\n\nparcelRegister(\"dNJei\", function(module, exports) {\n\n$parcel$export(module.exports, \"Scores\", function () { return $e0ed409047cd3bec$export$1f8210a5093264da; });\n\nvar $hWymx = parcelRequire(\"hWymx\");\nclass $e0ed409047cd3bec$export$1f8210a5093264da {\n    static circularity(record) {\n        const { produceFromNaturalResources: produceFromNaturalResources, acquireNewlyProduced: acquireNewlyProduced, acquireUsed: acquireUsed, acquireRepaired: acquireRepaired, acquireRefurbished: acquireRefurbished, disposeHibernating: disposeHibernating, disposeBroken: disposeBroken, landfill: landfill } = record.flows;\n        const naturalResourcesShare = Math.min(1.0, produceFromNaturalResources / (acquireNewlyProduced + acquireUsed + acquireRepaired + acquireRefurbished));\n        const landfillShare = Math.min(1.0, landfill / (disposeHibernating + disposeBroken));\n        const circularity = Math.min(1.0 - naturalResourcesShare, 1.0 - landfillShare);\n        if (!Number.isFinite(circularity) || Number.isNaN(circularity)) return 0;\n        (0, $hWymx.strict)(circularity >= 0 && circularity <= 1, \"circularity should be between 0 and 1\");\n        return circularity;\n    }\n    static happiness(record) {\n        const { phonesInUse: phonesInUse } = record.stocks;\n        const { phoneGoal: phoneGoal } = record.variables;\n        const userSatisfaction = phonesInUse < phoneGoal ? phonesInUse / phoneGoal : phoneGoal / phonesInUse;\n        if (!Number.isFinite(userSatisfaction) || Number.isNaN(userSatisfaction)) return 0;\n        (0, $hWymx.strict)(userSatisfaction >= 0 && userSatisfaction <= 1, \"userSatisfaction should be between 0 and 1\");\n        return userSatisfaction;\n    }\n    static all(record) {\n        const circularity = $e0ed409047cd3bec$export$1f8210a5093264da.circularity(record);\n        const happiness = $e0ed409047cd3bec$export$1f8210a5093264da.happiness(record);\n        return {\n            circularity: circularity,\n            happiness: happiness\n        };\n    }\n}\n\n});\n\n\nparcelRegister(\"d3Cdr\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $9819330937cb63c5$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $9819330937cb63c5$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-f8eb84\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $9819330937cb63c5$var$_hoisted_1 = {\n    class: \"scores\"\n};\nconst $9819330937cb63c5$var$_hoisted_2 = {\n    class: \"primary\"\n};\nconst $9819330937cb63c5$var$_hoisted_3 = {\n    class: \"secondary\"\n};\nconst $9819330937cb63c5$var$_hoisted_4 = {\n    class: \"primary score-column\"\n};\nfunction $9819330937cb63c5$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $9819330937cb63c5$var$_hoisted_1, [\n        (0, $djimy.createElementVNode)(\"table\", null, [\n            ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.scores, ({ score: score, primaryLabel: primaryLabel, secondaryLabel: secondaryLabel })=>{\n                return (0, $djimy.createElementVNode)(\"tr\", null, [\n                    (0, $djimy.createElementVNode)(\"td\", null, [\n                        (0, $djimy.createElementVNode)(\"span\", $9819330937cb63c5$var$_hoisted_2, (0, $djimy.toDisplayString)(primaryLabel) + \"\\xa0\", 1),\n                        (0, $djimy.createElementVNode)(\"span\", $9819330937cb63c5$var$_hoisted_3, (0, $djimy.toDisplayString)(secondaryLabel), 1)\n                    ]),\n                    (0, $djimy.createElementVNode)(\"td\", $9819330937cb63c5$var$_hoisted_4, (0, $djimy.toDisplayString)($setup.format(score.value)), 1)\n                ]);\n            }), 64))\n        ])\n    ]);\n}\n\n});\n\nparcelRegister(\"eATDO\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $a9ff96aaa9fac546$export$2e2bcd8739ae039; });\nlet $a9ff96aaa9fac546$var$NOOP = ()=>{};\nvar $a9ff96aaa9fac546$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"lbosM\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $f6bd99efb9596e4d$export$2e2bcd8739ae039; });\nlet $f6bd99efb9596e4d$var$script;\n\n\n\n\nlet $f6bd99efb9596e4d$var$initialize = ()=>{\n    $f6bd99efb9596e4d$var$script = (parcelRequire(\"4rVEm\"));\n    if ($f6bd99efb9596e4d$var$script.__esModule) $f6bd99efb9596e4d$var$script = $f6bd99efb9596e4d$var$script.default;\n    $f6bd99efb9596e4d$var$script.render = (parcelRequire(\"hT9Bb\")).render;\n    $f6bd99efb9596e4d$var$script.__cssModules = {};\n    (parcelRequire(\"9nPpA\")).default($f6bd99efb9596e4d$var$script);\n    $f6bd99efb9596e4d$var$script.__scopeId = \"data-v-d9018e\";\n    $f6bd99efb9596e4d$var$script.__file = \"ControlPanel.vue\";\n};\n$f6bd99efb9596e4d$var$initialize();\nvar $f6bd99efb9596e4d$export$2e2bcd8739ae039 = $f6bd99efb9596e4d$var$script;\n\n});\nparcelRegister(\"4rVEm\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $417672d13f6bb84f$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $1jdKh = parcelRequire(\"1jdKh\");\n\nvar $iTpok = parcelRequire(\"iTpok\");\n\nvar $3PxCe = parcelRequire(\"3PxCe\");\n\nvar $c1iJh = parcelRequire(\"c1iJh\");\n\nvar $d1qRQ = parcelRequire(\"d1qRQ\");\nvar $417672d13f6bb84f$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanel\",\n    props: {\n        disabled: Boolean\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const diagramsTabDisabled = (0, $djimy.ref)(true);\n        const __returned__ = {\n            props: props,\n            diagramsTabDisabled: diagramsTabDisabled,\n            ControlPanelTabInitialParameters: $1jdKh.default,\n            ControlPanelTabParameterTransforms: $iTpok.default,\n            ControlPanelTabCharts: $3PxCe.default,\n            ControlPanelTabImportExport: $c1iJh.default,\n            ControlPanelTabMisc: $d1qRQ.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"1jdKh\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $0f423a5d35ad2700$export$2e2bcd8739ae039; });\nlet $0f423a5d35ad2700$var$script;\n\n\n\n\nlet $0f423a5d35ad2700$var$initialize = ()=>{\n    $0f423a5d35ad2700$var$script = (parcelRequire(\"6swzs\"));\n    if ($0f423a5d35ad2700$var$script.__esModule) $0f423a5d35ad2700$var$script = $0f423a5d35ad2700$var$script.default;\n    $0f423a5d35ad2700$var$script.render = (parcelRequire(\"hqass\")).render;\n    $0f423a5d35ad2700$var$script.__cssModules = {};\n    (parcelRequire(\"HR4Xa\")).default($0f423a5d35ad2700$var$script);\n    $0f423a5d35ad2700$var$script.__scopeId = \"data-v-da743b\";\n    $0f423a5d35ad2700$var$script.__file = \"ControlPanelTabInitialParameters.vue\";\n};\n$0f423a5d35ad2700$var$initialize();\nvar $0f423a5d35ad2700$export$2e2bcd8739ae039 = $0f423a5d35ad2700$var$script;\n\n});\nparcelRegister(\"6swzs\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $433fab186c35cc81$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\nvar $433fab186c35cc81$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanelTabInitialParameters\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const modelStore = (0, $i5N9G.useModelStore)();\n        const initialParameters = (0, $9OMm5.toReactive)((0, $kV0Ly.storeToRefs)(modelStore).initialParameters);\n        const __returned__ = {\n            modelStore: modelStore,\n            initialParameters: initialParameters,\n            get parameterIds () {\n                return 0, $aDsGb.parameterIds;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"hqass\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $caecfa228c8d5ba0$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $caecfa228c8d5ba0$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-da743b\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $caecfa228c8d5ba0$var$_hoisted_1 = [\n    \"onUpdate:modelValue\"\n];\nfunction $caecfa228c8d5ba0$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.parameterIds, (parameterId)=>{\n        return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n            key: parameterId\n        }, [\n            (0, $djimy.createElementVNode)(\"div\", null, (0, $djimy.toDisplayString)(parameterId) + \" = \" + (0, $djimy.toDisplayString)($setup.initialParameters[parameterId]), 1),\n            (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"4\",\n                step: \"0.001\",\n                \"onUpdate:modelValue\": ($event)=>$setup.initialParameters[parameterId] = $event\n            }, null, 8, $caecfa228c8d5ba0$var$_hoisted_1), [\n                [\n                    (0, $djimy.vModelText),\n                    $setup.initialParameters[parameterId],\n                    void 0,\n                    {\n                        number: true\n                    }\n                ]\n            ])\n        ]);\n    }), 128);\n}\n\n});\n\nparcelRegister(\"HR4Xa\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $083d30a120d7f653$export$2e2bcd8739ae039; });\nlet $083d30a120d7f653$var$NOOP = ()=>{};\nvar $083d30a120d7f653$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"iTpok\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $dc110f4580b21879$export$2e2bcd8739ae039; });\nlet $dc110f4580b21879$var$script;\n\n\n\n\nlet $dc110f4580b21879$var$initialize = ()=>{\n    $dc110f4580b21879$var$script = (parcelRequire(\"2eFwL\"));\n    if ($dc110f4580b21879$var$script.__esModule) $dc110f4580b21879$var$script = $dc110f4580b21879$var$script.default;\n    $dc110f4580b21879$var$script.render = (parcelRequire(\"f0bUl\")).render;\n    $dc110f4580b21879$var$script.__cssModules = {};\n    (parcelRequire(\"4Of6y\")).default($dc110f4580b21879$var$script);\n    $dc110f4580b21879$var$script.__scopeId = \"data-v-75f13d\";\n    $dc110f4580b21879$var$script.__file = \"ControlPanelTabParameterTransforms.vue\";\n};\n$dc110f4580b21879$var$initialize();\nvar $dc110f4580b21879$export$2e2bcd8739ae039 = $dc110f4580b21879$var$script;\n\n});\nparcelRegister(\"2eFwL\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $b8d7873fc9b268e7$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $aWxmM = parcelRequire(\"aWxmM\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $5rTuK = parcelRequire(\"5rTuK\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\nvar $b8d7873fc9b268e7$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanelTabParameterTransforms\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const { transformedParametersExt: transformedParametersExt } = (0, $i5N9G.useModelStore)();\n        const parameterTransformsStore = (0, $5rTuK.useParameterTransformsStore)();\n        const { slotGroups: slotGroups, nonInternalSlotGroups: nonInternalSlotGroups, internalSlotGroup: internalSlotGroup } = (0, $cIjax.useSlotGroupsStore)();\n        const newId = (0, $djimy.ref)(\"\");\n        const newScript = (0, $djimy.ref)(\"\");\n        function select({ id: id }) {\n            newId.value = id;\n            newScript.value = parameterTransformsStore.parameterTransforms.find((pt)=>pt.id === id)?.script ?? \"\";\n        }\n        function addOrModify(id, script) {\n            parameterTransformsStore.addOrModify(id, script);\n            const internalIndex = internalSlotGroup.parameterTransforms.findIndex((pt)=>pt.id === id);\n            if (internalIndex === -1) {\n                // The parameter transform is not yet in the internal slot group, so we add it\n                const newParameterTransformState = (0, $cIjax.useParameterTransformId)(id);\n                internalSlotGroup.parameterTransforms.push(newParameterTransformState);\n            }\n        }\n        function remove(id) {\n            const usedNonInternally = nonInternalSlotGroups.flatMap(({ parameterTransforms: parameterTransforms })=>parameterTransforms).findIndex((pt)=>pt.id === id) !== -1;\n            if (usedNonInternally) {\n                alert(\"Cannot remove parameter transform that is still used in a non-internal slot group\");\n                return;\n            }\n            const nextInternalIndex = ()=>internalSlotGroup.parameterTransforms.findIndex((pt)=>pt.id === id);\n            for(let internalIndex = nextInternalIndex(); internalIndex !== -1; internalIndex = nextInternalIndex())internalSlotGroup.parameterTransforms.splice(internalIndex, 1);\n            parameterTransformsStore.remove(id);\n        }\n        function move(from, to) {\n            parameterTransformsStore.move(from, to);\n        }\n        function deactivateAllInternal() {\n            internalSlotGroup.parameterTransforms.forEach((pt)=>{\n                // eslint-disable-next-line no-param-reassign\n                pt.active = false;\n            });\n        }\n        const createTooltip = (slotGroup, parameterTransformState)=>{\n            const slotGroupIndex = slotGroups.findIndex((sg)=>sg === slotGroup);\n            (0, $hWymx.strict)(slotGroupIndex !== -1);\n            const slotGroupTransformedParametersExt = transformedParametersExt[slotGroupIndex];\n            const parameterTransformIndex = slotGroup.parameterTransforms.findIndex((pts)=>pts === parameterTransformState);\n            (0, $hWymx.strict)(parameterTransformIndex !== -1);\n            const step = slotGroupTransformedParametersExt.steps[parameterTransformIndex];\n            const { active: active, script: script, diff: diff } = step;\n            const pToS = (p)=>JSON.stringify(p, null, 2);\n            return active ? `Diff: ${pToS(diff)}\\n\\nScript:\\n${script}` : `Script:\\n${script}`;\n        };\n        const availableContainer = (0, $djimy.ref)(null);\n        (0, $djimy.onMounted)(()=>{\n            (0, $hWymx.strict)(availableContainer.value);\n            (0, $aWxmM.default).create(availableContainer.value, {\n                onEnd: (event)=>{\n                    const { newDraggableIndex: newDraggableIndex, oldDraggableIndex: oldDraggableIndex } = event;\n                    (0, $hWymx.strict)(typeof newDraggableIndex !== \"undefined\");\n                    (0, $hWymx.strict)(typeof oldDraggableIndex !== \"undefined\");\n                    move(oldDraggableIndex, newDraggableIndex);\n                }\n            });\n        });\n        const __returned__ = {\n            transformedParametersExt: transformedParametersExt,\n            parameterTransformsStore: parameterTransformsStore,\n            slotGroups: slotGroups,\n            nonInternalSlotGroups: nonInternalSlotGroups,\n            internalSlotGroup: internalSlotGroup,\n            newId: newId,\n            newScript: newScript,\n            select: select,\n            addOrModify: addOrModify,\n            remove: remove,\n            move: move,\n            deactivateAllInternal: deactivateAllInternal,\n            createTooltip: createTooltip,\n            availableContainer: availableContainer\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"f0bUl\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $aec017be103147c8$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $aec017be103147c8$var$_hoisted_1 = {\n    id: \"parameter-transforms\",\n    class: \"parameter-transforms\"\n};\nconst $aec017be103147c8$var$_hoisted_2 = {\n    ref: \"availableContainer\",\n    class: \"available\"\n};\nconst $aec017be103147c8$var$_hoisted_3 = [\n    \"id\",\n    \"data-id\",\n    \"title\"\n];\nconst $aec017be103147c8$var$_hoisted_4 = {\n    class: \"draggable\"\n};\nconst $aec017be103147c8$var$_hoisted_5 = [\n    \"name\",\n    \"value\",\n    \"onUpdate:modelValue\"\n];\nconst $aec017be103147c8$var$_hoisted_6 = {\n    class: \"draggable\"\n};\nconst $aec017be103147c8$var$_hoisted_7 = [\n    \"onClick\"\n];\nconst $aec017be103147c8$var$_hoisted_8 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_9 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_10 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_11 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_12 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_13 = {\n    class: \"slot-group-transforms\"\n};\nconst $aec017be103147c8$var$_hoisted_14 = [\n    \"data-id\"\n];\nconst $aec017be103147c8$var$_hoisted_15 = /*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1);\nconst $aec017be103147c8$var$_hoisted_16 = {\n    class: \"available\"\n};\nconst $aec017be103147c8$var$_hoisted_17 = [\n    \"data-id\",\n    \"title\"\n];\nconst $aec017be103147c8$var$_hoisted_18 = [\n    \"name\",\n    \"value\",\n    \"onUpdate:modelValue\"\n];\nconst $aec017be103147c8$var$_hoisted_19 = [\n    \"onClick\"\n];\nfunction $aec017be103147c8$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $aec017be103147c8$var$_hoisted_1, [\n        (0, $djimy.createElementVNode)(\"div\", null, [\n            (0, $djimy.createTextVNode)(\" Internal (applied first): \"),\n            (0, $djimy.createElementVNode)(\"div\", $aec017be103147c8$var$_hoisted_2, [\n                ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.internalSlotGroup.parameterTransforms, (pt)=>{\n                    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n                        class: \"parameter-transform\",\n                        key: pt.uuid,\n                        id: pt.uuid,\n                        \"data-id\": pt.id,\n                        title: $setup.createTooltip($setup.internalSlotGroup, pt)\n                    }, [\n                        (0, $djimy.createElementVNode)(\"label\", $aec017be103147c8$var$_hoisted_4, [\n                            (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"input\", {\n                                type: \"checkbox\",\n                                name: pt.id,\n                                value: pt.id,\n                                \"onUpdate:modelValue\": ($event)=>pt.active = $event\n                            }, null, 8, $aec017be103147c8$var$_hoisted_5), [\n                                [\n                                    (0, $djimy.vModelCheckbox),\n                                    pt.active\n                                ]\n                            ]),\n                            (0, $djimy.createElementVNode)(\"span\", $aec017be103147c8$var$_hoisted_6, (0, $djimy.toDisplayString)(pt.id), 1)\n                        ]),\n                        (0, $djimy.createElementVNode)(\"span\", {\n                            class: \"edit\",\n                            onClick: ($event)=>$setup.select(pt)\n                        }, \"\\u270E\", 8, $aec017be103147c8$var$_hoisted_7)\n                    ], 8, $aec017be103147c8$var$_hoisted_3);\n                }), 128))\n            ], 512),\n            $aec017be103147c8$var$_hoisted_8,\n            (0, $djimy.createElementVNode)(\"input\", {\n                type: \"button\",\n                value: \"Deactivate active internal transforms\",\n                onClick: _cache[0] || (_cache[0] = ($event)=>$setup.deactivateAllInternal())\n            })\n        ]),\n        (0, $djimy.createElementVNode)(\"div\", null, [\n            (0, $djimy.createElementVNode)(\"div\", null, [\n                (0, $djimy.createTextVNode)(\" Id:\"),\n                $aec017be103147c8$var$_hoisted_9,\n                (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"input\", {\n                    type: \"text\",\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event)=>$setup.newId = $event),\n                    name: \"parameter-transform-id\"\n                }, null, 512), [\n                    [\n                        (0, $djimy.vModelText),\n                        $setup.newId\n                    ]\n                ]),\n                $aec017be103147c8$var$_hoisted_10,\n                (0, $djimy.createTextVNode)(\" Script:\"),\n                $aec017be103147c8$var$_hoisted_11,\n                (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"textarea\", {\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event)=>$setup.newScript = $event),\n                    rows: \"5\",\n                    cols: \"10\",\n                    name: \"parameter-transform-script\"\n                }, null, 512), [\n                    [\n                        (0, $djimy.vModelText),\n                        $setup.newScript\n                    ]\n                ]),\n                $aec017be103147c8$var$_hoisted_12,\n                (0, $djimy.createElementVNode)(\"input\", {\n                    type: \"button\",\n                    value: \"Add/Modify\",\n                    onClick: _cache[3] || (_cache[3] = ($event)=>$setup.addOrModify($setup.newId, $setup.newScript))\n                }),\n                (0, $djimy.createElementVNode)(\"input\", {\n                    type: \"button\",\n                    value: \"Delete\",\n                    onClick: _cache[4] || (_cache[4] = ($event)=>$setup.remove($setup.newId))\n                })\n            ]),\n            (0, $djimy.createElementVNode)(\"div\", $aec017be103147c8$var$_hoisted_13, [\n                ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.nonInternalSlotGroups, (slotGroup)=>{\n                    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n                        key: slotGroup.id,\n                        \"data-id\": slotGroup.id\n                    }, [\n                        $aec017be103147c8$var$_hoisted_15,\n                        (0, $djimy.createTextVNode)(\" Slot group '\" + (0, $djimy.toDisplayString)(slotGroup.id) + \"': \", 1),\n                        (0, $djimy.createElementVNode)(\"div\", $aec017be103147c8$var$_hoisted_16, [\n                            ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)(slotGroup.parameterTransforms, (pt)=>{\n                                return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n                                    key: pt.uuid,\n                                    \"data-id\": pt.id,\n                                    title: $setup.createTooltip(slotGroup, pt)\n                                }, [\n                                    (0, $djimy.createElementVNode)(\"label\", null, [\n                                        (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"input\", {\n                                            type: \"checkbox\",\n                                            name: pt.id,\n                                            value: pt.id,\n                                            \"onUpdate:modelValue\": ($event)=>pt.active = $event,\n                                            disabled: \"\"\n                                        }, null, 8, $aec017be103147c8$var$_hoisted_18), [\n                                            [\n                                                (0, $djimy.vModelCheckbox),\n                                                pt.active\n                                            ]\n                                        ]),\n                                        (0, $djimy.createTextVNode)((0, $djimy.toDisplayString)(pt.id), 1)\n                                    ]),\n                                    (0, $djimy.createElementVNode)(\"span\", {\n                                        class: \"edit\",\n                                        onClick: ($event)=>$setup.select(pt)\n                                    }, \"\\u270E\", 8, $aec017be103147c8$var$_hoisted_19)\n                                ], 8, $aec017be103147c8$var$_hoisted_17);\n                            }), 128))\n                        ])\n                    ], 8, $aec017be103147c8$var$_hoisted_14);\n                }), 128))\n            ])\n        ])\n    ]);\n}\n\n});\n\nparcelRegister(\"4Of6y\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $38078c6eda257adf$export$2e2bcd8739ae039; });\nlet $38078c6eda257adf$var$NOOP = ()=>{};\nvar $38078c6eda257adf$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"3PxCe\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $2ca035e5600c52ee$export$2e2bcd8739ae039; });\nlet $2ca035e5600c52ee$var$script;\n\n\n\nlet $2ca035e5600c52ee$var$initialize = ()=>{\n    $2ca035e5600c52ee$var$script = (parcelRequire(\"4KeeH\"));\n    if ($2ca035e5600c52ee$var$script.__esModule) $2ca035e5600c52ee$var$script = $2ca035e5600c52ee$var$script.default;\n    $2ca035e5600c52ee$var$script.render = (parcelRequire(\"fqpjM\")).render;\n    (parcelRequire(\"aJLcO\")).default($2ca035e5600c52ee$var$script);\n    $2ca035e5600c52ee$var$script.__scopeId = \"data-v-ff532a\";\n    $2ca035e5600c52ee$var$script.__file = \"ControlPanelTabCharts.vue\";\n};\n$2ca035e5600c52ee$var$initialize();\nvar $2ca035e5600c52ee$export$2e2bcd8739ae039 = $2ca035e5600c52ee$var$script;\n\n});\nparcelRegister(\"4KeeH\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $efc8de590539c9b0$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $dbRyT = parcelRequire(\"dbRyT\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\nvar $efc8de590539c9b0$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanelTabCharts\",\n    props: {\n        disabled: Boolean\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        (0, $dbRyT.Chart).register((0, $dbRyT.BarController), (0, $dbRyT.Title), (0, $dbRyT.Tooltip), (0, $dbRyT.Legend), (0, $dbRyT.BarElement), (0, $dbRyT.CategoryScale), (0, $dbRyT.LinearScale));\n        const props = __props;\n        function toChartJsRecord(record) {\n            return (0, $aDsGb.CircularEconomyModel).elementIds.map((key)=>Object.entries(record[key]).map(([id, value])=>({\n                        id: id,\n                        value: value\n                    }))).reduce((cur, acc)=>[\n                    ...cur,\n                    ...acc\n                ], []);\n        }\n        const modelStore = (0, $i5N9G.useModelStore)();\n        const labels = {\n            stocks: (0, $aDsGb.stockIds),\n            flows: (0, $aDsGb.flowIds),\n            variables: (0, $aDsGb.variableIds),\n            parameters: (0, $aDsGb.parameterIds)\n        };\n        const labelsArray = Object.values(labels).flat();\n        const canvas = (0, $djimy.ref)(null);\n        (0, $djimy.onMounted)(()=>{\n            (0, $hWymx.strict)(canvas.value);\n            const chartJs = new (0, $dbRyT.Chart)(canvas.value, {\n                type: \"bar\",\n                data: {\n                    labels: labelsArray,\n                    datasets: [\n                        {\n                            label: \"Values\",\n                            data: new Array(labelsArray.length).fill(0)\n                        }\n                    ]\n                },\n                options: {\n                    animation: false\n                }\n            });\n            (0, $djimy.watchEffect)(()=>{\n                if (props.disabled) return;\n                const chartJsRecord = toChartJsRecord(modelStore.record);\n                chartJs.data.datasets[0].data = chartJsRecord.map((x)=>x.value);\n                chartJs.update();\n            });\n        });\n        const __returned__ = {\n            props: props,\n            toChartJsRecord: toChartJsRecord,\n            modelStore: modelStore,\n            labels: labels,\n            labelsArray: labelsArray,\n            canvas: canvas\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"fqpjM\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $b3acec57c11aa6d4$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $b3acec57c11aa6d4$var$_hoisted_1 = {\n    style: {\n        \"width\": \"100%\"\n    }\n};\nconst $b3acec57c11aa6d4$var$_hoisted_2 = {\n    ref: \"canvas\"\n};\nfunction $b3acec57c11aa6d4$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $b3acec57c11aa6d4$var$_hoisted_1, [\n        (0, $djimy.createElementVNode)(\"canvas\", $b3acec57c11aa6d4$var$_hoisted_2, null, 512)\n    ]);\n}\n\n});\n\nparcelRegister(\"aJLcO\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $7d12b96cb2c9491b$export$2e2bcd8739ae039; });\nlet $7d12b96cb2c9491b$var$NOOP = ()=>{};\nvar $7d12b96cb2c9491b$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"c1iJh\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $8c041b461947cf90$export$2e2bcd8739ae039; });\nlet $8c041b461947cf90$var$script;\n\n\n\n\nlet $8c041b461947cf90$var$initialize = ()=>{\n    $8c041b461947cf90$var$script = (parcelRequire(\"jVwA8\"));\n    if ($8c041b461947cf90$var$script.__esModule) $8c041b461947cf90$var$script = $8c041b461947cf90$var$script.default;\n    $8c041b461947cf90$var$script.render = (parcelRequire(\"gpQtt\")).render;\n    $8c041b461947cf90$var$script.__cssModules = {};\n    (parcelRequire(\"dtadU\")).default($8c041b461947cf90$var$script);\n    $8c041b461947cf90$var$script.__scopeId = \"data-v-6adaee\";\n    $8c041b461947cf90$var$script.__file = \"ControlPanelTabImportExport.vue\";\n};\n$8c041b461947cf90$var$initialize();\nvar $8c041b461947cf90$export$2e2bcd8739ae039 = $8c041b461947cf90$var$script;\n\n});\nparcelRegister(\"jVwA8\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $62b6d5b710521b97$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $jTevu = parcelRequire(\"jTevu\");\n\nvar $5rTuK = parcelRequire(\"5rTuK\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $krAM6 = parcelRequire(\"krAM6\");\n\nvar $coVQp = parcelRequire(\"coVQp\");\nvar $62b6d5b710521b97$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanelTabImportExport\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const { config: config } = (0, $7dQGn.useConfigStore)();\n        const parameterTransformsStore = (0, $5rTuK.useParameterTransformsStore)();\n        const { parameterTransforms: parameterTransforms } = parameterTransformsStore;\n        const { rebuildInternalSlotGroup: rebuildInternalSlotGroup } = (0, $cIjax.useSlotGroupsStore)();\n        const { initialParameters: initialParameters, transformedParametersExt: transformedParametersExt } = (0, $i5N9G.useModelStore)();\n        const OState = {\n            SUCCESS: 0,\n            UNPROCESSED: 1,\n            UNKNOWN: 2,\n            ERROR: 3\n        };\n        const stateTooltips = {\n            [OState.SUCCESS]: \"Successfully imported.\",\n            [OState.UNPROCESSED]: \"\",\n            [OState.UNKNOWN]: \"Unknown import state. Please check the developer console.\",\n            [OState.ERROR]: \"Failed to import. Please check the developer console.\"\n        };\n        const parameterTransformsYamlText = (0, $djimy.ref)(\"\");\n        const parameterTransformImportState = (0, $djimy.ref)(OState.UNPROCESSED);\n        const initialParametersYamlText = (0, $djimy.ref)(\"\");\n        const initialParametersImportState = (0, $djimy.ref)(OState.UNPROCESSED);\n        function deriveConfig(partialConfigText) {\n            try {\n                const unvalidatedPartialConfig = (0, $jTevu.default).load(partialConfigText) ?? {};\n                const newConfig = (0, $coVQp.ConfigLoader).merge(structuredClone((0, $djimy.toRaw)(config)), unvalidatedPartialConfig);\n                const validationResult = (0, $krAM6.validateConfig)(newConfig);\n                if (!validationResult.ok) {\n                    /* eslint-disable no-console */ const { error: { errors: errors, explanation: explanation } } = validationResult;\n                    console.error(\"Invalid configuration:\", newConfig);\n                    console.error(explanation);\n                    console.error(\"Issues reported by the configuration validator:\", ...errors ?? []);\n                    return null;\n                }\n                return validationResult.data;\n            } catch (error) {\n                console.error(\"Failed to parse YAML:\", error);\n                return null;\n            }\n        }\n        async function importInitialParameters() {\n            const newConfig = deriveConfig(initialParametersYamlText.value);\n            initialParametersImportState.value = newConfig === null ? OState.ERROR : OState.UNKNOWN;\n            if (!newConfig) return;\n            const { model: { initialParameters: validatedInitialParameters } } = newConfig;\n            Object.assign(initialParameters, validatedInitialParameters);\n            initialParametersImportState.value = OState.SUCCESS;\n        }\n        async function importParameterTransforms() {\n            const newConfig = deriveConfig(parameterTransformsYamlText.value);\n            parameterTransformImportState.value = newConfig === null ? OState.ERROR : OState.UNKNOWN;\n            if (!newConfig) return;\n            const { parameterTransforms: validatedParameterTransforms } = newConfig;\n            const transformParametersPromise = new Promise((resolve, reject)=>{\n                (0, $djimy.watch)(transformedParametersExt, resolve, {\n                    deep: true,\n                    once: true\n                });\n            });\n            parameterTransformsStore.replaceAll(validatedParameterTransforms);\n            rebuildInternalSlotGroup();\n            await transformParametersPromise;\n            parameterTransformImportState.value = OState.SUCCESS;\n        }\n        function exportInitialParameters() {\n            initialParametersImportState.value = OState.UNPROCESSED;\n            const exportObj = {\n                model: {\n                    initialParameters: initialParameters\n                }\n            };\n            initialParametersYamlText.value = (0, $jTevu.default).dump(exportObj);\n            console.log(initialParametersYamlText.value);\n        }\n        function exportParameterTransforms() {\n            parameterTransformImportState.value = OState.UNPROCESSED;\n            const exportObj = {\n                parameterTransforms: parameterTransforms.map(({ id: id, script: script })=>({\n                        id: id,\n                        script: script\n                    }))\n            };\n            parameterTransformsYamlText.value = (0, $jTevu.default).dump(exportObj);\n            console.log(parameterTransformsYamlText.value);\n        }\n        const __returned__ = {\n            config: config,\n            parameterTransformsStore: parameterTransformsStore,\n            parameterTransforms: parameterTransforms,\n            rebuildInternalSlotGroup: rebuildInternalSlotGroup,\n            initialParameters: initialParameters,\n            transformedParametersExt: transformedParametersExt,\n            OState: OState,\n            stateTooltips: stateTooltips,\n            parameterTransformsYamlText: parameterTransformsYamlText,\n            parameterTransformImportState: parameterTransformImportState,\n            initialParametersYamlText: initialParametersYamlText,\n            initialParametersImportState: initialParametersImportState,\n            deriveConfig: deriveConfig,\n            importInitialParameters: importInitialParameters,\n            importParameterTransforms: importParameterTransforms,\n            exportInitialParameters: exportInitialParameters,\n            exportParameterTransforms: exportParameterTransforms\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"krAM6\", function(module, exports) {\n\n$parcel$export(module.exports, \"validateConfig\", function () { return $8c6f320334d39d66$export$127f9a442b42d18; });\n\nvar $Clc2s = parcelRequire(\"Clc2s\");\n\nvar $ke2S4 = parcelRequire(\"ke2S4\");\nparcelRequire(\"bepfO\");\nconst $8c6f320334d39d66$export$e54a743cb2cd79b9 = (0, $ke2S4.SuretypeConfigSchema);\nconst $8c6f320334d39d66$var$validateConfigSuretype = (0, $Clc2s.compile)($8c6f320334d39d66$export$e54a743cb2cd79b9);\nconst $8c6f320334d39d66$var$ensureConfigSuretype = (0, $Clc2s.compile)($8c6f320334d39d66$export$e54a743cb2cd79b9, {\n    ensure: true\n});\nconst $8c6f320334d39d66$var$isValidConfigSuretype = (0, $Clc2s.compile)($8c6f320334d39d66$export$e54a743cb2cd79b9, {\n    simple: true\n});\nconst $8c6f320334d39d66$export$127f9a442b42d18 = (data)=>{\n    const validationResult = $8c6f320334d39d66$var$validateConfigSuretype(data);\n    if (!validationResult.ok) {\n        const { errors: errors, explanation: explanation } = validationResult;\n        return {\n            ok: false,\n            error: {\n                errors: errors,\n                explanation: explanation\n            }\n        };\n    }\n    return {\n        ok: true,\n        data: data\n    };\n};\nconst $8c6f320334d39d66$export$a7edd0de05e78100 = (data)=>$8c6f320334d39d66$var$ensureConfigSuretype(data);\nconst $8c6f320334d39d66$export$ceb61b36531bb26c = (data)=>$8c6f320334d39d66$var$isValidConfigSuretype(data);\n\n});\nparcelRegister(\"ke2S4\", function(module, exports) {\n\n$parcel$export(module.exports, \"SuretypeConfigSchema\", function () { return $07c7bb3554c31a9f$export$a26eaca21534c20c; });\n\nvar $Clc2s = parcelRequire(\"Clc2s\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\nconst $07c7bb3554c31a9f$var$POSITIONAL_ASSET_REGEX = /_x[+-]?[0-9]+_y[+-]?[0-9]+\\.[a-zA-Z0-9]+$/g;\nconst $07c7bb3554c31a9f$var$AssetUrlSchema = (0, $Clc2s.v).string().matches($07c7bb3554c31a9f$var$POSITIONAL_ASSET_REGEX);\nconst $07c7bb3554c31a9f$var$ParameterTransformSchema = (0, $Clc2s.suretype)({\n    name: \"ParameterTransformConfig\"\n}, (0, $Clc2s.v).object({\n    id: (0, $Clc2s.v).string().required(),\n    script: (0, $Clc2s.v).string().required()\n}).additional(false).required());\nconst $07c7bb3554c31a9f$var$ParameterTransformsSchema = (0, $Clc2s.v).array($07c7bb3554c31a9f$var$ParameterTransformSchema);\nconst $07c7bb3554c31a9f$var$InitialParametersSchema = (0, $Clc2s.suretype)({\n    name: \"InitialParametersConfig\"\n}, (0, $Clc2s.v).object(Object.fromEntries((0, $aDsGb.parameterIds).map((p)=>[\n        p,\n        (0, $Clc2s.v).number().required()\n    ]))).additional(false));\nconst $07c7bb3554c31a9f$var$InitialStocksSchema = (0, $Clc2s.suretype)({\n    name: \"InitialStocksConfig\"\n}, (0, $Clc2s.v).object(Object.fromEntries((0, $aDsGb.stockIds).map((p)=>[\n        p,\n        (0, $Clc2s.v).number().required()\n    ]))).additional(false));\nconst $07c7bb3554c31a9f$var$MarkerSlotSchema = (0, $Clc2s.suretype)({\n    name: \"MarkerSlotConfig\"\n}, (0, $Clc2s.v).object({\n    id: (0, $Clc2s.v).string().required(),\n    x: (0, $Clc2s.v).number().required(),\n    y: (0, $Clc2s.v).number().required(),\n    angle: (0, $Clc2s.v).number().required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$CardSlotSchema = (0, $Clc2s.suretype)({\n    name: \"CardSlotConfig\"\n}, (0, $Clc2s.v).object({\n    id: (0, $Clc2s.v).string().required(),\n    x: (0, $Clc2s.v).number().required(),\n    y: (0, $Clc2s.v).number().required(),\n    angle: (0, $Clc2s.v).number().required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$CardSchema = (0, $Clc2s.suretype)({\n    name: \"CardConfig\"\n}, (0, $Clc2s.v).object({\n    parameterTransformId: (0, $Clc2s.v).string().required(),\n    url: (0, $Clc2s.v).string().required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$SlotGroupIdSchema = (0, $Clc2s.v).string().matches(/^((?!internal).)*$/g);\nconst $07c7bb3554c31a9f$var$BasicSlotGroupSchema = (0, $Clc2s.suretype)({\n    name: \"BasicSlotGroupConfig\"\n}, (0, $Clc2s.v).object({\n    id: $07c7bb3554c31a9f$var$SlotGroupIdSchema.required(),\n    type: (0, $Clc2s.v).string().enum(\"basic\").required(),\n    slots: (0, $Clc2s.v).array($07c7bb3554c31a9f$var$MarkerSlotSchema).required(),\n    parameterTransformIds: (0, $Clc2s.v).array((0, $Clc2s.v).string()).required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$ActionCardSlotGroupSchema = (0, $Clc2s.suretype)({\n    name: \"ActionCardSlotGroupConfig\"\n}, (0, $Clc2s.v).object({\n    id: $07c7bb3554c31a9f$var$SlotGroupIdSchema.required(),\n    type: (0, $Clc2s.v).string().enum(\"action-card\").required(),\n    slots: (0, $Clc2s.v).array((0, $Clc2s.v).object({\n        markerSlot: $07c7bb3554c31a9f$var$MarkerSlotSchema.required(),\n        cardSlot: $07c7bb3554c31a9f$var$CardSlotSchema.required()\n    }).additional(false)).required(),\n    cards: (0, $Clc2s.v).array($07c7bb3554c31a9f$var$CardSchema).required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$EventCardSlotGroupSchema = (0, $Clc2s.suretype)({\n    name: \"EventCardSlotGroupConfig\"\n}, (0, $Clc2s.v).object({\n    id: $07c7bb3554c31a9f$var$SlotGroupIdSchema.required(),\n    type: (0, $Clc2s.v).string().enum(\"event-card\").required(),\n    markerSlot: $07c7bb3554c31a9f$var$MarkerSlotSchema.required(),\n    cardSlots: (0, $Clc2s.v).array($07c7bb3554c31a9f$var$CardSlotSchema).required(),\n    cards: (0, $Clc2s.v).array($07c7bb3554c31a9f$var$CardSchema).required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$SlotGroupSchema = (0, $Clc2s.suretype)({\n    name: \"SlotGroup\"\n}, (0, $Clc2s.v).anyOf([\n    $07c7bb3554c31a9f$var$BasicSlotGroupSchema,\n    $07c7bb3554c31a9f$var$ActionCardSlotGroupSchema,\n    $07c7bb3554c31a9f$var$EventCardSlotGroupSchema\n]));\nconst $07c7bb3554c31a9f$var$ModelVisualizationLayerSchema = (0, $Clc2s.suretype)({\n    name: \"ModelVisualizationLayerConfig\"\n}, (0, $Clc2s.v).string().enum(\"modelVisualization\"));\nconst $07c7bb3554c31a9f$var$ConditionalLayerSchema = (0, $Clc2s.suretype)({\n    name: \"ConditionalLayerConfig\"\n}, (0, $Clc2s.v).object({\n    url: $07c7bb3554c31a9f$var$AssetUrlSchema.required(),\n    condition: (0, $Clc2s.v).string().required()\n}).additional(false).required());\nconst $07c7bb3554c31a9f$var$LayersSchema = (0, $Clc2s.v).array((0, $Clc2s.v).anyOf([\n    $07c7bb3554c31a9f$var$ModelVisualizationLayerSchema,\n    $07c7bb3554c31a9f$var$ConditionalLayerSchema\n]));\nconst $07c7bb3554c31a9f$var$GeneralSchema = (0, $Clc2s.suretype)({\n    name: \"GeneralConfig\"\n}, (0, $Clc2s.v).object({\n    assetBaseDir: (0, $Clc2s.v).string().required(),\n    primaryLanguage: (0, $Clc2s.v).string().required(),\n    secondaryLanguage: (0, $Clc2s.v).string().required(),\n    scoreLabels: (0, $Clc2s.v).object({\n        circularity: (0, $Clc2s.v).object({}).additional((0, $Clc2s.v).string()).required(),\n        happiness: (0, $Clc2s.v).object({}).additional((0, $Clc2s.v).string()).required()\n    }).additional(false).required()\n}).additional(false));\nconst $07c7bb3554c31a9f$var$AssetUrlObjectSchema = (0, $Clc2s.v).object({\n    url: $07c7bb3554c31a9f$var$AssetUrlSchema.required()\n}).additional(false);\nconst $07c7bb3554c31a9f$var$InteractionSchema = (0, $Clc2s.suretype)({\n    name: \"InteractionConfig\"\n}, (0, $Clc2s.v).object({\n    actionCardDelayMs: (0, $Clc2s.v).number().gte(0).required(),\n    eventCardMinDelayMs: (0, $Clc2s.v).number().gte(0).required(),\n    eventCardMaxDelayMs: (0, $Clc2s.v).number().gte(0).required(),\n    eventCardMinDurationMs: (0, $Clc2s.v).number().gte(0).required(),\n    eventCardMaxDurationMs: (0, $Clc2s.v).number().gte(0).required(),\n    assets: (0, $Clc2s.v).object({\n        markerSlotActive: $07c7bb3554c31a9f$var$AssetUrlObjectSchema.required(),\n        markerSlotInactive: $07c7bb3554c31a9f$var$AssetUrlObjectSchema.required()\n    }).additional(false).required(),\n    slotGroups: (0, $Clc2s.v).array($07c7bb3554c31a9f$var$SlotGroupSchema).required()\n}).additional(false));\nconst $07c7bb3554c31a9f$export$675a979b2bc8bb4b = \"Config\";\nconst $07c7bb3554c31a9f$export$a26eaca21534c20c = (0, $Clc2s.suretype)({\n    name: $07c7bb3554c31a9f$export$675a979b2bc8bb4b\n}, (0, $Clc2s.v).object({\n    general: $07c7bb3554c31a9f$var$GeneralSchema.required(),\n    model: (0, $Clc2s.v).object({\n        initialParameters: $07c7bb3554c31a9f$var$InitialParametersSchema.required(),\n        initialStocks: $07c7bb3554c31a9f$var$InitialStocksSchema.required()\n    }).additional(false).required(),\n    simulation: (0, $Clc2s.v).object({\n        deltaPerSecond: (0, $Clc2s.v).number().required(),\n        maxStepSize: (0, $Clc2s.v).number().required()\n    }).additional(false).required(),\n    parameterTransforms: $07c7bb3554c31a9f$var$ParameterTransformsSchema.required(),\n    interaction: $07c7bb3554c31a9f$var$InteractionSchema.required(),\n    layers: $07c7bb3554c31a9f$var$LayersSchema.required()\n}).additional(false).required());\n\n});\n\nparcelRegister(\"bepfO\", function(module, exports) {\nparcelRequire(\"cbFbI\");\n\n});\nparcelRegister(\"cbFbI\", function(module, exports) {\n/* tslint:disable */ /* eslint-disable */ /**\n * This file is generated by core-types-ts on behalf of typeconv, DO NOT EDIT.\n * For more information, see:\n *  - {@link https://github.com/grantila/core-types-ts}\n *  - {@link https://github.com/grantila/typeconv}\n */ \n});\n\n\n\nparcelRegister(\"coVQp\", function(module, exports) {\n\n$parcel$export(module.exports, \"ConfigLoader\", function () { return $e3d07e970acdc070$export$74b74ee58cf5eeb2; });\n\nvar $jTevu = parcelRequire(\"jTevu\");\n\nvar $fWsyq = parcelRequire(\"fWsyq\");\n\nvar $krAM6 = parcelRequire(\"krAM6\");\nfunction $e3d07e970acdc070$var$overwriteMerge(destination, source) {\n    return source;\n}\nclass $e3d07e970acdc070$export$74b74ee58cf5eeb2 {\n    static async fetch(url) {\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(`Failed to load config file '${url.toString()}': ${response.statusText}`);\n        const text = await response.text();\n        const json = (0, $jTevu.default).load(text, {\n            schema: (0, $jTevu.default).JSON_SCHEMA\n        });\n        if (typeof json !== \"object\" || json === null) throw new Error(`Failed to parse config file '${url.toString()}': ${JSON.stringify(json)}`);\n        return json;\n    }\n    static merge(...segments) {\n        return (0, (/*@__PURE__*/$parcel$interopDefault($fWsyq))).all(segments, {\n            arrayMerge: $e3d07e970acdc070$var$overwriteMerge\n        });\n    }\n    static async safeLoad(...urls) {\n        const segments = await Promise.all(urls.map(async (url)=>[\n                url,\n                await $e3d07e970acdc070$export$74b74ee58cf5eeb2.fetch(url)\n            ]));\n        const merged = $e3d07e970acdc070$export$74b74ee58cf5eeb2.merge(...segments.map(([_, jsonSegment])=>jsonSegment));\n        const validationResult = (0, $krAM6.validateConfig)(merged);\n        if (!validationResult.ok) return {\n            ok: false,\n            error: {\n                config: {\n                    merged: merged,\n                    segments: segments\n                },\n                error: validationResult.error\n            }\n        };\n        return {\n            ok: true,\n            data: validationResult.data\n        };\n    }\n    static async load(...urls) {\n        const loadResult = await $e3d07e970acdc070$export$74b74ee58cf5eeb2.safeLoad(...urls);\n        if (!loadResult.ok) // eslint-disable-next-line @typescript-eslint/no-throw-literal\n        throw loadResult.error;\n        return loadResult.data;\n    }\n}\n\n});\n\n\nparcelRegister(\"gpQtt\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $bf37af7b456c67fe$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $bf37af7b456c67fe$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-6adaee\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $bf37af7b456c67fe$var$_hoisted_1 = /*#__PURE__*/ $bf37af7b456c67fe$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1));\nconst $bf37af7b456c67fe$var$_hoisted_2 = [\n    \"title\"\n];\nconst $bf37af7b456c67fe$var$_hoisted_3 = /*#__PURE__*/ $bf37af7b456c67fe$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1));\nconst $bf37af7b456c67fe$var$_hoisted_4 = /*#__PURE__*/ $bf37af7b456c67fe$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1));\nconst $bf37af7b456c67fe$var$_hoisted_5 = [\n    \"title\"\n];\nfunction $bf37af7b456c67fe$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, [\n        (0, $djimy.createTextVNode)(\" Initial parameters:\"),\n        $bf37af7b456c67fe$var$_hoisted_1,\n        (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"textarea\", {\n            name: \"initialParametersYamlText\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event)=>$setup.initialParametersYamlText = $event),\n            rows: \"15\",\n            cols: \"80\",\n            class: (0, $djimy.normalizeClass)({\n                success: $setup.initialParametersImportState === $setup.OState.SUCCESS,\n                error: $setup.initialParametersImportState === $setup.OState.ERROR\n            }),\n            title: $setup.stateTooltips[$setup.initialParametersImportState],\n            onInput: _cache[1] || (_cache[1] = ($event)=>$setup.initialParametersImportState = $setup.OState.UNPROCESSED)\n        }, null, 42, $bf37af7b456c67fe$var$_hoisted_2), [\n            [\n                (0, $djimy.vModelText),\n                $setup.initialParametersYamlText\n            ]\n        ]),\n        (0, $djimy.createElementVNode)(\"div\", null, [\n            (0, $djimy.createElementVNode)(\"input\", {\n                type: \"button\",\n                value: \"Import\",\n                onClick: _cache[2] || (_cache[2] = ($event)=>$setup.importInitialParameters())\n            }),\n            (0, $djimy.createElementVNode)(\"input\", {\n                type: \"button\",\n                value: \"Export\",\n                onClick: _cache[3] || (_cache[3] = ($event)=>$setup.exportInitialParameters())\n            })\n        ]),\n        $bf37af7b456c67fe$var$_hoisted_3,\n        (0, $djimy.createTextVNode)(\" Parameter transforms:\"),\n        $bf37af7b456c67fe$var$_hoisted_4,\n        (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"textarea\", {\n            name: \"parameterTransformYamlText\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event)=>$setup.parameterTransformsYamlText = $event),\n            rows: \"15\",\n            cols: \"80\",\n            class: (0, $djimy.normalizeClass)({\n                success: $setup.parameterTransformImportState === $setup.OState.SUCCESS,\n                unknown: $setup.parameterTransformImportState === $setup.OState.UNKNOWN,\n                error: $setup.parameterTransformImportState === $setup.OState.ERROR\n            }),\n            title: $setup.stateTooltips[$setup.parameterTransformImportState],\n            onInput: _cache[5] || (_cache[5] = ($event)=>$setup.parameterTransformImportState = $setup.OState.UNPROCESSED)\n        }, null, 42, $bf37af7b456c67fe$var$_hoisted_5), [\n            [\n                (0, $djimy.vModelText),\n                $setup.parameterTransformsYamlText\n            ]\n        ]),\n        (0, $djimy.createElementVNode)(\"div\", null, [\n            (0, $djimy.createElementVNode)(\"input\", {\n                type: \"button\",\n                value: \"Import\",\n                onClick: _cache[6] || (_cache[6] = ($event)=>$setup.importParameterTransforms())\n            }),\n            (0, $djimy.createElementVNode)(\"input\", {\n                type: \"button\",\n                value: \"Export\",\n                onClick: _cache[7] || (_cache[7] = ($event)=>$setup.exportParameterTransforms())\n            })\n        ])\n    ], 64);\n}\n\n});\n\nparcelRegister(\"dtadU\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $9ce5e9f631706ff0$export$2e2bcd8739ae039; });\nlet $9ce5e9f631706ff0$var$NOOP = ()=>{};\nvar $9ce5e9f631706ff0$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"d1qRQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $97b035a81ac928d2$export$2e2bcd8739ae039; });\nlet $97b035a81ac928d2$var$script;\n\n\n\nlet $97b035a81ac928d2$var$initialize = ()=>{\n    $97b035a81ac928d2$var$script = (parcelRequire(\"e1eyS\"));\n    if ($97b035a81ac928d2$var$script.__esModule) $97b035a81ac928d2$var$script = $97b035a81ac928d2$var$script.default;\n    $97b035a81ac928d2$var$script.render = (parcelRequire(\"5Fgja\")).render;\n    (parcelRequire(\"kdosU\")).default($97b035a81ac928d2$var$script);\n    $97b035a81ac928d2$var$script.__scopeId = \"data-v-fd01b4\";\n    $97b035a81ac928d2$var$script.__file = \"ControlPanelTabMisc.vue\";\n};\n$97b035a81ac928d2$var$initialize();\nvar $97b035a81ac928d2$export$2e2bcd8739ae039 = $97b035a81ac928d2$var$script;\n\n});\nparcelRegister(\"e1eyS\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $979f2ad2ef920c94$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $gK2p2 = parcelRequire(\"gK2p2\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\nvar $979f2ad2ef920c94$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ControlPanelTabMisc\",\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const togglePlayingBtnId = `btn-toggle-playing-${(0, $gK2p2.default)()}`;\n        const toggleFullscreenBtnId = `btn-toggle-playing-${(0, $gK2p2.default)()}`;\n        const toggleDeveloperModeBtnId = `btn-toggle-playing-${(0, $gK2p2.default)()}`;\n        const toggleHighlightDerivativesBtnId = `btn-toggle-playing-${(0, $gK2p2.default)()}`;\n        const appStore = (0, $f4LB1.useAppStore)();\n        const togglePlaying = ()=>appStore.$patch({\n                isPlaying: !appStore.isPlaying\n            });\n        const toggleFullscreen = ()=>appStore.$patch({\n                isFullscreen: !appStore.isFullscreen\n            });\n        const toggleDeveloperMode = ()=>appStore.$patch({\n                isDeveloperModeActive: !appStore.isDeveloperModeActive\n            });\n        const toggleHighlightDerivatives = ()=>appStore.$patch({\n                highlightDerivatives: !appStore.highlightDerivatives\n            });\n        const __returned__ = {\n            togglePlayingBtnId: togglePlayingBtnId,\n            toggleFullscreenBtnId: toggleFullscreenBtnId,\n            toggleDeveloperModeBtnId: toggleDeveloperModeBtnId,\n            toggleHighlightDerivativesBtnId: toggleHighlightDerivativesBtnId,\n            appStore: appStore,\n            togglePlaying: togglePlaying,\n            toggleFullscreen: toggleFullscreen,\n            toggleDeveloperMode: toggleDeveloperMode,\n            toggleHighlightDerivatives: toggleHighlightDerivatives,\n            get HOTKEYS () {\n                return 0, $7Rjir.HOTKEYS;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"5Fgja\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $41fd6e91dc0c2209$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nfunction $41fd6e91dc0c2209$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, [\n        (0, $djimy.createElementVNode)(\"input\", {\n            type: \"checkbox\",\n            class: (0, $djimy.normalizeClass)([\n                \"btn-check\",\n                ()=>$setup.appStore.isFullscreen ? \"active\" : \"\"\n            ]),\n            id: $setup.togglePlayingBtnId,\n            autocomplete: \"off\",\n            onClick: $setup.togglePlaying\n        }, null, 2),\n        (0, $djimy.createElementVNode)(\"label\", {\n            class: \"btn btn-primary\",\n            for: $setup.togglePlayingBtnId\n        }, \"Run (\" + (0, $djimy.toDisplayString)($setup.HOTKEYS.run.label) + \")\", 1),\n        (0, $djimy.createElementVNode)(\"input\", {\n            type: \"checkbox\",\n            class: (0, $djimy.normalizeClass)([\n                \"btn-check\",\n                ()=>$setup.appStore.isFullscreen ? \"active\" : \"\"\n            ]),\n            id: $setup.toggleFullscreenBtnId,\n            autocomplete: \"off\"\n        }, null, 2),\n        (0, $djimy.createElementVNode)(\"label\", {\n            class: \"btn btn-primary\",\n            for: $setup.toggleFullscreenBtnId,\n            onClick: $setup.toggleFullscreen\n        }, \"Fullscreen (\" + (0, $djimy.toDisplayString)($setup.HOTKEYS.fullscreen.label) + \")\", 1),\n        (0, $djimy.createElementVNode)(\"input\", {\n            type: \"checkbox\",\n            class: (0, $djimy.normalizeClass)([\n                \"btn-check\",\n                ()=>$setup.appStore.isDeveloperModeActive ? \"active\" : \"\"\n            ]),\n            id: $setup.toggleDeveloperModeBtnId,\n            autocomplete: \"off\"\n        }, null, 2),\n        (0, $djimy.createElementVNode)(\"label\", {\n            class: \"btn btn-primary\",\n            for: $setup.toggleDeveloperModeBtnId,\n            onClick: $setup.toggleDeveloperMode\n        }, \"Developer mode (\" + (0, $djimy.toDisplayString)($setup.HOTKEYS.developerMode.label) + \")\", 1),\n        (0, $djimy.createElementVNode)(\"input\", {\n            type: \"checkbox\",\n            class: (0, $djimy.normalizeClass)([\n                \"btn-check\",\n                ()=>$setup.appStore.highlightDerivatives ? \"active\" : \"\"\n            ]),\n            id: $setup.toggleHighlightDerivativesBtnId,\n            autocomplete: \"off\"\n        }, null, 2),\n        (0, $djimy.createElementVNode)(\"label\", {\n            class: \"btn btn-primary\",\n            for: $setup.toggleHighlightDerivativesBtnId,\n            onClick: $setup.toggleHighlightDerivatives\n        }, \"Highlight derivatives (\" + (0, $djimy.toDisplayString)($setup.HOTKEYS.highlightDerivatives.label) + \")\", 1)\n    ], 64);\n}\n\n});\n\nparcelRegister(\"kdosU\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $eb77ffd843d230ac$export$2e2bcd8739ae039; });\nlet $eb77ffd843d230ac$var$NOOP = ()=>{};\nvar $eb77ffd843d230ac$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\n\nparcelRegister(\"hT9Bb\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $d05f04d0be94f565$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $d05f04d0be94f565$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-d9018e\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $d05f04d0be94f565$var$_hoisted_1 = {\n    class: \"nav nav-tabs\",\n    id: \"nav-tab\",\n    role: \"tablist\"\n};\nconst $d05f04d0be94f565$var$_hoisted_2 = /*#__PURE__*/ $d05f04d0be94f565$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"button\", {\n        class: \"nav-link\",\n        id: \"nav-initial-parameters-tab\",\n        \"data-bs-toggle\": \"tab\",\n        \"data-bs-target\": \"#nav-initial-parameters\",\n        type: \"button\",\n        role: \"tab\",\n        \"aria-controls\": \"nav-initial-parameters\",\n        \"aria-selected\": \"false\"\n    }, \" Initial parameters \", -1));\nconst $d05f04d0be94f565$var$_hoisted_3 = /*#__PURE__*/ $d05f04d0be94f565$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"button\", {\n        class: \"nav-link active\",\n        id: \"nav-parameter-transforms-tab\",\n        \"data-bs-toggle\": \"tab\",\n        \"data-bs-target\": \"#nav-parameter-transforms\",\n        type: \"button\",\n        role: \"tab\",\n        \"aria-controls\": \"nav-parameter-transforms\",\n        \"aria-selected\": \"true\"\n    }, \" Parameter transforms \", -1));\nconst $d05f04d0be94f565$var$_hoisted_4 = /*#__PURE__*/ $d05f04d0be94f565$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"button\", {\n        class: \"nav-link\",\n        id: \"nav-import-export-tab\",\n        \"data-bs-toggle\": \"tab\",\n        \"data-bs-target\": \"#nav-import-export\",\n        type: \"button\",\n        role: \"tab\",\n        \"aria-controls\": \"nav-import-export\",\n        \"aria-selected\": \"false\"\n    }, \" Import/Export \", -1));\nconst $d05f04d0be94f565$var$_hoisted_5 = /*#__PURE__*/ $d05f04d0be94f565$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"button\", {\n        class: \"nav-link\",\n        id: \"nav-misc-tab\",\n        \"data-bs-toggle\": \"tab\",\n        \"data-bs-target\": \"#nav-misc\",\n        type: \"button\",\n        role: \"tab\",\n        \"aria-controls\": \"nav-misc\",\n        \"aria-selected\": \"true\"\n    }, \" Misc \", -1));\nconst $d05f04d0be94f565$var$_hoisted_6 = {\n    class: \"tab-content\",\n    id: \"nav-tabContent\"\n};\nconst $d05f04d0be94f565$var$_hoisted_7 = {\n    class: \"tab-pane show\",\n    id: \"nav-initial-parameters\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-initial-parameters-tab\",\n    tabindex: \"0\"\n};\nconst $d05f04d0be94f565$var$_hoisted_8 = {\n    class: \"tab-pane show active\",\n    id: \"nav-parameter-transforms\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-parameter-transforms-tab\",\n    tabindex: \"0\"\n};\nconst $d05f04d0be94f565$var$_hoisted_9 = {\n    class: \"tab-pane show\",\n    id: \"nav-diagrams\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-diagrams-tab\",\n    tabindex: \"0\"\n};\nconst $d05f04d0be94f565$var$_hoisted_10 = {\n    class: \"tab-pane show\",\n    id: \"nav-import-export\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-import-export-tab\",\n    tabindex: \"0\"\n};\nconst $d05f04d0be94f565$var$_hoisted_11 = {\n    class: \"tab-pane show\",\n    id: \"nav-misc\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-misc-tab\",\n    tabindex: \"0\"\n};\nfunction $d05f04d0be94f565$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        class: (0, $djimy.normalizeClass)([\n            \"control-panel\",\n            {\n                hidden: $setup.props.disabled\n            }\n        ])\n    }, [\n        (0, $djimy.createElementVNode)(\"nav\", null, [\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_1, [\n                $d05f04d0be94f565$var$_hoisted_2,\n                $d05f04d0be94f565$var$_hoisted_3,\n                (0, $djimy.createElementVNode)(\"button\", (0, $djimy.mergeProps)({\n                    class: \"nav-link\",\n                    id: \"nav-diagrams-tab\",\n                    \"data-bs-toggle\": \"tab\",\n                    \"data-bs-target\": \"#nav-diagrams\",\n                    type: \"button\",\n                    role: \"tab\",\n                    \"aria-controls\": \"nav-diagrams\",\n                    \"aria-selected\": \"false\"\n                }, (0, $djimy.toHandlers)({\n                    \"hidden.bs.tab\": ()=>$setup.diagramsTabDisabled = true,\n                    \"show.bs.tab\": ()=>$setup.diagramsTabDisabled = false\n                }, true)), \" Diagrams \", 16),\n                $d05f04d0be94f565$var$_hoisted_4,\n                $d05f04d0be94f565$var$_hoisted_5\n            ])\n        ]),\n        (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_6, [\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_7, [\n                (0, $djimy.createVNode)($setup[\"ControlPanelTabInitialParameters\"])\n            ]),\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_8, [\n                (0, $djimy.createVNode)($setup[\"ControlPanelTabParameterTransforms\"])\n            ]),\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_9, [\n                (0, $djimy.createVNode)($setup[\"ControlPanelTabCharts\"], {\n                    disabled: $setup.props.disabled || $setup.diagramsTabDisabled\n                }, null, 8, [\n                    \"disabled\"\n                ])\n            ]),\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_10, [\n                (0, $djimy.createVNode)($setup[\"ControlPanelTabImportExport\"])\n            ]),\n            (0, $djimy.createElementVNode)(\"div\", $d05f04d0be94f565$var$_hoisted_11, [\n                (0, $djimy.createVNode)($setup[\"ControlPanelTabMisc\"])\n            ])\n        ])\n    ], 2);\n}\n\n});\n\nparcelRegister(\"9nPpA\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $6d4e245845e76776$export$2e2bcd8739ae039; });\nlet $6d4e245845e76776$var$NOOP = ()=>{};\nvar $6d4e245845e76776$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"4TkLj\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $38fc676564b73ea9$export$2e2bcd8739ae039; });\nlet $38fc676564b73ea9$var$script;\n\n\n\n\nlet $38fc676564b73ea9$var$initialize = ()=>{\n    $38fc676564b73ea9$var$script = (parcelRequire(\"8tP0r\"));\n    if ($38fc676564b73ea9$var$script.__esModule) $38fc676564b73ea9$var$script = $38fc676564b73ea9$var$script.default;\n    $38fc676564b73ea9$var$script.render = (parcelRequire(\"3sm7t\")).render;\n    $38fc676564b73ea9$var$script.__cssModules = {};\n    (parcelRequire(\"adIs9\")).default($38fc676564b73ea9$var$script);\n    $38fc676564b73ea9$var$script.__scopeId = \"data-v-572a34\";\n    $38fc676564b73ea9$var$script.__file = \"ConditionalLayer.vue\";\n};\n$38fc676564b73ea9$var$initialize();\nvar $38fc676564b73ea9$export$2e2bcd8739ae039 = $38fc676564b73ea9$var$script;\n\n});\nparcelRegister(\"8tP0r\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $1bf32df420dc4173$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\nvar $1bf32df420dc4173$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ConditionalLayer\",\n    props: {\n        layerConfig: {}\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { extractAssetPosition: extractAssetPosition, toAssetUrl: toAssetUrl } = (0, $7dQGn.useConfigStore)();\n        const { record: record } = (0, $i5N9G.useModelStore)();\n        const conditionParameters = `{ ${(0, $aDsGb.CircularEconomyModel).elementIds.join(\", \")} }`;\n        function compile(condition) {\n            // eslint-disable-next-line @typescript-eslint/no-implied-eval\n            return new Function(conditionParameters, `return (${condition}) === true;`);\n        }\n        function compileLayer({ condition: condition, url: url }) {\n            const resolvedUrl = toAssetUrl(url);\n            const { x: x, y: y } = extractAssetPosition(resolvedUrl);\n            const checkCondition = compile(condition);\n            return {\n                checkCondition: checkCondition,\n                condition: condition,\n                url: resolvedUrl,\n                x: x,\n                y: y\n            };\n        }\n        const compiledLayer = (0, $djimy.computed)(()=>compileLayer(props.layerConfig));\n        const __returned__ = {\n            props: props,\n            extractAssetPosition: extractAssetPosition,\n            toAssetUrl: toAssetUrl,\n            record: record,\n            conditionParameters: conditionParameters,\n            compile: compile,\n            compileLayer: compileLayer,\n            compiledLayer: compiledLayer\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"3sm7t\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $284525201cc1f7d3$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $284525201cc1f7d3$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-572a34\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $284525201cc1f7d3$var$_hoisted_1 = [\n    \"src\"\n];\nfunction $284525201cc1f7d3$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return $setup.compiledLayer.checkCondition($setup.record) ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"img\", {\n        key: 0,\n        src: $setup.compiledLayer.url.href,\n        class: \"positioned-layer\",\n        style: (0, $djimy.normalizeStyle)({\n            \"--layer-x\": $setup.compiledLayer.x,\n            \"--layer-y\": $setup.compiledLayer.y\n        })\n    }, null, 12, $284525201cc1f7d3$var$_hoisted_1)) : (0, $djimy.createCommentVNode)(\"\", true);\n}\n\n});\n\nparcelRegister(\"adIs9\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $770d99ba1df5d6c2$export$2e2bcd8739ae039; });\nlet $770d99ba1df5d6c2$var$NOOP = ()=>{};\nvar $770d99ba1df5d6c2$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"2vvax\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $1d36a78168b81dd9$export$2e2bcd8739ae039; });\nlet $1d36a78168b81dd9$var$script;\n\n\n\nlet $1d36a78168b81dd9$var$initialize = ()=>{\n    $1d36a78168b81dd9$var$script = (parcelRequire(\"eXrNq\"));\n    if ($1d36a78168b81dd9$var$script.__esModule) $1d36a78168b81dd9$var$script = $1d36a78168b81dd9$var$script.default;\n    $1d36a78168b81dd9$var$script.render = (parcelRequire(\"jtxJg\")).render;\n    (parcelRequire(\"eESbR\")).default($1d36a78168b81dd9$var$script);\n    $1d36a78168b81dd9$var$script.__scopeId = \"data-v-648153\";\n    $1d36a78168b81dd9$var$script.__file = \"BasicSlotGroup.vue\";\n};\n$1d36a78168b81dd9$var$initialize();\nvar $1d36a78168b81dd9$export$2e2bcd8739ae039 = $1d36a78168b81dd9$var$script;\n\n});\nparcelRegister(\"eXrNq\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $0f4561d4b6509349$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\n\nvar $jH98U = parcelRequire(\"jH98U\");\nvar $0f4561d4b6509349$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"BasicSlotGroup\",\n    props: {\n        slotGroupConfig: {}\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { slotGroupConfig: slotGroupConfig } = props;\n        const { slotGroups: slotGroups } = (0, $cIjax.useSlotGroupsStore)();\n        const slotGroup = slotGroups.find(({ id: id })=>id === slotGroupConfig.id);\n        (0, $hWymx.strict)(typeof slotGroup !== \"undefined\");\n        const numActive = (0, $djimy.ref)(0);\n        (0, $djimy.watchEffect)(()=>slotGroup.parameterTransforms.forEach((pt, index)=>pt.setActive(numActive.value > index)));\n        const __returned__ = {\n            props: props,\n            slotGroupConfig: slotGroupConfig,\n            slotGroups: slotGroups,\n            slotGroup: slotGroup,\n            numActive: numActive,\n            MarkerSlot: $jH98U.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"jH98U\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $e56920082d7f0099$export$2e2bcd8739ae039; });\nlet $e56920082d7f0099$var$script;\n\n\n\n\nlet $e56920082d7f0099$var$initialize = ()=>{\n    $e56920082d7f0099$var$script = (parcelRequire(\"zgn46\"));\n    if ($e56920082d7f0099$var$script.__esModule) $e56920082d7f0099$var$script = $e56920082d7f0099$var$script.default;\n    $e56920082d7f0099$var$script.render = (parcelRequire(\"gbmju\")).render;\n    $e56920082d7f0099$var$script.__cssModules = {};\n    (parcelRequire(\"65t20\")).default($e56920082d7f0099$var$script);\n    $e56920082d7f0099$var$script.__scopeId = \"data-v-36b335\";\n    $e56920082d7f0099$var$script.__file = \"MarkerSlot.vue\";\n};\n$e56920082d7f0099$var$initialize();\nvar $e56920082d7f0099$export$2e2bcd8739ae039 = $e56920082d7f0099$var$script;\n\n});\nparcelRegister(\"zgn46\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $4a9ca63f01e5c22e$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $iNn5Y = parcelRequire(\"iNn5Y\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\n\nvar $02fmQ = parcelRequire(\"02fmQ\");\n\nvar $fPRSg = parcelRequire(\"fPRSg\");\n\nvar $9QUOw = parcelRequire(\"9QUOw\");\nvar $4a9ca63f01e5c22e$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"MarkerSlot\",\n    props: {\n        slotGroupId: {},\n        slotConfig: {}\n    },\n    emits: [\n        \"activate\",\n        \"deactivate\"\n    ],\n    setup (__props, { expose: __expose, emit: __emit }) {\n        __expose();\n        const props = __props;\n        const { slotConfig: slotConfig } = props;\n        const slotGroupId = (0, $djimy.ref)(props.slotGroupId);\n        const slotId = `${slotGroupId.value}-${slotConfig.id}`;\n        const { config: { interaction: { assets: assets } }, toAssetUrl: toAssetUrl, extractAssetPosition: extractAssetPosition } = (0, $7dQGn.useConfigStore)();\n        const markerSlotActiveUrl = toAssetUrl(assets.markerSlotActive.url);\n        const markerSlotInactiveUrl = toAssetUrl(assets.markerSlotInactive.url);\n        const markerSlotActivePosition = extractAssetPosition(markerSlotActiveUrl);\n        const markerSlotInactivePosition = extractAssetPosition(markerSlotInactiveUrl);\n        const appStore = (0, $f4LB1.useAppStore)();\n        const markerStore = (0, $02fmQ.useMarkerStore)();\n        const { markerPositions: markerPositions } = markerStore;\n        const slotStore = (0, $fPRSg.useSlotStore)();\n        const slotCircle = new (0, $9QUOw.Circle)(slotConfig.x, slotConfig.y, (0, $7Rjir.SLOT_CIRCLE_DIAMETER) / 2);\n        let previousContainedMarkers = new Array();\n        const containedMarkers = (0, $9OMm5.useArrayFilter)(markerPositions, (m)=>slotCircle.containsPoint(m));\n        (0, $djimy.watchEffect)(()=>{\n            const added = (0, $iNn5Y.difference)(containedMarkers.value, previousContainedMarkers);\n            const removed = (0, $iNn5Y.difference)(previousContainedMarkers, containedMarkers.value);\n            removed.forEach(({ id: markerId })=>slotStore.addActivation({\n                    slotId: slotId,\n                    markerId: markerId\n                }));\n            added.forEach(({ id: markerId })=>slotStore.addActivation({\n                    slotId: slotId,\n                    markerId: markerId\n                }));\n            previousContainedMarkers = containedMarkers.value;\n        });\n        const isActive = (0, $djimy.computed)(()=>containedMarkers.value.length > 0);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const emit = __emit;\n        (0, $djimy.watch)(()=>isActive.value, (isActiveNow, isActivePrev)=>{\n            if (isActiveNow && !isActivePrev) emit(\"activate\", {\n                slotId: slotId,\n                slotGroupId: slotGroupId.value\n            });\n            else emit(\"deactivate\", {\n                slotId: slotId,\n                slotGroupId: slotGroupId.value\n            });\n        });\n        const __returned__ = {\n            props: props,\n            slotConfig: slotConfig,\n            slotGroupId: slotGroupId,\n            slotId: slotId,\n            assets: assets,\n            toAssetUrl: toAssetUrl,\n            extractAssetPosition: extractAssetPosition,\n            markerSlotActiveUrl: markerSlotActiveUrl,\n            markerSlotInactiveUrl: markerSlotInactiveUrl,\n            markerSlotActivePosition: markerSlotActivePosition,\n            markerSlotInactivePosition: markerSlotInactivePosition,\n            appStore: appStore,\n            markerStore: markerStore,\n            markerPositions: markerPositions,\n            slotStore: slotStore,\n            slotCircle: slotCircle,\n            get previousContainedMarkers () {\n                return previousContainedMarkers;\n            },\n            set previousContainedMarkers (v){\n                previousContainedMarkers = v;\n            },\n            containedMarkers: containedMarkers,\n            isActive: isActive,\n            emit: emit,\n            get SLOT_CIRCLE_DIAMETER () {\n                return 0, $7Rjir.SLOT_CIRCLE_DIAMETER;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"fPRSg\", function(module, exports) {\n\n$parcel$export(module.exports, \"useSlotStore\", function () { return $fc0392f9e9b7f2cf$export$6c597292cc31470e; });\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $fc0392f9e9b7f2cf$export$6c597292cc31470e = (0, $kV0Ly.defineStore)(\"slot\", ()=>{\n    const slotActivations = (0, $djimy.ref)(new Array());\n    const removeActivation = (sm)=>{\n        const index = slotActivations.value.findIndex(({ slotId: slotId, markerId: markerId })=>slotId === sm.slotId && markerId === sm.markerId);\n        if (index !== -1) slotActivations.value.splice(index, 1);\n    };\n    const addActivation = (sm)=>{\n        removeActivation(sm);\n        slotActivations.value.push(sm);\n    };\n    return {\n        slotActivations: (0, $djimy.readonly)(slotActivations),\n        addActivation: addActivation,\n        removeActivation: removeActivation\n    };\n});\n\n});\n\nparcelRegister(\"9QUOw\", function(module, exports) {\n\n$parcel$export(module.exports, \"Circle\", function () { return $db69d09b0c73b170$export$c89a927ffc67e6fa; });\nclass $db69d09b0c73b170$export$c89a927ffc67e6fa {\n    constructor(x, y, radius){\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n    }\n    clone() {\n        return new $db69d09b0c73b170$export$c89a927ffc67e6fa(this.x, this.y, this.radius);\n    }\n    containsPoint({ x: x, y: y }) {\n        return (this.x - x) ** 2 + (this.y - y) ** 2 <= this.radius ** 2;\n    }\n    containsCircle(circle, threshold = 0) {\n        const distance = Math.sqrt((this.x - circle.x) ** 2 + (this.y - circle.y) ** 2);\n        return distance + circle.radius <= this.radius + threshold;\n    }\n    static toCircumcircle(rect) {\n        const x = rect.x + rect.width / 2;\n        const y = rect.y + rect.height / 2;\n        const radius = Math.sqrt(rect.width ** 2 + rect.height ** 2) / 2;\n        return new $db69d09b0c73b170$export$c89a927ffc67e6fa(x, y, radius);\n    }\n    static toIncircle(rect) {\n        const x = rect.x + rect.width / 2;\n        const y = rect.y + rect.height / 2;\n        const radius = Math.min(rect.width, rect.height) / 2;\n        return new $db69d09b0c73b170$export$c89a927ffc67e6fa(x, y, radius);\n    }\n}\n\n});\n\n\nparcelRegister(\"gbmju\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $bc7efb6441d9753a$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $bc7efb6441d9753a$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-36b335\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $bc7efb6441d9753a$var$_hoisted_1 = [\n    \"data-slot-id\"\n];\nconst $bc7efb6441d9753a$var$_hoisted_2 = {\n    class: \"asset-container\"\n};\nconst $bc7efb6441d9753a$var$_hoisted_3 = [\n    \"src\",\n    \"alt\"\n];\nconst $bc7efb6441d9753a$var$_hoisted_4 = [\n    \"src\",\n    \"alt\"\n];\nconst $bc7efb6441d9753a$var$_hoisted_5 = {\n    key: 1,\n    class: \"label\"\n};\nconst $bc7efb6441d9753a$var$_hoisted_6 = /*#__PURE__*/ $bc7efb6441d9753a$var$_withScopeId(()=>/*#__PURE__*/ (0, $djimy.createElementVNode)(\"br\", null, null, -1));\nfunction $bc7efb6441d9753a$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        \"data-slot-id\": $setup.slotConfig.id,\n        class: \"slot\",\n        style: (0, $djimy.normalizeStyle)({\n            \"--slot-x\": $setup.slotConfig.x,\n            \"--slot-y\": $setup.slotConfig.y,\n            \"--slot-angle\": `${$setup.slotConfig.angle}deg`,\n            \"--slot-diameter\": $setup.SLOT_CIRCLE_DIAMETER\n        })\n    }, [\n        (0, $djimy.createElementVNode)(\"div\", $bc7efb6441d9753a$var$_hoisted_2, [\n            (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"img\", {\n                src: $setup.markerSlotActiveUrl.href,\n                alt: `${$setup.slotConfig.id}-active`,\n                style: (0, $djimy.normalizeStyle)({\n                    \"--asset-x\": $setup.markerSlotActivePosition.x,\n                    \"--asset-y\": $setup.markerSlotActivePosition.y\n                })\n            }, null, 12, $bc7efb6441d9753a$var$_hoisted_3), [\n                [\n                    (0, $djimy.vShow),\n                    $setup.isActive\n                ]\n            ]),\n            (0, $djimy.withDirectives)((0, $djimy.createElementVNode)(\"img\", {\n                src: $setup.markerSlotInactiveUrl.href,\n                alt: `${$setup.slotConfig.id}-inactive`,\n                style: (0, $djimy.normalizeStyle)({\n                    \"--asset-x\": $setup.markerSlotInactivePosition.x,\n                    \"--asset-y\": $setup.markerSlotInactivePosition.y\n                })\n            }, null, 12, $bc7efb6441d9753a$var$_hoisted_4), [\n                [\n                    (0, $djimy.vShow),\n                    !$setup.isActive\n                ]\n            ])\n        ]),\n        $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n            key: 0,\n            class: (0, $djimy.normalizeClass)([\n                \"circle\",\n                {\n                    active: $setup.isActive,\n                    inactive: !$setup.isActive\n                }\n            ])\n        }, null, 2)) : (0, $djimy.createCommentVNode)(\"\", true),\n        $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $bc7efb6441d9753a$var$_hoisted_5, [\n            (0, $djimy.createTextVNode)((0, $djimy.toDisplayString)($setup.slotGroupId), 1),\n            $bc7efb6441d9753a$var$_hoisted_6,\n            (0, $djimy.createTextVNode)((0, $djimy.toDisplayString)($setup.slotConfig.id), 1)\n        ])) : (0, $djimy.createCommentVNode)(\"\", true)\n    ], 12, $bc7efb6441d9753a$var$_hoisted_1);\n}\n\n});\n\nparcelRegister(\"65t20\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $46e9bab64d402492$export$2e2bcd8739ae039; });\nlet $46e9bab64d402492$var$NOOP = ()=>{};\nvar $46e9bab64d402492$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\n\nparcelRegister(\"jtxJg\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $e2dae3a0b5a8ccd4$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $e2dae3a0b5a8ccd4$var$_hoisted_1 = [\n    \"data-slot-group-id\"\n];\nfunction $e2dae3a0b5a8ccd4$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        \"data-slot-group-id\": $setup.slotGroupConfig.id\n    }, [\n        ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.slotGroupConfig.slots, (slotConfig)=>{\n            return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"MarkerSlot\"], {\n                key: slotConfig.id,\n                \"slot-group-id\": $setup.slotGroupConfig.id,\n                \"slot-config\": slotConfig,\n                onActivate: _cache[0] || (_cache[0] = ($event)=>$setup.numActive += 1),\n                onDeactivate: _cache[1] || (_cache[1] = ($event)=>$setup.numActive -= 1)\n            }, null, 8, [\n                \"slot-group-id\",\n                \"slot-config\"\n            ]);\n        }), 128))\n    ], 8, $e2dae3a0b5a8ccd4$var$_hoisted_1);\n}\n\n});\n\nparcelRegister(\"eESbR\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $aabed62df42bda76$export$2e2bcd8739ae039; });\nlet $aabed62df42bda76$var$NOOP = ()=>{};\nvar $aabed62df42bda76$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"1VbKL\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $16643b44604c5017$export$2e2bcd8739ae039; });\nlet $16643b44604c5017$var$script;\n\n\n\nlet $16643b44604c5017$var$initialize = ()=>{\n    $16643b44604c5017$var$script = (parcelRequire(\"hD1de\"));\n    if ($16643b44604c5017$var$script.__esModule) $16643b44604c5017$var$script = $16643b44604c5017$var$script.default;\n    $16643b44604c5017$var$script.render = (parcelRequire(\"cqowQ\")).render;\n    (parcelRequire(\"eT2xs\")).default($16643b44604c5017$var$script);\n    $16643b44604c5017$var$script.__scopeId = \"data-v-32438f\";\n    $16643b44604c5017$var$script.__file = \"ActionCardSlotGroup.vue\";\n};\n$16643b44604c5017$var$initialize();\nvar $16643b44604c5017$export$2e2bcd8739ae039 = $16643b44604c5017$var$script;\n\n});\nparcelRegister(\"hD1de\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $7c6f249daa2d3636$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\n\nvar $jH98U = parcelRequire(\"jH98U\");\n\nvar $7RdUk = parcelRequire(\"7RdUk\");\nvar $7c6f249daa2d3636$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ActionCardSlotGroup\",\n    props: {\n        slotGroupConfig: {}\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { slotGroupConfig: slotGroupConfig } = props;\n        const { config: { interaction: { actionCardDelayMs: actionCardDelayMs } } } = (0, $7dQGn.useConfigStore)();\n        const { slotGroups: slotGroups } = (0, $cIjax.useSlotGroupsStore)();\n        const slotGroup = slotGroups.find(({ id: id })=>id === slotGroupConfig.id);\n        (0, $hWymx.strict)(typeof slotGroup !== \"undefined\");\n        const slotsWithCard = slotGroupConfig.slots.map((slotConfig)=>({\n                slotConfig: slotConfig,\n                assignment: (0, $djimy.ref)(null),\n                active: (0, $djimy.ref)(false),\n                timeout: null\n            }));\n        const availableCardAssignments = slotGroupConfig.cards.map((cardConfig)=>{\n            const state = slotGroup.parameterTransforms.find((pt)=>pt.id === cardConfig.parameterTransformId);\n            (0, $hWymx.strict)(typeof state !== \"undefined\");\n            return {\n                cardConfig: cardConfig,\n                state: state\n            };\n        });\n        slotsWithCard.forEach((slotWithCard)=>{\n            (0, $djimy.watch)(slotWithCard.active, (active)=>{\n                const { assignment: assignment } = slotWithCard;\n                if (!active) {\n                    if (assignment.value !== null) {\n                        const assignmentValue = assignment.value;\n                        const { state: state } = assignmentValue;\n                        console.log(`Deactivating ${state.id} at action card slot ${slotWithCard.slotConfig.cardSlot.id}`);\n                        assignmentValue.state.setActive(false);\n                        console.log(`Removing ${assignmentValue.state.id} from action card slot ${slotWithCard.slotConfig.cardSlot.id}`);\n                        slotWithCard.assignment.value = null;\n                        availableCardAssignments.push(assignmentValue);\n                    }\n                    if (slotWithCard.timeout === null) slotWithCard.timeout = setTimeout(()=>{\n                        slotWithCard.timeout = null;\n                        const newAssignment = availableCardAssignments.shift();\n                        (0, $hWymx.strict)(typeof newAssignment !== \"undefined\");\n                        console.log(`Assigning ${newAssignment.state.id} to action card slot ${slotWithCard.slotConfig.cardSlot.id}`);\n                        assignment.value = newAssignment;\n                        assignment.value.state.setActive(slotWithCard.active.value);\n                    }, actionCardDelayMs);\n                } else if (assignment.value !== null) {\n                    const { state: state } = assignment.value;\n                    console.log(state);\n                    console.log(`Activating ${state.id} at action card slot ${slotWithCard.slotConfig.cardSlot.id}`);\n                    state.setActive(true);\n                }\n            }, {\n                immediate: true\n            });\n        });\n        const __returned__ = {\n            props: props,\n            slotGroupConfig: slotGroupConfig,\n            actionCardDelayMs: actionCardDelayMs,\n            slotGroups: slotGroups,\n            slotGroup: slotGroup,\n            slotsWithCard: slotsWithCard,\n            availableCardAssignments: availableCardAssignments,\n            MarkerSlot: $jH98U.default,\n            CardSlot: $7RdUk.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"7RdUk\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $5b884568bf0a0efc$export$2e2bcd8739ae039; });\nlet $5b884568bf0a0efc$var$script;\n\n\n\n\nlet $5b884568bf0a0efc$var$initialize = ()=>{\n    $5b884568bf0a0efc$var$script = (parcelRequire(\"afxwH\"));\n    if ($5b884568bf0a0efc$var$script.__esModule) $5b884568bf0a0efc$var$script = $5b884568bf0a0efc$var$script.default;\n    $5b884568bf0a0efc$var$script.render = (parcelRequire(\"l66cW\")).render;\n    $5b884568bf0a0efc$var$script.__cssModules = {};\n    (parcelRequire(\"4GRYL\")).default($5b884568bf0a0efc$var$script);\n    $5b884568bf0a0efc$var$script.__scopeId = \"data-v-8294c5\";\n    $5b884568bf0a0efc$var$script.__file = \"CardSlot.vue\";\n};\n$5b884568bf0a0efc$var$initialize();\nvar $5b884568bf0a0efc$export$2e2bcd8739ae039 = $5b884568bf0a0efc$var$script;\n\n});\nparcelRegister(\"afxwH\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $578f8105e6430d65$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\n\nvar $7lUOB = parcelRequire(\"7lUOB\");\nvar $578f8105e6430d65$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"CardSlot\",\n    props: {\n        cardSlotConfig: {},\n        cardConfig: {},\n        active: {\n            type: Boolean\n        }\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const appStore = (0, $f4LB1.useAppStore)();\n        const __returned__ = {\n            props: props,\n            appStore: appStore,\n            GameCard: $7lUOB.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"7lUOB\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $55a690e0c34df7aa$export$2e2bcd8739ae039; });\nlet $55a690e0c34df7aa$var$script;\n\n\n\n\nlet $55a690e0c34df7aa$var$initialize = ()=>{\n    $55a690e0c34df7aa$var$script = (parcelRequire(\"7xQxQ\"));\n    if ($55a690e0c34df7aa$var$script.__esModule) $55a690e0c34df7aa$var$script = $55a690e0c34df7aa$var$script.default;\n    $55a690e0c34df7aa$var$script.render = (parcelRequire(\"05aqY\")).render;\n    $55a690e0c34df7aa$var$script.__cssModules = {};\n    (parcelRequire(\"a3cWG\")).default($55a690e0c34df7aa$var$script);\n    $55a690e0c34df7aa$var$script.__scopeId = \"data-v-f18a87\";\n    $55a690e0c34df7aa$var$script.__file = \"GameCard.vue\";\n};\n$55a690e0c34df7aa$var$initialize();\nvar $55a690e0c34df7aa$export$2e2bcd8739ae039 = $55a690e0c34df7aa$var$script;\n\n});\nparcelRegister(\"7xQxQ\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $16b0e89ef5b5c680$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\nvar $16b0e89ef5b5c680$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"GameCard\",\n    props: {\n        url: {},\n        label: {},\n        active: {\n            type: Boolean\n        }\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { toAssetUrl: toAssetUrl, extractAssetPosition: extractAssetPosition } = (0, $7dQGn.useConfigStore)();\n        const appStore = (0, $f4LB1.useAppStore)();\n        const assetUrl = (0, $djimy.computed)(()=>toAssetUrl(props.url));\n        // const position = computed(() => extractAssetPosition(assetUrl.value));\n        // Keep the position fixed for now\n        const position = {\n            x: 0,\n            y: 0\n        };\n        const __returned__ = {\n            props: props,\n            toAssetUrl: toAssetUrl,\n            extractAssetPosition: extractAssetPosition,\n            appStore: appStore,\n            assetUrl: assetUrl,\n            position: position\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"05aqY\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $00f88fbde0d486fc$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $00f88fbde0d486fc$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-f18a87\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $00f88fbde0d486fc$var$_hoisted_1 = [\n    \"src\",\n    \"alt\"\n];\nconst $00f88fbde0d486fc$var$_hoisted_2 = {\n    key: 0,\n    class: \"label\"\n};\nconst $00f88fbde0d486fc$var$_hoisted_3 = {\n    class: \"highlight\"\n};\nfunction $00f88fbde0d486fc$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        class: (0, $djimy.normalizeClass)([\n            \"action-card\",\n            {\n                active: $setup.props.active\n            }\n        ]),\n        style: (0, $djimy.normalizeStyle)({\n            \"--card-x\": $setup.position.x,\n            \"--card-y\": $setup.position.y\n        })\n    }, [\n        (0, $djimy.createElementVNode)(\"img\", {\n            src: $setup.assetUrl.href,\n            alt: $props.label,\n            class: \"image\"\n        }, null, 8, $00f88fbde0d486fc$var$_hoisted_1),\n        $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $00f88fbde0d486fc$var$_hoisted_2, [\n            (0, $djimy.createElementVNode)(\"span\", $00f88fbde0d486fc$var$_hoisted_3, (0, $djimy.toDisplayString)($props.label), 1)\n        ])) : (0, $djimy.createCommentVNode)(\"\", true)\n    ], 6);\n}\n\n});\n\nparcelRegister(\"a3cWG\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $751439ed45b36aac$export$2e2bcd8739ae039; });\nlet $751439ed45b36aac$var$NOOP = ()=>{};\nvar $751439ed45b36aac$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\n\nparcelRegister(\"l66cW\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $f5bef93edcec28c2$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $f5bef93edcec28c2$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-8294c5\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $f5bef93edcec28c2$var$_hoisted_1 = {\n    key: 0,\n    class: \"label\"\n};\nfunction $f5bef93edcec28c2$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        style: (0, $djimy.normalizeStyle)({\n            \"--card-x\": $props.cardSlotConfig.x,\n            \"--card-y\": $props.cardSlotConfig.y,\n            \"--card-angle\": $props.cardSlotConfig.angle\n        }),\n        class: (0, $djimy.normalizeClass)([\n            \"card-slot\",\n            {\n                \"dev-mode\": $setup.appStore.isDeveloperModeActive\n            }\n        ])\n    }, [\n        $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", $f5bef93edcec28c2$var$_hoisted_1, (0, $djimy.toDisplayString)($props.cardSlotConfig.id), 1)) : (0, $djimy.createCommentVNode)(\"\", true),\n        $props.cardConfig !== null ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"GameCard\"], {\n            key: 1,\n            url: $props.cardConfig.url,\n            label: $props.cardConfig.parameterTransformId,\n            active: $setup.props.active\n        }, null, 8, [\n            \"url\",\n            \"label\",\n            \"active\"\n        ])) : (0, $djimy.createCommentVNode)(\"\", true)\n    ], 6);\n}\n\n});\n\nparcelRegister(\"4GRYL\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $36a4f4cbf400b5f0$export$2e2bcd8739ae039; });\nlet $36a4f4cbf400b5f0$var$NOOP = ()=>{};\nvar $36a4f4cbf400b5f0$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\n\nparcelRegister(\"cqowQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $90baf0a77b3422b2$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $90baf0a77b3422b2$var$_hoisted_1 = [\n    \"data-slot-group-id\"\n];\nfunction $90baf0a77b3422b2$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        \"data-slot-group-id\": $setup.slotGroupConfig.id\n    }, [\n        ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.slotsWithCard, (slotWithCard)=>{\n            return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"CardSlot\"], {\n                key: slotWithCard.slotConfig.cardSlot.id,\n                \"card-slot-config\": slotWithCard.slotConfig.cardSlot,\n                \"card-config\": slotWithCard.assignment.value?.cardConfig ?? null,\n                active: slotWithCard.assignment.value?.state?.active ?? false\n            }, null, 8, [\n                \"card-slot-config\",\n                \"card-config\",\n                \"active\"\n            ]);\n        }), 128)),\n        ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.slotsWithCard, (slotWithCard)=>{\n            return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"MarkerSlot\"], {\n                key: slotWithCard.slotConfig.markerSlot.id,\n                \"slot-group-id\": $setup.slotGroupConfig.id,\n                \"slot-config\": slotWithCard.slotConfig.markerSlot,\n                onActivate: ($event)=>slotWithCard.active.value = true,\n                onDeactivate: ($event)=>slotWithCard.active.value = false\n            }, null, 8, [\n                \"slot-group-id\",\n                \"slot-config\",\n                \"onActivate\",\n                \"onDeactivate\"\n            ]);\n        }), 128))\n    ], 8, $90baf0a77b3422b2$var$_hoisted_1);\n}\n\n});\n\nparcelRegister(\"eT2xs\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $ad682bdb1ae28c60$export$2e2bcd8739ae039; });\nlet $ad682bdb1ae28c60$var$NOOP = ()=>{};\nvar $ad682bdb1ae28c60$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"jrojO\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $e273671e7491f17e$export$2e2bcd8739ae039; });\nlet $e273671e7491f17e$var$script;\n\n\n\nlet $e273671e7491f17e$var$initialize = ()=>{\n    $e273671e7491f17e$var$script = (parcelRequire(\"caiBL\"));\n    if ($e273671e7491f17e$var$script.__esModule) $e273671e7491f17e$var$script = $e273671e7491f17e$var$script.default;\n    $e273671e7491f17e$var$script.render = (parcelRequire(\"jZwyy\")).render;\n    (parcelRequire(\"hZr9M\")).default($e273671e7491f17e$var$script);\n    $e273671e7491f17e$var$script.__scopeId = \"data-v-1aaaec\";\n    $e273671e7491f17e$var$script.__file = \"EventCardSlotGroup.vue\";\n};\n$e273671e7491f17e$var$initialize();\nvar $e273671e7491f17e$export$2e2bcd8739ae039 = $e273671e7491f17e$var$script;\n\n});\nparcelRegister(\"caiBL\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $ead4f306a98c0381$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\n\nvar $jH98U = parcelRequire(\"jH98U\");\n\nvar $llWLg = parcelRequire(\"llWLg\");\nvar $ead4f306a98c0381$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"EventCardSlotGroup\",\n    props: {\n        slotGroupConfig: {}\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { slotGroupConfig: slotGroupConfig } = props;\n        const { markerSlot: markerSlotConfig } = slotGroupConfig;\n        const { slotGroups: slotGroups } = (0, $cIjax.useSlotGroupsStore)();\n        const slotGroup = slotGroups.find(({ id: id })=>id === slotGroupConfig.id);\n        (0, $hWymx.strict)(typeof slotGroup !== \"undefined\");\n        const isMarkerSlotActive = (0, $djimy.ref)(false);\n        const __returned__ = {\n            props: props,\n            slotGroupConfig: slotGroupConfig,\n            markerSlotConfig: markerSlotConfig,\n            slotGroups: slotGroups,\n            slotGroup: slotGroup,\n            isMarkerSlotActive: isMarkerSlotActive,\n            MarkerSlot: $jH98U.default,\n            EventCardCycler: $llWLg.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"llWLg\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $f8b923e5fdc84a50$export$2e2bcd8739ae039; });\nlet $f8b923e5fdc84a50$var$script;\n\n\n\nlet $f8b923e5fdc84a50$var$initialize = ()=>{\n    $f8b923e5fdc84a50$var$script = (parcelRequire(\"dIE4t\"));\n    if ($f8b923e5fdc84a50$var$script.__esModule) $f8b923e5fdc84a50$var$script = $f8b923e5fdc84a50$var$script.default;\n    $f8b923e5fdc84a50$var$script.render = (parcelRequire(\"9hTqD\")).render;\n    (parcelRequire(\"9NrRY\")).default($f8b923e5fdc84a50$var$script);\n    $f8b923e5fdc84a50$var$script.__scopeId = \"data-v-f439ec\";\n    $f8b923e5fdc84a50$var$script.__file = \"EventCardCycler.vue\";\n};\n$f8b923e5fdc84a50$var$initialize();\nvar $f8b923e5fdc84a50$export$2e2bcd8739ae039 = $f8b923e5fdc84a50$var$script;\n\n});\nparcelRegister(\"dIE4t\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $77040f91b9ee72c8$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $7dQGn = parcelRequire(\"7dQGn\");\n\nvar $cIjax = parcelRequire(\"cIjax\");\n\nvar $7RdUk = parcelRequire(\"7RdUk\");\nvar $77040f91b9ee72c8$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"EventCardCycler\",\n    props: {\n        slotGroupConfig: {},\n        enabled: {\n            type: Boolean\n        }\n    },\n    setup (__props, { expose: __expose }) {\n        __expose();\n        const props = __props;\n        const { config: { interaction: { eventCardMinDelayMs: eventCardMinDelayMs, eventCardMaxDelayMs: eventCardMaxDelayMs, eventCardMinDurationMs: eventCardMinDurationMs, eventCardMaxDurationMs: eventCardMaxDurationMs } } } = (0, $7dQGn.useConfigStore)();\n        const { slotGroups: slotGroups } = (0, $cIjax.useSlotGroupsStore)();\n        const slotGroup = slotGroups.find(({ id: id })=>id === props.slotGroupConfig.id);\n        (0, $hWymx.strict)(typeof slotGroup !== \"undefined\");\n        const getRandomDelayMs = (minDelayMultiplier = 1)=>minDelayMultiplier * eventCardMinDelayMs + Math.random() * Math.abs(eventCardMaxDelayMs - eventCardMinDelayMs);\n        const getRandomDurationMs = ()=>eventCardMinDurationMs + Math.random() * Math.abs(eventCardMaxDurationMs - eventCardMinDurationMs);\n        const cardSlotAssignments = (0, $djimy.reactive)(props.slotGroupConfig.cardSlots.map((csc)=>({\n                cardSlotConfig: csc,\n                cardConfig: null,\n                stopFilling: ()=>{}\n            })));\n        (0, $hWymx.strict)(cardSlotAssignments.length > 0);\n        (0, $hWymx.strict)(props.slotGroupConfig.cards.length > 0);\n        (0, $hWymx.strict)(cardSlotAssignments.length <= props.slotGroupConfig.cards.length);\n        const eventCardPriorityQueue = props.slotGroupConfig.cards.map((cardConfig)=>{\n            const parameterTransform = slotGroup.parameterTransforms.find((pt)=>pt.id === cardConfig.parameterTransformId);\n            (0, $hWymx.strict)(parameterTransform !== undefined);\n            return {\n                cardConfig: cardConfig,\n                parameterTransform: parameterTransform\n            };\n        });\n        const getNextEventCard = ()=>{\n            const nextEventCard = eventCardPriorityQueue.shift();\n            (0, $hWymx.strict)(typeof nextEventCard !== \"undefined\");\n            eventCardPriorityQueue.push(nextEventCard);\n            return nextEventCard;\n        };\n        const fillCardSlot = (csa)=>{\n            csa.stopFilling();\n            const { cardConfig: cardConfig, parameterTransform: parameterTransform } = getNextEventCard();\n            csa.cardConfig = cardConfig;\n            parameterTransform.active = true;\n            const durationMs = getRandomDurationMs();\n            const delayMs = getRandomDelayMs();\n            csa.stopFilling();\n            csa.stopFilling = (0, $9OMm5.useTimeoutFn)(()=>fillCardSlot(csa), durationMs + delayMs).stop;\n            (0, $9OMm5.useTimeoutFn)(()=>{\n                csa.cardConfig = null;\n                parameterTransform.active = false;\n            }, durationMs);\n        };\n        const activateCardSlotAssignments = ()=>{\n            let delayMultiplier = 0;\n            cardSlotAssignments.forEach((csa)=>{\n                if (csa.cardConfig === null) {\n                    const delayMs = delayMultiplier === 0 ? 0 : getRandomDelayMs(delayMultiplier);\n                    csa.stopFilling();\n                    csa.stopFilling = (0, $9OMm5.useTimeoutFn)(()=>fillCardSlot(csa), delayMs).stop;\n                    delayMultiplier += 1;\n                }\n            });\n        };\n        const deactivateCardSlotAssignments = ()=>{\n            cardSlotAssignments.forEach((csa)=>csa.stopFilling());\n        };\n        (0, $djimy.watch)(()=>props.enabled, (newEnabled, prevEnabled)=>{\n            if (newEnabled === prevEnabled) return;\n            if (newEnabled) activateCardSlotAssignments();\n            else deactivateCardSlotAssignments();\n        }, {\n            immediate: true\n        });\n        const __returned__ = {\n            props: props,\n            eventCardMinDelayMs: eventCardMinDelayMs,\n            eventCardMaxDelayMs: eventCardMaxDelayMs,\n            eventCardMinDurationMs: eventCardMinDurationMs,\n            eventCardMaxDurationMs: eventCardMaxDurationMs,\n            slotGroups: slotGroups,\n            slotGroup: slotGroup,\n            getRandomDelayMs: getRandomDelayMs,\n            getRandomDurationMs: getRandomDurationMs,\n            cardSlotAssignments: cardSlotAssignments,\n            eventCardPriorityQueue: eventCardPriorityQueue,\n            getNextEventCard: getNextEventCard,\n            fillCardSlot: fillCardSlot,\n            activateCardSlotAssignments: activateCardSlotAssignments,\n            deactivateCardSlotAssignments: deactivateCardSlotAssignments,\n            CardSlot: $7RdUk.default\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\n\nparcelRegister(\"9hTqD\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $6c30b2884256701d$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nfunction $6c30b2884256701d$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.cardSlotAssignments, (csa)=>{\n        return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"CardSlot\"], {\n            key: csa.cardSlotConfig.id,\n            \"card-slot-config\": csa.cardSlotConfig,\n            \"card-config\": csa.cardConfig,\n            active: true\n        }, null, 8, [\n            \"card-slot-config\",\n            \"card-config\"\n        ]);\n    }), 128);\n}\n\n});\n\nparcelRegister(\"9NrRY\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $721e4ef9279f6cfd$export$2e2bcd8739ae039; });\nlet $721e4ef9279f6cfd$var$NOOP = ()=>{};\nvar $721e4ef9279f6cfd$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\n\nparcelRegister(\"jZwyy\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $e8dcf7d29644485c$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $e8dcf7d29644485c$var$_hoisted_1 = [\n    \"data-slot-group-id\"\n];\nfunction $e8dcf7d29644485c$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        \"data-slot-group-id\": $setup.slotGroupConfig.id\n    }, [\n        (0, $djimy.createVNode)($setup[\"EventCardCycler\"], {\n            \"slot-group-config\": $setup.slotGroupConfig,\n            enabled: $setup.isMarkerSlotActive\n        }, null, 8, [\n            \"slot-group-config\",\n            \"enabled\"\n        ]),\n        (0, $djimy.createVNode)($setup[\"MarkerSlot\"], {\n            \"slot-group-id\": $setup.slotGroupConfig.id,\n            \"slot-config\": $setup.markerSlotConfig,\n            onActivate: _cache[0] || (_cache[0] = ($event)=>$setup.isMarkerSlotActive = true),\n            onDeactivate: _cache[1] || (_cache[1] = ($event)=>$setup.isMarkerSlotActive = false)\n        }, null, 8, [\n            \"slot-group-id\",\n            \"slot-config\"\n        ])\n    ], 8, $e8dcf7d29644485c$var$_hoisted_1);\n}\n\n});\n\nparcelRegister(\"hZr9M\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $d18d32ea1bee103c$export$2e2bcd8739ae039; });\nlet $d18d32ea1bee103c$var$NOOP = ()=>{};\nvar $d18d32ea1bee103c$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"kIEuR\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $f1575486b1eff73a$export$2e2bcd8739ae039; });\nlet $f1575486b1eff73a$var$script;\n\n\n\n\nlet $f1575486b1eff73a$var$initialize = ()=>{\n    $f1575486b1eff73a$var$script = (parcelRequire(\"Q9FY0\"));\n    if ($f1575486b1eff73a$var$script.__esModule) $f1575486b1eff73a$var$script = $f1575486b1eff73a$var$script.default;\n    $f1575486b1eff73a$var$script.render = (parcelRequire(\"jhXpM\")).render;\n    $f1575486b1eff73a$var$script.__cssModules = {};\n    (parcelRequire(\"8Gk17\")).default($f1575486b1eff73a$var$script);\n    $f1575486b1eff73a$var$script.__scopeId = \"data-v-0d4334\";\n    $f1575486b1eff73a$var$script.__file = \"ModelVisualization.vue\";\n};\n$f1575486b1eff73a$var$initialize();\nvar $f1575486b1eff73a$export$2e2bcd8739ae039 = $f1575486b1eff73a$var$script;\n\n});\nparcelRegister(\"Q9FY0\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", function () { return $3fe62b05a4dfc7e4$export$2e2bcd8739ae039; });\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $lOERq = parcelRequire(\"lOERq\");\n\nvar $gkhY4 = parcelRequire(\"gkhY4\");\n\nvar $9OMm5 = parcelRequire(\"9OMm5\");\n\nvar $gK2p2 = parcelRequire(\"gK2p2\");\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n\nvar $f4LB1 = parcelRequire(\"f4LB1\");\n\nvar $i5N9G = parcelRequire(\"i5N9G\");\n\nvar $aDsGb = parcelRequire(\"aDsGb\");\n\nvar $aXhH2 = parcelRequire(\"aXhH2\");\n\nvar $jcDd5 = parcelRequire(\"jcDd5\");\n\nvar $etm9Z = parcelRequire(\"etm9Z\");\n\nvar $3fe62b05a4dfc7e4$export$2e2bcd8739ae039 = /*#__PURE__*/ (0, $djimy.defineComponent)({\n    __name: \"ModelVisualization\",\n    setup (__props, { expose: __expose }) {\n        const svgUrl = new URL((parcelRequire(\"9I5ug\")));\n        const uuid = (0, $gK2p2.default)();\n        const mainFlowIds = [\n            \"abandon\",\n            \"acquireNewlyProduced\",\n            \"acquireRefurbished\",\n            \"acquireRepaired\",\n            \"acquireUsed\",\n            \"disposeBroken\",\n            \"disposeHibernating\",\n            \"goBroken\",\n            \"landfill\",\n            \"produceFromNaturalResources\",\n            \"produceFromRecycledMaterials\",\n            \"recycle\",\n            \"refurbish\",\n            \"repair\"\n        ];\n        const mainCapacityIds = [\n            \"recycledMaterials\",\n            \"repairedPhones\",\n            \"refurbishedPhones\",\n            \"newlyProducedPhones\"\n        ];\n        const mainSupplyIds = [\n            \"recycledMaterials\",\n            \"hibernatingPhones\",\n            \"disposedPhones\",\n            \"brokenPhones\",\n            \"repairedPhones\",\n            \"refurbishedPhones\",\n            \"newlyProducedPhones\"\n        ];\n        const additionalVerbatimSupplyIds = [\n            \"phonesInUse\"\n        ];\n        const flowVizSigns = {\n            abandon: 1,\n            acquireNewlyProduced: -1,\n            acquireRefurbished: -1,\n            acquireRepaired: -1,\n            acquireUsed: -1,\n            disposeBroken: -1,\n            disposeHibernating: -1,\n            goBroken: -1,\n            landfill: -1,\n            produceFromNaturalResources: -1,\n            produceFromRecycledMaterials: -1,\n            recycle: -1,\n            refurbish: -1,\n            repair: -1\n        };\n        const scaleFactors = {\n            global: 30000,\n            stocks: 1,\n            flows: 0.001,\n            flowHighlight: 10\n        };\n        const svgPromise = (0, $aXhH2.loadSvg)(svgUrl);\n        const appStore = (0, $f4LB1.useAppStore)();\n        const modelStore = (0, $i5N9G.useModelStore)();\n        const updateInfo = (0, $djimy.ref)({\n            deltaMs: 0,\n            stepSize: 0,\n            flowVizScale: 1,\n            stockVizScale: 1,\n            record: modelStore.record\n        });\n        const useStockToRadius = (stockId)=>{\n            const radius = (0, $djimy.computed)(()=>{\n                const { record: record } = updateInfo.value;\n                const { stocks: stocks } = record;\n                const stock = stocks[stockId];\n                const stockVizScale = updateInfo.value.stockVizScale;\n                return Math.sqrt(stock * stockVizScale / Math.PI);\n            });\n            return {\n                radius: radius\n            };\n        };\n        const useFlowToDashoffset = (flowId)=>{\n            let lastDashOffset = 0;\n            const dashoffset = (0, $djimy.computed)(()=>{\n                const { deltaMs: deltaMs, flowVizScale: flowVizScale, record: record } = updateInfo.value;\n                const { flows: flows } = record;\n                const flow = flows[flowId];\n                const flowVizSign = flowVizSigns[flowId];\n                // The dash offset step must not be small compared to the dash gap.\n                // Otherwise, the flow animation may appear to move backwards.\n                const maxStep = 10; // TODO: Make this configurable\n                const dashOffsetStep = flowVizSign * Math.min(deltaMs * flowVizScale * flow, maxStep);\n                const dashOffset = (Number.isNaN(lastDashOffset) ? 0 : lastDashOffset) + dashOffsetStep;\n                lastDashOffset = dashOffset;\n                return dashOffset;\n            });\n            return {\n                dashoffset: dashoffset\n            };\n        };\n        const useFlowToHighlight = (flowId)=>{\n            let previousFlow = updateInfo.value.record.flows[flowId];\n            const highlight = (0, $djimy.computed)(()=>{\n                const { flowVizScale: flowVizScale, record: record, stepSize: stepSize } = updateInfo.value;\n                const flow = record.flows[flowId];\n                const flowDerivative = (flow - previousFlow) / stepSize;\n                const scaledFlowDerivative = scaleFactors.flowHighlight * flowVizScale * flowDerivative;\n                // TODO: fine-tune formula\n                const highlight = 0.5 * (1 + Math.min(Math.max(Math.sign(scaledFlowDerivative) * Math.sqrt(Math.abs(scaledFlowDerivative)), -1), 1));\n                previousFlow = flow;\n                return appStore.highlightDerivatives && !Number.isNaN(highlight) ? highlight : 0.5;\n            });\n            return {\n                highlight: highlight\n            };\n        };\n        const extractFlowDescriptions = (svgElement)=>mainFlowIds.map((id)=>{\n                const flowElement = (0, $etm9Z.guardedQuerySelector)(SVGGeometryElement, `#${(0, (/*@__PURE__*/$parcel$interopDefault($lOERq)))(id)}`, svgElement);\n                const svgPath = flowElement.getAttribute(\"d\");\n                (0, $hWymx.strict)(svgPath !== null, `SVG path for flow ${id} not found.`);\n                const flowDescription = (0, $9OMm5.toReactive)({\n                    id: id,\n                    svgPath: svgPath,\n                    dashOffset: useFlowToDashoffset(id).dashoffset,\n                    highlight: useFlowToHighlight(id).highlight\n                });\n                return flowDescription;\n            });\n        const extractStockDescriptions = (svgElement, type)=>{\n            const mainStockIds = type === \"supply\" ? mainSupplyIds : type === \"capacity\" ? mainCapacityIds : additionalVerbatimSupplyIds;\n            return mainStockIds.map((mainId)=>{\n                const stockElement = (0, $etm9Z.guardedQuerySelector)(SVGGeometryElement, `#${(0, (/*@__PURE__*/$parcel$interopDefault($lOERq)))(mainId)}`, svgElement);\n                (0, $hWymx.strict)(stockElement.tagName === \"circle\");\n                const { x: x, y: y } = (0, $jcDd5.getCircleCenter)(stockElement);\n                const id = type === \"verbatim\" ? mainId : (0, (/*@__PURE__*/$parcel$interopDefault($gkhY4)))(`${type}-of-${(0, (/*@__PURE__*/$parcel$interopDefault($lOERq)))(mainId)}`);\n                (0, $hWymx.strict)((0, $aDsGb.stockIds).includes(id), `${id} is no valid stockId (${(0, $aDsGb.stockIds).join(\", \")})`);\n                const stockDescription = (0, $9OMm5.toReactive)({\n                    id: id,\n                    x: x,\n                    y: y,\n                    radius: useStockToRadius(id).radius,\n                    highlight: 0\n                });\n                return stockDescription;\n            });\n        };\n        const capacityDescriptions = (0, $djimy.ref)([]);\n        const supplyDescriptions = (0, $djimy.ref)([]);\n        const flowDescriptions = (0, $djimy.ref)([]);\n        const flowElements = (0, $djimy.ref)([]);\n        const supplyElements = (0, $djimy.ref)([]);\n        (0, $djimy.onMounted)(()=>{\n            svgPromise.then((svg)=>{\n                flowDescriptions.value.push(...extractFlowDescriptions(svg));\n                capacityDescriptions.value.push(...extractStockDescriptions(svg, \"capacity\"));\n                supplyDescriptions.value.push(...extractStockDescriptions(svg, \"supply\"), ...extractStockDescriptions(svg, \"verbatim\"));\n            });\n        });\n        const update = (deltaMs, stepSize, record)=>{\n            const flowVizScale = stepSize * (scaleFactors.global * scaleFactors.flows / record.parameters.numberOfUsers);\n            const stockVizScale = scaleFactors.global * scaleFactors.stocks / record.parameters.numberOfUsers;\n            updateInfo.value = {\n                deltaMs: deltaMs,\n                stepSize: stepSize,\n                flowVizScale: flowVizScale,\n                stockVizScale: stockVizScale,\n                record: record\n            };\n        };\n        __expose({\n            update: update\n        });\n        const __returned__ = {\n            svgUrl: svgUrl,\n            uuid: uuid,\n            mainFlowIds: mainFlowIds,\n            mainCapacityIds: mainCapacityIds,\n            mainSupplyIds: mainSupplyIds,\n            additionalVerbatimSupplyIds: additionalVerbatimSupplyIds,\n            flowVizSigns: flowVizSigns,\n            scaleFactors: scaleFactors,\n            svgPromise: svgPromise,\n            appStore: appStore,\n            modelStore: modelStore,\n            updateInfo: updateInfo,\n            useStockToRadius: useStockToRadius,\n            useFlowToDashoffset: useFlowToDashoffset,\n            useFlowToHighlight: useFlowToHighlight,\n            extractFlowDescriptions: extractFlowDescriptions,\n            extractStockDescriptions: extractStockDescriptions,\n            capacityDescriptions: capacityDescriptions,\n            supplyDescriptions: supplyDescriptions,\n            flowDescriptions: flowDescriptions,\n            flowElements: flowElements,\n            supplyElements: supplyElements,\n            update: update,\n            get BOARD_WIDTH () {\n                return 0, $7Rjir.BOARD_WIDTH;\n            },\n            get BOARD_HEIGHT () {\n                return 0, $7Rjir.BOARD_HEIGHT;\n            }\n        };\n        Object.defineProperty(__returned__, \"__isScriptSetup\", {\n            enumerable: false,\n            value: true\n        });\n        return __returned__;\n    }\n});\n\n});\nparcelRegister(\"aXhH2\", function(module, exports) {\n\n$parcel$export(module.exports, \"loadSvg\", function () { return $c322c1f25c72ec14$export$b6a2e78b63791dfa; });\n/**\n * Loads an external SVG file and returns the DOM tree of its first <svg> element.\n *\n * @param {string|URL} uri\n * @param {boolean} clearStyles\n *  If true removes the style elements from the file\n * @return {Promise<SVGSVGElement>}\n */ async function $c322c1f25c72ec14$export$b6a2e78b63791dfa(uri, clearStyles = true) {\n    const response = await fetch(uri);\n    if (response.status < 200 || response.status >= 300) throw new Error(`Server returned status ${response.status} (${response.statusText}) loading ${new URL(uri).href}.`);\n    const svgText = await response.text();\n    const div = document.createElement(\"div\");\n    div.innerHTML = svgText;\n    const svgDoc = div.querySelector(\"svg\");\n    if (svgDoc === null) throw new Error(`No SVG element found in ${new URL(uri).href}.`);\n    if (clearStyles) svgDoc.querySelectorAll(\"style\")?.forEach((s)=>s.remove());\n    return svgDoc;\n}\n\n});\n\nparcelRegister(\"jcDd5\", function(module, exports) {\n\n$parcel$export(module.exports, \"getCircleCenter\", function () { return $ec59b9543045d3cd$export$5758bd826bc20e64; });\n\nvar $hWymx = parcelRequire(\"hWymx\");\nfunction $ec59b9543045d3cd$export$5758bd826bc20e64(element) {\n    const x = parseFloat(element.getAttribute(\"cx\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(x));\n    const y = parseFloat(element.getAttribute(\"cy\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(y));\n    return {\n        x: x,\n        y: y\n    };\n}\nfunction $ec59b9543045d3cd$export$9a8c8e42e88293cf(element) {\n    const x = parseFloat(element.getAttribute(\"x\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(x));\n    const y = parseFloat(element.getAttribute(\"y\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(y));\n    const width = parseFloat(element.getAttribute(\"width\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(width));\n    const height = parseFloat(element.getAttribute(\"height\") ?? \"\");\n    (0, $hWymx.strict)(!Number.isNaN(height));\n    return {\n        x: x + width / 2,\n        y: y + height / 2\n    };\n}\n\n});\n\nparcelRegister(\"etm9Z\", function(module, exports) {\n\n$parcel$export(module.exports, \"guardedQuerySelector\", function () { return $087b83628c25cd9a$export$99496351b147462; });\nfunction $087b83628c25cd9a$export$99496351b147462(type, selector, elem = document) {\n    const result = elem.querySelector(selector);\n    if (result === null) throw new Error(`No element found matching selector ${selector}.`);\n    if (!(result instanceof type)) throw new Error(`Element matching selector ${selector} has the wrong type.`);\n    return result;\n}\nfunction $087b83628c25cd9a$export$65a5d093667c64b6(type, selector, elem = document) {\n    const results = elem.querySelectorAll(selector);\n    results.forEach((result)=>{\n        if (!(result instanceof type)) throw new Error(`An element matching selector ${selector} has the wrong type.`);\n    });\n    return results;\n}\n\n});\n\nparcelRegister(\"9I5ug\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"5CpQN\")).getBundleURL(\"6xGL6\") + \"model.db14af94.svg\";\n\n});\n\n\nparcelRegister(\"jhXpM\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $e0adb1699048779d$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $e0adb1699048779d$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-0d4334\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $e0adb1699048779d$var$_hoisted_1 = [\n    \"width\",\n    \"height\",\n    \"viewBox\"\n];\nconst $e0adb1699048779d$var$_hoisted_2 = [\n    \"id\",\n    \"data-label\",\n    \"d\",\n    \"stroke-dashoffset\"\n];\nconst $e0adb1699048779d$var$_hoisted_3 = [\n    \"cx\",\n    \"cy\",\n    \"r\"\n];\nconst $e0adb1699048779d$var$_hoisted_4 = [\n    \"id\",\n    \"data-label\",\n    \"cx\",\n    \"cy\",\n    \"r\"\n];\nconst $e0adb1699048779d$var$_hoisted_5 = [\n    \"xlink:href\"\n];\nconst $e0adb1699048779d$var$_hoisted_6 = [\n    \"x\",\n    \"y\"\n];\nfunction $e0adb1699048779d$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"div\", {\n        ref: \"container\",\n        class: \"model-viz-container\",\n        style: (0, $djimy.normalizeStyle)({\n            \"--dev-mode-label-display\": $setup.appStore.isDeveloperModeActive ? \"inline\" : \"none\"\n        })\n    }, [\n        ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"svg\", {\n            width: $setup.BOARD_WIDTH,\n            height: $setup.BOARD_HEIGHT,\n            viewBox: `0 0 ${$setup.BOARD_WIDTH} ${$setup.BOARD_HEIGHT}`,\n            \"xml:space\": \"preserve\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            class: \"model-visualization\"\n        }, [\n            ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.flowDescriptions, (flowDescription)=>{\n                return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"path\", {\n                    key: flowDescription.id,\n                    id: `${flowDescription.id}-${$setup.uuid}`,\n                    ref_for: true,\n                    ref: \"flowElements\",\n                    \"data-label\": flowDescription.id,\n                    d: flowDescription.svgPath,\n                    \"stroke-dashoffset\": flowDescription.dashOffset,\n                    class: \"flow anim-edge\",\n                    style: (0, $djimy.normalizeStyle)({\n                        \"--highlight\": flowDescription.highlight\n                    })\n                }, null, 12, $e0adb1699048779d$var$_hoisted_2);\n            }), 128)),\n            ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.capacityDescriptions, (stockDescription)=>{\n                return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"circle\", {\n                    key: stockDescription.id,\n                    cx: stockDescription.x,\n                    cy: stockDescription.y,\n                    r: stockDescription.radius,\n                    class: \"stock capacity\"\n                }, null, 8, $e0adb1699048779d$var$_hoisted_3);\n            }), 128)),\n            ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.supplyDescriptions, (stockDescription)=>{\n                return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"circle\", {\n                    key: stockDescription.id,\n                    id: `${stockDescription.id}-${$setup.uuid}`,\n                    ref_for: true,\n                    ref: \"supplyElements\",\n                    \"data-label\": stockDescription.id,\n                    cx: stockDescription.x,\n                    cy: stockDescription.y,\n                    r: stockDescription.radius,\n                    class: \"stock supply\"\n                }, null, 8, $e0adb1699048779d$var$_hoisted_4);\n            }), 128)),\n            $setup.appStore.isDeveloperModeActive ? ((0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), {\n                key: 0\n            }, [\n                ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.flowElements, (flowElement)=>{\n                    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"text\", {\n                        key: flowElement.id\n                    }, [\n                        (0, $djimy.createElementVNode)(\"textPath\", {\n                            \"xlink:href\": `#${flowElement.id}`,\n                            startOffset: \"50%\",\n                            \"text-anchor\": \"middle\",\n                            \"dominant-baseline\": \"middle\",\n                            class: \"label\"\n                        }, (0, $djimy.toDisplayString)(flowElement.dataset.label), 9, $e0adb1699048779d$var$_hoisted_5)\n                    ]);\n                }), 128)),\n                ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.supplyElements, (supplyElement)=>{\n                    return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)(\"text\", {\n                        key: supplyElement.id,\n                        x: supplyElement.getAttribute(\"cx\"),\n                        y: supplyElement.getAttribute(\"cy\"),\n                        class: \"label\"\n                    }, (0, $djimy.toDisplayString)(supplyElement.dataset.label), 9, $e0adb1699048779d$var$_hoisted_6);\n                }), 128))\n            ], 64)) : (0, $djimy.createCommentVNode)(\"\", true)\n        ], 8, $e0adb1699048779d$var$_hoisted_1))\n    ], 4);\n}\n\n});\n\nparcelRegister(\"8Gk17\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $6521c5f3de0a8cee$export$2e2bcd8739ae039; });\nlet $6521c5f3de0a8cee$var$NOOP = ()=>{};\nvar $6521c5f3de0a8cee$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nparcelRegister(\"8C4qt\", function(module, exports) {\n\n$parcel$export(module.exports, \"ignorePromise\", function () { return $5ea80b180850514d$export$c90df33c26bd6dc8; });\nfunction $5ea80b180850514d$export$c90df33c26bd6dc8(promise) {}\n\n});\n\nparcelRegister(\"6h466\", function(module, exports) {\n\n$parcel$export(module.exports, \"ModelSimulator\", function () { return $74997f750a8f1187$export$62914d791c60fb79; });\nclass $74997f750a8f1187$export$62914d791c60fb79 {\n    constructor(model, stocks, parameters, t, deltaPerSecond, maxStepSize){\n        this.model = model;\n        this.parameters = parameters;\n        this.flowPerStockCache = null;\n        this.record = this.model.evaluate(stocks, parameters, t);\n        this.deltaPerSecond = deltaPerSecond;\n        this.maxStepSize = maxStepSize;\n        this.flowEvaluator = this.model.createFlowEvaluator(parameters);\n        this.flowEvaluatorWithCache = this.evaluateFlowPerStockWithCache.bind(this);\n    }\n    evaluateFlowPerStockWithCache(stockArray, t) {\n        if (this.flowPerStockCache !== null && this.flowPerStockCache.t === t) return [\n            ...this.flowPerStockCache.value\n        ];\n        return this.flowEvaluator(stockArray, t);\n    }\n    tick(seconds) {\n        const targetT = this.record.t + seconds * this.deltaPerSecond;\n        while(this.record.t < targetT){\n            const stepSize = Math.min(this.maxStepSize, targetT - this.record.t);\n            this.step(stepSize);\n        }\n        return this.record;\n    }\n    step(h) {\n        const { stocks: stocks, parameters: parameters, t: t } = this.record;\n        const newStocks = this.model.step(stocks, t, h, this.flowEvaluatorWithCache);\n        const newRecord = this.model.evaluate(newStocks, parameters, t + h);\n        this.flowPerStockCache = {\n            t: newRecord.t,\n            value: this.model.stocksToStockArray(this.model.accumulateFlowsPerStock(newRecord.flows))\n        };\n        this.record = newRecord;\n        return newRecord;\n    }\n}\n\n});\n\nparcelRegister(\"9cXwb\", function(module, exports) {\n\n$parcel$export(module.exports, \"Runner\", function () { return $466b5cf0b0e1fb7a$export$571ad3bcba5a0c45; });\n\nvar $3ZGF0 = parcelRequire(\"3ZGF0\");\n\nvar $hWymx = parcelRequire(\"hWymx\");\n\nvar $8C4qt = parcelRequire(\"8C4qt\");\nfunction $466b5cf0b0e1fb7a$var$getCurrentAnimationTime() {\n    const currentAnimationTime = document.timeline?.currentTime;\n    if (typeof currentAnimationTime === \"undefined\" || currentAnimationTime === null) return performance.now();\n    if (typeof currentAnimationTime === \"number\") return currentAnimationTime;\n    return currentAnimationTime.to(\"ms\").value;\n}\nclass $466b5cf0b0e1fb7a$export$571ad3bcba5a0c45 extends (0, $3ZGF0.EventEmitter) {\n    play() {\n        this.shouldRun = true;\n        (0, $8C4qt.ignorePromise)(this.run());\n    }\n    pause() {\n        this.shouldRun = false;\n        if (this.cancelAnimationFrameCallback !== null) this.cancelAnimationFrameCallback();\n    }\n    isPlaying() {\n        return this.running;\n    }\n    isPaused() {\n        return !this.running;\n    }\n    shouldPlay() {\n        return this.shouldRun;\n    }\n    shouldPause() {\n        return !this.shouldRun;\n    }\n    togglePlayPause() {\n        if (this.shouldRun) this.pause();\n        else this.play();\n    }\n    tick() {\n        if (this.isPlaying()) {\n            (0, $hWymx.strict)(this.cancelAnimationFrameCallback !== null);\n            this.cancelAnimationFrameCallback();\n        } else {\n            this.play();\n            this.pause();\n        }\n    }\n    async run() {\n        if (this.running || !this.shouldRun) return;\n        this.running = true;\n        this.emit(\"play\");\n        // Keep track of the offset between this runner and the global animation time.\n        // The offset increases by the time the runner was paused.\n        let timeStamp = $466b5cf0b0e1fb7a$var$getCurrentAnimationTime();\n        this.timeStampOffset += timeStamp - this.lastTimeStamp;\n        // The first tick will be emitted with a delta of 0, i.e. the attached listeners should not progress.\n        // If renderers are attached, they should just render the current state.\n        this.lastTimeStamp = timeStamp;\n        do {\n            const delta = timeStamp - this.lastTimeStamp;\n            this.emit(\"tick\", delta, timeStamp, this.lastTimeStamp, this.timeStampOffset);\n            this.lastTimeStamp = timeStamp;\n            // Account for the case where the runner has been paused during the tick event\n            if (!this.shouldRun) break;\n            try {\n                // Wait for the next animation frame\n                // eslint-disable-next-line no-await-in-loop\n                timeStamp = await new Promise((resolve, reject)=>{\n                    const requestId = requestAnimationFrame(resolve);\n                    this.cancelAnimationFrameCallback = ()=>{\n                        cancelAnimationFrame(requestId);\n                        this.cancelAnimationFrameCallback = null;\n                        if (this.shouldRun) resolve($466b5cf0b0e1fb7a$var$getCurrentAnimationTime());\n                        else reject();\n                    };\n                });\n            } catch (err) {\n            // The runner was paused while waiting for the next animation frame\n            }\n        }while (this.shouldRun);\n        this.running = false;\n        this.emit(\"pause\");\n    }\n    constructor(...args){\n        super(...args);\n        this.shouldRun = false;\n        this.running = false;\n        this.timeStampOffset = 0;\n        this.lastTimeStamp = $466b5cf0b0e1fb7a$var$getCurrentAnimationTime();\n        this.cancelAnimationFrameCallback = null;\n    }\n}\n\n});\n\n\nparcelRegister(\"k5vMz\", function(module, exports) {\n\n$parcel$export(module.exports, \"render\", function () { return $e9fced93364bd9e0$export$b3890eb0ae9dca99; });\n\nvar $djimy = parcelRequire(\"djimy\");\nconst $e9fced93364bd9e0$var$_withScopeId = (n)=>((0, $djimy.pushScopeId)(\"data-v-cea4e8\"), n = n(), (0, $djimy.popScopeId)(), n);\nconst $e9fced93364bd9e0$var$_hoisted_1 = {\n    class: \"slot-panel abs-top-left\"\n};\nconst $e9fced93364bd9e0$var$_hoisted_2 = {\n    class: \"marker-panel abs-top-left\"\n};\nfunction $e9fced93364bd9e0$export$b3890eb0ae9dca99(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"ScaledLetterBox\"], {\n        \"target-size\": {\n            width: $setup.BOARD_WIDTH,\n            height: $setup.BOARD_HEIGHT\n        },\n        class: \"scaled-letterbox\",\n        onResize: _cache[1] || (_cache[1] = (scale)=>$setup.appStore.scale = scale)\n    }, {\n        default: (0, $djimy.withCtx)(()=>[\n                (0, $djimy.createElementVNode)(\"div\", {\n                    class: \"layer-panel abs-top-left\",\n                    style: (0, $djimy.normalizeStyle)({\n                        \"--app-width\": $setup.BOARD_WIDTH,\n                        \"--app-height\": $setup.BOARD_HEIGHT\n                    })\n                }, [\n                    ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.config.layers, (layerConfig)=>{\n                        return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, [\n                            layerConfig === \"modelVisualization\" ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"ModelVisualization\"], {\n                                key: 0,\n                                ref_for: true,\n                                ref: \"modelVisualizations\",\n                                class: \"model-visualization\"\n                            }, null, 512)) : (0, $djimy.createCommentVNode)(\"\", true),\n                            layerConfig !== \"modelVisualization\" ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"ConditionalLayer\"], {\n                                key: 1,\n                                \"layer-config\": layerConfig\n                            }, null, 8, [\n                                \"layer-config\"\n                            ])) : (0, $djimy.createCommentVNode)(\"\", true)\n                        ], 64);\n                    }), 256)),\n                    (0, $djimy.createVNode)($setup[\"ScoreTable\"], {\n                        class: \"score-top-left\"\n                    }),\n                    (0, $djimy.createVNode)($setup[\"ScoreTable\"], {\n                        class: \"score-bottom-right\"\n                    })\n                ], 4),\n                (0, $djimy.createElementVNode)(\"div\", $e9fced93364bd9e0$var$_hoisted_1, [\n                    ((0, $djimy.openBlock)(true), (0, $djimy.createElementBlock)((0, $djimy.Fragment), null, (0, $djimy.renderList)($setup.config.interaction.slotGroups, (slotGroupConfig)=>{\n                        return (0, $djimy.openBlock)(), (0, $djimy.createElementBlock)((0, $djimy.Fragment), {\n                            key: slotGroupConfig.id\n                        }, [\n                            slotGroupConfig.type === \"basic\" ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"BasicSlotGroup\"], {\n                                key: 0,\n                                \"slot-group-config\": slotGroupConfig\n                            }, null, 8, [\n                                \"slot-group-config\"\n                            ])) : (0, $djimy.createCommentVNode)(\"\", true),\n                            slotGroupConfig.type === \"action-card\" ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"ActionCardSlotGroup\"], {\n                                key: 1,\n                                \"slot-group-config\": slotGroupConfig\n                            }, null, 8, [\n                                \"slot-group-config\"\n                            ])) : (0, $djimy.createCommentVNode)(\"\", true),\n                            slotGroupConfig.type === \"event-card\" ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"EventCardSlotGroup\"], {\n                                key: 2,\n                                \"slot-group-config\": slotGroupConfig\n                            }, null, 8, [\n                                \"slot-group-config\"\n                            ])) : (0, $djimy.createCommentVNode)(\"\", true)\n                        ], 64);\n                    }), 128))\n                ]),\n                (0, $djimy.createElementVNode)(\"div\", $e9fced93364bd9e0$var$_hoisted_2, [\n                    $setup.options.usePointerMarkers ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"PointerMarkerPanel\"], {\n                        key: 0\n                    })) : (0, $djimy.createCommentVNode)(\"\", true),\n                    $setup.options.useTuioMarkers ? ((0, $djimy.openBlock)(), (0, $djimy.createBlock)($setup[\"TuioMarkerPanel\"], {\n                        key: 1,\n                        class: \"pointer-events-fallthrough\"\n                    })) : (0, $djimy.createCommentVNode)(\"\", true)\n                ]),\n                (0, $djimy.createVNode)($setup[\"ControlPanel\"], {\n                    onKeydown: _cache[0] || (_cache[0] = ($event)=>$event.stopPropagation()),\n                    disabled: !$setup.enableControlPanel\n                }, null, 8, [\n                    \"disabled\"\n                ])\n            ]),\n        _: 1\n    }, 8, [\n        \"target-size\"\n    ]);\n}\n\n});\n\nparcelRegister(\"feskM\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $b16e24666d4286b1$export$2e2bcd8739ae039; });\nlet $b16e24666d4286b1$var$NOOP = ()=>{};\nvar $b16e24666d4286b1$export$2e2bcd8739ae039 = (script)=>{};\n\n});\n\n\nvar $djimy = parcelRequire(\"djimy\");\n\nvar $kV0Ly = parcelRequire(\"kV0Ly\");\n/**\n * This file is used to import and reference modules with side effects\n * that would otherwise be stripped out by the bundler.\n */ \nvar $5jyqD = parcelRequire(\"5jyqD\");\nconst $fd1dbfe4cb5fd0da$var$sideEffects = {\n    bootstrap: {\n        Tab: $5jyqD.Tab\n    }\n};\nvar $fd1dbfe4cb5fd0da$export$2e2bcd8739ae039 = $fd1dbfe4cb5fd0da$var$sideEffects;\n\n\nlet $94648bb2449130ad$var$script;\n\n\n\n\nlet $94648bb2449130ad$var$initialize = ()=>{\n    $94648bb2449130ad$var$script = (parcelRequire(\"fkeW0\"));\n    if ($94648bb2449130ad$var$script.__esModule) $94648bb2449130ad$var$script = $94648bb2449130ad$var$script.default;\n    $94648bb2449130ad$var$script.render = (parcelRequire(\"k5vMz\")).render;\n    $94648bb2449130ad$var$script.__cssModules = {};\n    (parcelRequire(\"feskM\")).default($94648bb2449130ad$var$script);\n    $94648bb2449130ad$var$script.__scopeId = \"data-v-cea4e8\";\n    $94648bb2449130ad$var$script.__file = \"App.vue\";\n};\n$94648bb2449130ad$var$initialize();\nvar $94648bb2449130ad$export$2e2bcd8739ae039 = $94648bb2449130ad$var$script;\n\n\n\nvar $coVQp = parcelRequire(\"coVQp\");\nasync function $e7128e4b2b9cca94$export$3e2b244719956741() {\n    return new Promise((resolve)=>{\n        const state = document.readyState;\n        if (state === \"complete\" || state === \"interactive\") setTimeout(resolve, 0);\n        document.addEventListener(\"DOMContentLoaded\", ()=>resolve());\n    });\n}\n\n\n\nvar $7Rjir = parcelRequire(\"7Rjir\");\n// This is for setting global Vue.js option that should actually be set by the bundler, but aren't.\n/* eslint-disable */ // @ts-ignore\nglobalThis.__VUE_OPTIONS_API__ = true;\n// @ts-ignore\nglobalThis.__VUE_PROD_DEVTOOLS__ = true;\n// @ts-ignore\nglobalThis.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = true;\nasync function $962a287dfbedc8f3$var$init() {\n    const configLoaderResult = await (0, $coVQp.ConfigLoader).safeLoad(...(0, $7Rjir.CONFIG_URLS));\n    if (!configLoaderResult.ok) {\n        const { config: config, error: { errors: errors, explanation: explanation } } = configLoaderResult.error;\n        console.error(\"Invalid configuration:\", config);\n        console.error(explanation);\n        console.error(\"Issues reported by the configuration validator:\", ...errors ?? []);\n        throw new Error(\"Error loading configuration. See console for details.\");\n    }\n    const config = configLoaderResult.data;\n    console.log(config);\n    const pinia = (0, $kV0Ly.createPinia)();\n    const app = (0, $djimy.createApp)((0, $94648bb2449130ad$export$2e2bcd8739ae039));\n    app.provide((0, $7Rjir.CONFIG_INJECTION_KEY), config);\n    app.use(pinia);\n    const appComponent = app.mount(document.body);\n    const circularEconomyApi = {\n        app: appComponent\n    };\n    return circularEconomyApi;\n}\nwindow.circularEconomy = (0, $e7128e4b2b9cca94$export$3e2b244719956741)().then($962a287dfbedc8f3$var$init);\n\n})();\n//# sourceMappingURL=index.71c4cc0d.js.map\n","<script setup lang=\"ts\">\nimport { ref, watch, watchEffect, onMounted } from 'vue';\nimport { onKeyStroke } from '@vueuse/core';\n\nimport ScaledLetterBox from './ScaledLetterbox.vue';\nimport PointerMarkerPanel from './PointerMarkerPanel.vue';\nimport TuioMarkerPanel from './TuioMarkerPanel.vue';\nimport ScoreTable from './ScoreTable.vue';\nimport ControlPanel from './ControlPanel.vue';\nimport ConditionalLayer from './ConditionalLayer.vue';\nimport BasicSlotGroup from './BasicSlotGroup.vue';\nimport ActionCardSlotGroup from './ActionCardSlotGroup.vue';\nimport EventCardSlotGroup from './EventCardSlotGroup.vue';\nimport ModelVisualization from './ModelVisualization.vue';\n\nimport { HOTKEYS, BOARD_WIDTH, BOARD_HEIGHT } from '../../ts/builtin-config';\nimport { useOptionStore } from '../../ts/stores/options';\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useAppStore } from '../../ts/stores/app';\nimport { useModelStore } from '../../ts/stores/model';\nimport { ignorePromise } from '../../ts/util/ignore-promise';\nimport { ModelSimulator } from '../../ts/model-simulator';\nimport {\n  CircularEconomyModel,\n  type FlowIds,\n  type ParameterIds,\n  type StockIds,\n  type VariableIds,\n} from '../../ts/circular-economy-model';\nimport { Runner } from '../../ts/util/runner';\n\nconst options = useOptionStore();\nconst { config } = useConfigStore();\nconst appStore = useAppStore();\nconst modelStore = useModelStore();\n\nconst model = new CircularEconomyModel();\nconst modelSimulator = new ModelSimulator<\n  StockIds,\n  FlowIds,\n  VariableIds,\n  ParameterIds\n>(\n  model,\n  { ...config.model.initialStocks },\n  { ...config.model.initialParameters },\n  0.0,\n  config.simulation.deltaPerSecond,\n  config.simulation.maxStepSize,\n);\n\nconst runner = new Runner();\n\nwatchEffect(() => {\n  if (appStore.isPlaying) runner.play();\n  else runner.pause();\n});\n\nwatchEffect(() => {\n  Object.assign(modelSimulator.parameters, {\n    ...modelStore.transformedParameters,\n  });\n  console.log('Update model parameters', modelSimulator.parameters);\n});\n\nrunner.tick();\n\nwatch(\n  () => appStore.isFullscreen,\n  (isFullscreen) => {\n    console.log('Fullscreen toogled');\n    ignorePromise(\n      isFullscreen\n        ? document.documentElement.requestFullscreen()\n        : document.exitFullscreen(),\n    );\n  },\n);\n\nconst enableControlPanel = ref(false);\n\nconst toggleControlPanel = () => {\n  enableControlPanel.value = !enableControlPanel.value;\n};\n\nconst toggleDeveloperMode = () => {\n  appStore.isDeveloperModeActive = !appStore.isDeveloperModeActive;\n};\n\nconst togglePlayPause = () => {\n  appStore.isPlaying = !appStore.isPlaying;\n};\n\nconst toggleFullscreen = () => {\n  appStore.isFullscreen = !appStore.isFullscreen;\n};\n\nonKeyStroke(HOTKEYS.controlPanel.key, toggleControlPanel);\nonKeyStroke(HOTKEYS.developerMode.key, toggleDeveloperMode);\nonKeyStroke(HOTKEYS.run.key, togglePlayPause);\nonKeyStroke(HOTKEYS.fullscreen.key, toggleFullscreen);\n\nwatchEffect(() => {\n  if (appStore.isPlaying) runner.play();\n  else runner.pause();\n});\n\nconst modelVisualizations = ref<Array<typeof ModelVisualization>>([]);\nonMounted(() => {\n  const tick = (deltaMs: DOMHighResTimeStamp) => {\n    const { t: lastT } = modelSimulator.record;\n    modelSimulator.tick(deltaMs);\n    const { t: currentT } = modelSimulator.record;\n    const deltaT = currentT - lastT;\n\n    const { record } = modelSimulator;\n    modelStore.$patch({ record });\n    modelVisualizations.value.forEach((mv) =>\n      mv.update(deltaMs, deltaT, modelSimulator.record),\n    );\n  };\n  runner.on('tick', tick);\n});\n</script>\n\n<template>\n  <ScaledLetterBox\n    :target-size=\"{ width: BOARD_WIDTH, height: BOARD_HEIGHT }\"\n    class=\"scaled-letterbox\"\n    @resize=\"(scale) => (appStore.scale = scale)\"\n  >\n    <div\n      class=\"layer-panel abs-top-left\"\n      :style=\"{\n        '--app-width': BOARD_WIDTH,\n        '--app-height': BOARD_HEIGHT,\n      }\"\n    >\n      <template v-for=\"layerConfig in config.layers\">\n        <ModelVisualization\n          v-if=\"layerConfig === 'modelVisualization'\"\n          ref=\"modelVisualizations\"\n          class=\"model-visualization\"\n        />\n        <ConditionalLayer\n          v-if=\"layerConfig !== 'modelVisualization'\"\n          :layer-config=\"layerConfig\"\n        />\n      </template>\n      <ScoreTable class=\"score-top-left\" />\n      <ScoreTable class=\"score-bottom-right\" />\n    </div>\n    <div class=\"slot-panel abs-top-left\">\n      <template\n        v-for=\"slotGroupConfig in config.interaction.slotGroups\"\n        :key=\"slotGroupConfig.id\"\n      >\n        <BasicSlotGroup\n          :slot-group-config=\"slotGroupConfig\"\n          v-if=\"slotGroupConfig.type === 'basic'\"\n        ></BasicSlotGroup>\n        <ActionCardSlotGroup\n          :slot-group-config=\"slotGroupConfig\"\n          v-if=\"slotGroupConfig.type === 'action-card'\"\n        ></ActionCardSlotGroup>\n        <EventCardSlotGroup\n          :slot-group-config=\"slotGroupConfig\"\n          v-if=\"slotGroupConfig.type === 'event-card'\"\n        ></EventCardSlotGroup>\n      </template>\n    </div>\n    <div class=\"marker-panel abs-top-left\">\n      <PointerMarkerPanel v-if=\"options.usePointerMarkers\"></PointerMarkerPanel>\n      <TuioMarkerPanel\n        v-if=\"options.useTuioMarkers\"\n        class=\"pointer-events-fallthrough\"\n      ></TuioMarkerPanel>\n    </div>\n    <ControlPanel\n      @keydown=\"$event.stopPropagation()\"\n      :disabled=\"!enableControlPanel\"\n    />\n  </ScaledLetterBox>\n</template>\n\n<style lang=\"scss\" scoped>\n.app-background {\n  background-color: black;\n  width: 100%;\n  height: 100%;\n}\n\n.layer-panel {\n  background-color: white;\n}\n\n.model-visualization {\n  width: calc(1px * var(--svg-width));\n  transform: scale(var(--svg-scale-factor));\n  transform-origin: top left;\n}\n\n.slot-panel,\n.marker-panel {\n  touch-action: none;\n}\n\n.pointer-events-fallthrough {\n  pointer-events: none;\n}\n\n.score {\n  position: absolute;\n}\n\n.score-top-left {\n  @extend .score;\n  top: 0;\n  left: 0;\n  transform-origin: center;\n  transform: rotate(180deg);\n}\n\n.score-bottom-right {\n  @extend .score;\n  bottom: 0;\n  right: 0;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { strict as assert } from 'assert';\nimport { ref, onMounted, onUnmounted } from 'vue';\n\nconst props = defineProps<{ targetSize: { width: number; height: number } }>();\nconst emit = defineEmits<{\n  resize: [scale: number];\n}>();\n\nconst outerElement = ref<HTMLDivElement | null>(null);\nconst innerElement = ref<HTMLDivElement | null>(null);\n\nconst transformInfo = ref({ translateX: 0, translateY: 0, scale: 1 });\n\nonMounted(() => {\n  assert(outerElement.value !== null);\n  const outerElementValue = outerElement.value;\n\n  const handleResize = () => {\n    const rect = outerElementValue.getBoundingClientRect();\n    const scale = Math.min(\n      rect.width / props.targetSize.width,\n      rect.height / props.targetSize.height,\n    );\n    transformInfo.value = {\n      translateX: rect.width / 2,\n      translateY: rect.height / 2,\n      scale,\n    };\n    emit('resize', scale);\n  };\n  const observer = new ResizeObserver(handleResize);\n  observer.observe(outerElementValue);\n  handleResize();\n  onUnmounted(() => observer.disconnect());\n});\n</script>\n\n<template>\n  <div ref=\"outerElement\" class=\"outer\">\n    <div\n      ref=\"innerElement\"\n      class=\"inner\"\n      :style=\"{\n        '--target-width': props.targetSize.width,\n        '--target-height': props.targetSize.height,\n        '--translate-x': transformInfo.translateX,\n        '--translate-y': transformInfo.translateY,\n        '--scale': transformInfo.scale,\n      }\"\n    >\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.outer {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.inner {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(1px * var(--target-width));\n  height: calc(1px * var(--target-height));\n  transform-origin: top left;\n  transform: translateX(calc(1px * var(--translate-x)))\n    translateY(calc(1px * var(--translate-y))) scale(var(--scale))\n    translate(-50%, -50%);\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { Writable } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport { useArrayFilter } from '@vueuse/core';\n\nimport type { Marker } from '../../ts/stores/marker';\n\nimport { POINTER_MARKER_COORDINATES } from '../../ts/builtin-config';\nimport MarkerUnderlay from './MarkerUnderlay.vue';\nimport { useAppStore } from '../../ts/stores/app';\nimport { useMarkerStore } from '../../ts/stores/marker';\n\nconst appStore = useAppStore();\nconst { markerPositions, addMarker, moveMarker } = useMarkerStore();\n\nconst pointerMarkers = useArrayFilter(\n  markerPositions as Writable<typeof markerPositions>,\n  ({ id }) => id.startsWith('pointer-marker-'),\n);\n\nPOINTER_MARKER_COORDINATES.forEach(({ x, y }, i) =>\n  addMarker({ id: `pointer-marker-${i}`, x, y }),\n);\n\nconst offsets = new Map<string, { x: number; y: number }>();\n\nconst onPointerDown = (event: PointerEvent, m: Marker) => {\n  const { target } = event;\n  assert(target instanceof HTMLElement);\n\n  target.setPointerCapture(event.pointerId);\n\n  const offset = {\n    x: event.clientX / appStore.scale - m.x,\n    y: event.clientY / appStore.scale - m.y,\n  };\n  offsets.set(m.id, offset);\n};\n\nconst onPointerMove = (event: PointerEvent, m: Marker) => {\n  const { target } = event;\n  assert(target instanceof HTMLElement);\n\n  if (!target.hasPointerCapture(event.pointerId)) return;\n\n  const offset = offsets.get(m.id);\n  assert(typeof offset !== 'undefined');\n\n  // eslint-disable-next-line no-param-reassign\n  const x = event.clientX / appStore.scale - offset.x;\n  const y = event.clientY / appStore.scale - offset.y;\n  moveMarker({ id: m.id, x, y });\n};\n\nconst onPointerUpOrCancel = (event: PointerEvent, _: Marker) => {\n  const { target } = event;\n  assert(target !== null && target instanceof HTMLElement);\n\n  target.releasePointerCapture(event.pointerId);\n};\n</script>\n\n<template>\n  <div class=\"abs-top-left\">\n    <MarkerUnderlay\n      v-for=\"marker in pointerMarkers\"\n      :key=\"marker.id\"\n      :marker-id=\"marker.id\"\n      :x=\"marker.x\"\n      :y=\"marker.y\"\n      class=\"marker-underlay\"\n      @pointerdown=\"onPointerDown($event, marker)\"\n      @pointermove=\"onPointerMove($event, marker)\"\n      @pointerup=\"onPointerUpOrCancel($event, marker)\"\n      @pointercancel=\"onPointerUpOrCancel($event, marker)\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.marker-underlay {\n  cursor: pointer;\n}\n</style>\n","import type { DeepReadonly } from 'ts-essentials';\n\nconst CONFIG_BASE_URL = new URL('./config/', window.location.href);\nconst CONFIG_FILENAMES = [\n  'general.yaml',\n  'model.yaml',\n  'simulation.yaml',\n  'parameter-transforms.yaml',\n  'interaction.yaml',\n  'layers.yaml',\n] as const;\n\nconst CONFIG_URLS = CONFIG_FILENAMES.map(\n  (name) => new URL(name, CONFIG_BASE_URL),\n);\n\nconst CONFIG_INJECTION_KEY = Symbol('config injection key');\n\nconst BOARD_WIDTH = 2 * 1920;\nconst BOARD_HEIGHT = 2 * 1080;\nconst BOARD_WIDTH_MM = 1209.6;\nconst MARKER_DIAMETER_MM = 74.3;\nconst MARKER_CIRCLE_DIAMETER =\n  (BOARD_WIDTH * MARKER_DIAMETER_MM) / BOARD_WIDTH_MM;\n\nconst NUM_POINTER_MARKERS = 8;\nconst POINTER_MARKER_COORDINATES = new Array(NUM_POINTER_MARKERS)\n  .fill(0)\n  .map(() => ({ x: 180, y: 260 }));\n\nconst SLOT_CIRCLE_DIAMETER = MARKER_CIRCLE_DIAMETER;\n\nconst HOTKEYS = {\n  run: { key: ' ', label: 'space' },\n  controlPanel: { key: 'c', label: 'c' },\n  developerMode: { key: 'd', label: 'd' },\n  fullscreen: { key: 'f', label: 'f' },\n  highlightDerivatives: { key: 'h', label: 'h' },\n} as const;\n\nexport {\n  CONFIG_BASE_URL,\n  CONFIG_INJECTION_KEY,\n  CONFIG_FILENAMES,\n  CONFIG_URLS,\n  BOARD_WIDTH,\n  BOARD_HEIGHT,\n  BOARD_WIDTH_MM,\n  MARKER_DIAMETER_MM,\n  MARKER_CIRCLE_DIAMETER,\n  NUM_POINTER_MARKERS,\n  POINTER_MARKER_COORDINATES,\n  SLOT_CIRCLE_DIAMETER,\n  HOTKEYS,\n};\n","<script setup lang=\"ts\">\nimport { MARKER_CIRCLE_DIAMETER } from '../../ts/builtin-config';\nimport { useAppStore } from '../../ts/stores/app';\n\nconst appStore = useAppStore();\n\nconst props = defineProps<{\n  readonly markerId: string;\n  x: number;\n  y: number;\n}>();\n</script>\n\n<template>\n  <div\n    class=\"marker\"\n    :style=\"{\n      '--marker-position-x': props.x,\n      '--marker-position-y': props.y,\n      '--marker-diameter': MARKER_CIRCLE_DIAMETER,\n    }\"\n  >\n    <div class=\"circle\"></div>\n    <span v-if=\"appStore.isDeveloperModeActive\">{{ props.markerId }}</span>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.marker {\n  --blur-radius: 15px;\n  --outline-width: 6px;\n  position: absolute;\n  left: calc(1px * var(--marker-position-x));\n  top: calc(1px * var(--marker-position-y));\n  width: calc(1px * var(--marker-diameter));\n  height: calc(1px * var(--marker-diameter));\n  transform-origin: top left;\n  transform: translate(-50%, -50%);\n\n  * {\n    pointer-events: none;\n    user-select: none;\n  }\n\n  display: grid;\n  place-items: center center;\n  font-family: sans-serif;\n  font-size: x-large;\n\n  .circle {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: rgb(211 211 211 / 50%);\n    outline: 6px solid rgb(0 0 0 / 75%);\n    filter: blur(var(--blur-radius));\n\n    &.active {\n      background-color: rgb(55 175 218 / 50%);\n    }\n  }\n}\n</style>\n","import { defineStore } from 'pinia';\nimport { ref } from 'vue';\n\nimport { useOptionStore } from './options';\n\nexport const useAppStore = defineStore('app', () => {\n  const optionStore = useOptionStore();\n\n  const isPlaying = ref(optionStore.autoStart);\n  const isFullscreen = ref(false);\n  const isDeveloperModeActive = ref(optionStore.developerMode);\n  const highlightDerivatives = ref(optionStore.highlightDerivatives);\n\n  const scale = ref(1);\n\n  return {\n    isPlaying,\n    isFullscreen,\n    isDeveloperModeActive,\n    highlightDerivatives,\n    scale,\n  };\n});\n","import type { DeepReadonly } from 'ts-essentials';\n\nimport { defineStore } from 'pinia';\n\nimport { NUM_POINTER_MARKERS } from '../builtin-config';\n\nexport const useOptionStore = defineStore('options', () => {\n  const searchParams = new URLSearchParams(window.location.search);\n\n  const useTuioMarkers = (searchParams.get('tuio') ?? 'true') === 'true';\n  const usePointerMarkers = (searchParams.get('pointer') ?? 'false') === 'true';\n\n  const numPointerMarkers = Number.parseInt(\n    searchParams.get('numPointerMarkers') ?? `${NUM_POINTER_MARKERS}`,\n    10,\n  );\n  const tuioUrl = searchParams.get('tuioUrl') ?? 'ws://localhost:3339';\n\n  const tuioReconnectionDelayMs =\n    Number.parseInt(searchParams.get('tuioReconnectionDelay') ?? '10', 10) *\n    1000;\n\n  const autoStart = (searchParams.get('autoStart') ?? 'true') === 'true';\n\n  const developerMode = (searchParams.get('devMode') ?? 'false') === 'true';\n\n  const highlightDerivatives =\n    (searchParams.get('highlightDerivatives') ?? 'false') === 'true';\n\n  const result = {\n    useTuioMarkers,\n    usePointerMarkers,\n    numPointerMarkers,\n    tuioUrl,\n    tuioReconnectionDelayMs,\n    autoStart,\n    developerMode,\n    highlightDerivatives,\n  };\n\n  return result as DeepReadonly<typeof result>;\n});\n","import { defineStore } from 'pinia';\nimport { ref, readonly } from 'vue';\n\nimport { BOARD_WIDTH, BOARD_HEIGHT } from '../builtin-config';\nimport { useOptionStore } from './options';\nimport { Tuio11EventEmitter } from '../util/input/tuio/tuio11-event-emitter';\nimport { Tuio11Client, Tuio11Object } from '../util/input/tuio/tuio_client_js';\nimport { WebsocketTuioReceiverExt } from '../util/input/tuio/websocket-tuio-receiver-ext';\n\ninterface Marker {\n  id: string;\n  x: number;\n  y: number;\n}\n\nexport const useMarkerStore = defineStore('marker', () => {\n  const options = useOptionStore();\n\n  const markerPositions = ref(new Array<Marker>());\n\n  const removeMarker = (m: Marker) => {\n    let index = -1;\n    do {\n      index = markerPositions.value.findIndex(({ id }) => id === m.id);\n      if (index !== -1) markerPositions.value.splice(index, 1);\n    } while (index !== -1);\n  };\n\n  const addMarker = (m: Marker) => {\n    removeMarker(m);\n    markerPositions.value.push({ ...m });\n  };\n\n  const moveMarker = (m: Marker) => {\n    const movedMarker = markerPositions.value.find(({ id }) => id === m.id);\n    if (typeof movedMarker === 'undefined') {\n      addMarker(m);\n      return;\n    }\n\n    movedMarker.x = m.x;\n    movedMarker.y = m.y;\n  };\n\n  // TODO: Factor out the TUIO stuff into separate composable\n  const tuio11EventEmitter = new Tuio11EventEmitter();\n\n  if (options.useTuioMarkers) {\n    const client = new Tuio11Client(\n      new WebsocketTuioReceiverExt(\n        options.tuioUrl,\n        options.tuioReconnectionDelayMs,\n      ),\n    );\n    client.addTuioListener(tuio11EventEmitter);\n\n    /*\n     * FIXME:\n     *   This is a workaround to not miss the initial marker events that are emitted directly after the connection is\n     *   established.\n     */\n    setTimeout(() => client.connect(), 0);\n  }\n\n  tuio11EventEmitter.on('tuio-object-add', (tuioObject: Tuio11Object) => {\n    addMarker({\n      id: `tuio-${tuioObject.sessionId}`,\n      x: tuioObject.xPos * BOARD_WIDTH,\n      y: tuioObject.yPos * BOARD_HEIGHT,\n    });\n  });\n\n  tuio11EventEmitter.on('tuio-object-update', (tuioObject: Tuio11Object) => {\n    moveMarker({\n      id: `tuio-${tuioObject.sessionId}`,\n      x: tuioObject.xPos * BOARD_WIDTH,\n      y: tuioObject.yPos * BOARD_HEIGHT,\n    });\n  });\n\n  tuio11EventEmitter.on('tuio-object-remove', (tuioObject: Tuio11Object) => {\n    removeMarker({\n      id: `tuio-${tuioObject.sessionId}`,\n      x: tuioObject.xPos * BOARD_WIDTH,\n      y: tuioObject.yPos * BOARD_HEIGHT,\n    });\n  });\n\n  return {\n    markerPositions: readonly(markerPositions),\n    removeMarker,\n    addMarker,\n    moveMarker,\n  };\n});\n\nexport type { Marker };\n","import type TypedEmitter from 'typed-emitter';\nimport { EventEmitter } from 'events';\n\nimport {\n  Tuio11Object,\n  Tuio11Cursor,\n  Tuio11Blob,\n  type Tuio11Listener,\n} from './tuio_client_js';\n\nexport type Tuio11Events = {\n  'tuio-object-add': (tuioObject: Tuio11Object) => void;\n  'tuio-object-update': (tuioObject: Tuio11Object) => void;\n  'tuio-object-remove': (tuioObject: Tuio11Object) => void;\n  'tuio-cursor-add': (tuioCursor: Tuio11Cursor) => void;\n  'tuio-cursor-update': (tuioCursor: Tuio11Cursor) => void;\n  'tuio-cursor-remove': (tuioCursor: Tuio11Cursor) => void;\n  'tuio-blob-add': (tuioBlob: Tuio11Blob) => void;\n  'tuio-blob-update': (tuioBlob: Tuio11Blob) => void;\n  'tuio-blob-remove': (tuioBlob: Tuio11Blob) => void;\n  'refresh': (frameTime: number) => void;\n};\n\nexport class Tuio11EventEmitter\n  extends (EventEmitter as new () => TypedEmitter<Tuio11Events>)\n  implements Tuio11Listener\n{\n  addTuioObject(tuioObject: Tuio11Object) {\n    this.emit('tuio-object-add', tuioObject);\n  }\n\n  updateTuioObject(tuioObject: Tuio11Object) {\n    this.emit('tuio-object-update', tuioObject);\n  }\n\n  removeTuioObject(tuioObject: Tuio11Object) {\n    this.emit('tuio-object-remove', tuioObject);\n  }\n\n  addTuioCursor(tuioCursor: Tuio11Cursor) {\n    this.emit('tuio-cursor-add', tuioCursor);\n  }\n\n  updateTuioCursor(tuioCursor: Tuio11Cursor) {\n    this.emit('tuio-cursor-update', tuioCursor);\n  }\n\n  removeTuioCursor(tuioCursor: Tuio11Cursor) {\n    this.emit('tuio-cursor-remove', tuioCursor);\n  }\n\n  addTuioBlob(tuioBlob: Tuio11Blob) {\n    this.emit('tuio-blob-add', tuioBlob);\n  }\n\n  updateTuioBlob(tuioBlob: Tuio11Blob) {\n    this.emit('tuio-blob-update', tuioBlob);\n  }\n\n  removeTuioBlob(tuioBlob: Tuio11Blob) {\n    this.emit('tuio-blob-remove', tuioBlob);\n  }\n\n  refresh(frameTime: number) {\n    this.emit('refresh', frameTime);\n  }\n}\n","import {\n  TuioConnectionType,\n  TuioReceiver,\n  TuioState,\n  TuioTime,\n  WebsocketTuioReceiver,\n  Tuio11Point,\n  Tuio11Container,\n  Tuio11Object,\n  Tuio11Cursor,\n  Tuio11Blob,\n  type Tuio11Listener,\n  Tuio11Client,\n} from '../../../../vendor/InteractiveScapeGmbh/tuio_client_js/src';\n\nexport {\n  TuioConnectionType,\n  TuioReceiver,\n  TuioState,\n  TuioTime,\n  WebsocketTuioReceiver,\n  Tuio11Point,\n  Tuio11Container,\n  Tuio11Object,\n  Tuio11Cursor,\n  Tuio11Blob,\n  type Tuio11Listener,\n  Tuio11Client,\n};\n","/// <reference path=\"./index.d.ts\" />\n\n// common code\nimport { TuioConnectionType } from './common/TuioConnectionType.js';\nimport { TuioReceiver } from './common/TuioReceiver.js';\nimport { TuioState } from './common/TuioState.js';\nimport { TuioTime } from './common/TuioTime.js';\nimport { WebsocketTuioReceiver } from './common/WebsocketTuioReceiver.js';\n\nexport {\n  TuioConnectionType,\n  TuioReceiver,\n  TuioState,\n  TuioTime,\n  WebsocketTuioReceiver,\n};\n\n// TUIO 1.1 code\nimport { Tuio11Blob } from './tuio11/Tuio11Blob.js';\nimport { Tuio11Client } from './tuio11/Tuio11Client.js';\nimport { Tuio11Container } from './tuio11/Tuio11Container.js';\nimport { Tuio11Cursor } from './tuio11/Tuio11Cursor.js';\nimport { Tuio11Object } from './tuio11/Tuio11Object.js';\nimport { Tuio11Point } from './tuio11/Tuio11Point.js';\n\nexport {\n  Tuio11Blob,\n  Tuio11Client,\n  Tuio11Container,\n  Tuio11Cursor,\n  Tuio11Object,\n  Tuio11Point,\n};\n\n/* Exclude TUIO 2.0 code for now\n// TUIO 2.0 code\nimport { Tuio20Bounds } from './tuio20/Tuio20Bounds.js';\nimport { Tuio20Client } from './tuio20/Tuio20Client.js';\nimport { Tuio20Component } from './tuio20/Tuio20Component.js';\nimport { Tuio20Object } from './tuio20/Tuio20Object.js';\nimport { Tuio20Point } from './tuio20/Tuio20Point.js';\nimport { Tuio20Pointer } from './tuio20/Tuio20Pointer.js';\nimport { Tuio20Symbol } from './tuio20/Tuio20Symbol.js';\nimport { Tuio20Token } from './tuio20/Tuio20Token.js';\n\nexport {\n  Tuio20Bounds,\n  Tuio20Client,\n  Tuio20Component,\n  Tuio20Object,\n  Tuio20Point,\n  Tuio20Pointer,\n  Tuio20Symbol,\n  Tuio20Token,\n};\n*/\n","export class TuioConnectionType {\n    static UDP = new TuioConnectionType('UDP');\n    static Websocket = new TuioConnectionType('Websocket');\n\n    constructor(name) {\n        this.name = name;\n    }\n\n    toString() {\n        return `TuioConnectionType.${this.name}`;\n    }\n}","export class TuioReceiver {\n    constructor() {\n        this._isConnected = false;\n        this._messageListeners = {};\n    }\n\n    connect(){\n    }\n\n    disconnect(){\n    }\n\n    onOscMessage(oscMessage){\n        let messageListeners = this._messageListeners[oscMessage.address];\n        if(messageListeners !== undefined){\n            for (let messageListener of messageListeners){\n                messageListener(oscMessage);\n            }\n        }\n    }\n\n    addMessageListener(address, callback){\n        if(!(address in this._messageListeners)){\n            this._messageListeners[address] = [];\n        }\n        this._messageListeners[address].push(callback);\n    }\n}\n","export class TuioState {\n    static Added = new TuioState('Added');\n    static Accelerating = new TuioState('Accelerating');\n    static Decelerating = new TuioState('Decelerating');\n    static Stopped = new TuioState('Stopped');\n    static Removed = new TuioState('Removed');\n    static Rotating = new TuioState('Rotating');\n    static Idle = new TuioState('Idle');\n\n    constructor(name) {\n        this.name = name;\n    }\n\n    toString() {\n        return `TuioState.${this.name}`;\n    }\n}","export class TuioTime {\n    static _startTime = new TuioTime(0, 0);\n\n    constructor(seconds, microSeconds) {\n        this._seconds = seconds;\n        this._microSeconds = microSeconds;\n    }\n\n    static fromOscTime(oscTime){\n        let seconds = oscTime.raw[0];\n        let microseconds = oscTime.raw[1] / 4294967296;\n        return new TuioTime(seconds, microseconds);\n    }\n\n    subtract(tuioTime) {\n        let seconds = this._seconds - tuioTime._seconds;\n        let microSeconds = this._microSeconds - tuioTime._microSeconds;\n\n        if (microSeconds < 0) {\n            microSeconds += 1000000;\n            seconds = seconds - 1;\n        }\n        return new TuioTime(seconds, microSeconds);\n    }\n\n    getTotalMilliseconds() {\n        return 1000 * this._seconds + this._microSeconds / 1000;\n    }\n\n    static init(){\n        TuioTime._startTime = TuioTime._getSystemTime();\n    }\n\n    static _getSystemTime(){\n        let performanceNow = performance.now();\n        return new TuioTime(Math.floor(performanceNow / 1000), Math.floor(performanceNow * 1000) % 1000000);\n    }\n\n    static getCurrentTime(){\n        return TuioTime._getSystemTime().subtract(TuioTime._startTime);\n    }\n}","import * as osc from 'osc/dist/osc-browser';\nimport { TuioReceiver } from './TuioReceiver.js';\n\nexport class WebsocketTuioReceiver extends TuioReceiver {\n    constructor(url) {\n        super();\n        this._oscPort = new osc.WebSocketPort({\n            url: url,\n            metadata: true\n        });\n    }\n\n    connect(){\n        this._oscPort.open();\n        this._isConnected = true;\n        this._oscPort.on(\"message\", function(oscMessage) {\n            this.onOscMessage(oscMessage);\n        }.bind(this));\n    }\n\n    disconnect(){\n        this._oscPort.close();\n        this._isConnected = false;\n    }\n}\n\n","import {Tuio11Container} from \"./Tuio11Container.js\";\nimport {TuioState} from \"../common/TuioState.js\";\n\nexport class Tuio11Blob extends Tuio11Container {\n    constructor(startTime, blobId, symbolId, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        super(startTime, blobId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._blobId = blobId;\n        this._angle = angle;\n        this._width = width;\n        this._height = height;\n        this._area = area;\n        this._rotationSpeed = rotationSpeed;\n        this._rotationAccel = rotationAccel;\n    }\n\n    get blobId(){\n        return this._blobId;\n    }\n\n    get angle(){\n        return this._angle;\n    }\n\n    get width(){\n        return this._angle;\n    }\n\n    get height(){\n        return this._angle;\n    }\n\n    get area(){\n        return this._angle;\n    }\n\n    get rotationSpeed(){\n        return this._rotationSpeed;\n    }\n\n    get rotationAccel(){\n        return this._rotationAccel;\n    }\n\n    _hasChanged(currentTime, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        return !(xPos === this.xPos && yPos === this.yPos && angle === this.angle && width === this.width && height === this.height && area === this.area && xSpeed === this.xSpeed && ySpeed === this.ySpeed && rotationSpeed === this.rotationSpeed && motionAccel === this.motionAccel && rotationAccel === this.rotationAccel);\n    }\n\n    _update(currentTime, xPos, yPos, angle, width, height, area, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        let lastPoint = this.path[this.path.length - 1];\n        let isCalculateSpeeds = (xPos !== this.xPos && xSpeed === 0) || (yPos !== this.yPos && ySpeed === 0);\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n\n        let isCalculateRotation = (angle !== this.angle && rotationSpeed === 0);\n        if(isCalculateRotation){\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds()/1000.0;\n            let lastAngle = this.angle;\n            let lastRotationSpeed = this.rotationSpeed;\n            let da = (angle - lastAngle) / (2 * Math.PI);\n            if(da > 0.5){\n                da -= 1;\n            } else if(da <= -0.5){\n                da += 1;\n            }\n            this._rotationSpeed = da / dt;\n            this._rotationAccel = (this.rotationSpeed - lastRotationSpeed) / dt;\n        } else {\n            this._rotationSpeed = rotationSpeed;\n            this._rotationAccel = rotationAccel;\n        }\n        this._angle = angle;\n\n        if (this._state !== TuioState.Stopped && this.rotationAccel !== 0) {\n            this._state = TuioState.Rotating;\n        }\n\n        this._width = width;\n        this._height = height;\n        this._area = area;\n    }\n}","import {Tuio11Point} from \"./Tuio11Point.js\";\nimport {TuioState} from \"../common/TuioState.js\";\n\nexport class Tuio11Container extends Tuio11Point {\n    MAX_PATH_LENGTH = 128;\n\n    constructor(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel) {\n        super(startTime, xPos, yPos);\n        this._currentTime = startTime;\n        this._sessionId = sessionId;\n        this._xSpeed = xSpeed;\n        this._ySpeed = ySpeed;\n        this._motionSpeed = Math.sqrt(xSpeed * xSpeed + ySpeed * ySpeed);\n        this._motionAccel = motionAccel;\n        this._state = TuioState.Added;\n        this._prevPoints = [];\n        this._prevPoints.push(new Tuio11Point(startTime, xPos, yPos));\n    }\n\n    get currentTime() {\n        return this._currentTime;\n    }\n\n    get sessionId() {\n        return this._sessionId;\n    }\n\n    get xSpeed() {\n        return this._xSpeed;\n    }\n\n    get ySpeed()\n    {\n        return this._ySpeed;\n    }\n\n    get motionSpeed()\n    {\n        return this._motionSpeed;\n    }\n\n    get motionAccel()\n    {\n        return this._motionAccel;\n    }\n\n    get state()\n    {\n        return this._state;\n    }\n\n    get path()\n    {\n        return this._prevPoints\n    }\n\n    _updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds) {\n        let lastPoint = this.path[this.path.length - 1];\n        this._xPos = xPos;\n        this._yPos = yPos;\n        if(isCalculateSpeeds){\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds()/1000.0;\n            let dx = this.xPos - lastPoint.xPos;\n            let dy = this.yPos - lastPoint.yPos;\n            let dist = Math.sqrt(dx * dx + dy * dy);\n            let lastMotionSpeed = this.motionSpeed;\n            this._xSpeed = dx / dt;\n            this._ySpeed = dy / dt;\n            this._motionSpeed = dist / dt;\n            this._motionAccel = (this.motionSpeed - lastMotionSpeed) / dt;\n        } else {\n            this._xSpeed = xSpeed;\n            this._ySpeed = ySpeed;\n            this._motionSpeed = Math.sqrt(xSpeed * xSpeed + ySpeed * ySpeed);\n            this._motionAccel = motionAccel;\n        }\n\n        this._currentTime = currentTime;\n        this._prevPoints.push(new Tuio11Point(currentTime, xPos, yPos));\n        if(this._prevPoints.length > this.MAX_PATH_LENGTH){\n            this._prevPoints.shift();\n        }\n\n        if (this._motionAccel > 0) {\n            this._state = TuioState.Accelerating;\n        } else if (this._motionAccel < 0) {\n            this._state = TuioState.Decelerating;\n        } else {\n            this._state = TuioState.Stopped;\n        }\n    }\n\n    _remove(currentTime){\n        this._currentTime = currentTime;\n        this._state = TuioState.Removed;\n    }\n}","export class Tuio11Point {\n    constructor(startTime, xPos, yPos) {\n        this._startTime = startTime;\n        this._xPos = xPos;\n        this._yPos = yPos;\n    }\n\n    get startTime(){\n        return this._startTime;\n    }\n\n    get xPos(){\n        return this._xPos;\n    }\n\n    get yPos(){\n        return this._yPos;\n    }\n}","import {Tuio11Object} from \"./Tuio11Object.js\";\nimport {Tuio11Cursor} from \"./Tuio11Cursor.js\";\nimport {Tuio11Blob} from \"./Tuio11Blob.js\";\nimport {TuioTime} from \"../common/TuioTime.js\";\n\nexport class Tuio11Client {\n    constructor(tuioReceiver) {\n        this._tuioReceiver = tuioReceiver;\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dobj\", this._on2Dobj.bind(this));\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dcur\", this._on2Dcur.bind(this));\n        this._tuioReceiver.addMessageListener(\"/tuio/2Dblb\", this._on2Dblb.bind(this));\n        this._tuioListeners = [];\n\n        this._tuioObjects = new Map();\n        this._tuioCursors = new Map();\n        this._tuioBlobs = new Map();\n\n        this._objectSetMessages = [];\n        this._cursorSetMessages = [];\n        this._blobSetMessages = [];\n\n        this._objectAliveMessage = null;\n        this._cursorAliveMessage = null;\n        this._blobAliveMessage = null;\n\n        this._freeCursorIds = [];\n        this._freeBlobIds = [];\n\n        this._currentFrame = 0;\n        this._currentTime = null;\n    }\n\n    connect() {\n        TuioTime.init();\n        this._currentTime = TuioTime.getCurrentTime();\n        this._tuioReceiver.connect();\n    }\n\n    disconnect() {\n        this._tuioReceiver.disconnect();\n    }\n\n    addTuioListener(tuioListener){\n        this._tuioListeners.push(tuioListener);\n    }\n\n    removeTuioListener(tuioListener){\n        let index = this._tuioListeners.indexOf(tuioListener);\n        if(index > -1) {\n            this._tuioListeners.splice(index, 1);\n        }\n    }\n\n    removeAllTuioListeners(){\n        this._tuioListeners = [];\n    }\n\n    getTuioObjects(){\n        return this._tuioObjects.values();\n    }\n\n    getTuioCursors(){\n        return this._tuioCursors.values();\n    }\n\n    getTuioBlobs(){\n        return this._tuioBlobs.values();\n    }\n\n    getTuioObject(sessionId){\n        let ret = this._tuioObjects.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n\n    getTuioCursor(sessionId){\n        let ret = this._tuioCursors.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n\n    getTuioBlob(sessionId){\n        let ret = this._tuioBlobs.get(sessionId);\n        return ret === undefined ? null : ret;\n    }\n\n    _updateFrame(fseq){\n        let currentTime = TuioTime.getCurrentTime();\n\n        if(fseq > 0){\n            if(fseq > this._currentFrame){\n                this._currentTime = currentTime;\n            }\n            if(fseq >= this._currentFrame || (this._currentFrame - fseq) > 100){\n                this._currentFrame = fseq;\n            } else {\n                return false;\n            }\n        } else if (currentTime.subtract(this._currentTime).getTotalMilliseconds() > 100) {\n            this._currentTime = currentTime;\n        }\n        return true;\n    }\n\n    _on2Dobj(oscMessage){\n        let command = oscMessage.args[0].value;\n        if(command === \"set\") {\n            this._objectSetMessages.push(oscMessage);\n        } else if (command === \"alive\") {\n            this._objectAliveMessage = oscMessage;\n        } else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if(this._updateFrame(fseq)){\n                if(this._objectAliveMessage !== null){\n                    let currentSessionIds = new Set(this._tuioObjects.keys());\n                    let aliveSessionIds = new Set(this._objectAliveMessage.args.slice(1).map(arg => arg.value));\n                    let removedSessionIds = new Set([...currentSessionIds].filter(x => !aliveSessionIds.has(x)));\n                    for(let sessionId of removedSessionIds) {\n                        let tuioObject = this._tuioObjects.get(sessionId);\n                        tuioObject._remove(this._currentTime);\n                        for(let tuioListener of this._tuioListeners) {\n                            tuioListener.removeTuioObject(tuioObject);\n                        }\n                        this._tuioObjects.delete(sessionId);\n                    }\n                    for(let setMessage of this._objectSetMessages){\n                        let [, s, i, x, y, a, X, Y, A, m, r] = setMessage.args.map(arg => arg.value);\n                        if(aliveSessionIds.has(s)){\n                            if(currentSessionIds.has(s)){\n                                let tuioObject = this._tuioObjects.get(s);\n                                if(tuioObject._hasChanged(this._currentTime, x, y, a, X, Y, A, m, r)){\n                                    tuioObject._update(this._currentTime, x, y, a, X, Y, A, m, r)\n                                    for(let tuioListener of this._tuioListeners) {\n                                        tuioListener.updateTuioObject(tuioObject);\n                                    }\n                                }\n                            } else {\n                                let tuioObject = new Tuio11Object(this._currentTime, s, i, x, y, a, X, Y, A, m, r);\n                                this._tuioObjects.set(s, tuioObject);\n                                for(let tuioListener of this._tuioListeners) {\n                                    tuioListener.addTuioObject(tuioObject);\n                                }\n                            }\n                        }\n                    }\n                    for(let tuioListener of this._tuioListeners) {\n                        tuioListener.refresh(this._currentTime);\n                    }\n                }\n                this._objectSetMessages = [];\n                this._objectAliveMessage = null;\n            }\n        }\n    }\n\n    _on2Dcur(oscMessage){\n        let command = oscMessage.args[0].value;\n        if(command === \"set\") {\n            this._cursorSetMessages.push(oscMessage);\n        } else if (command === \"alive\") {\n            this._cursorAliveMessage = oscMessage;\n        } else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if(this._updateFrame(fseq)){\n                if(this._cursorAliveMessage !== null){\n                    let currentSessionIds = new Set(this._tuioCursors.keys());\n                    let aliveSessionIds = new Set(this._cursorAliveMessage.args.slice(1).map(arg => arg.value));\n                    let removedSessionIds = new Set([...currentSessionIds].filter(x => !aliveSessionIds.has(x)));\n                    for(let sessionId of removedSessionIds) {\n                        let tuioCursor = this._tuioCursors.get(sessionId);\n                        tuioCursor._remove(this._currentTime);\n                        for(let tuioListener of this._tuioListeners) {\n                            tuioListener.removeTuioCursor(tuioCursor);\n                        }\n                        this._tuioCursors.delete(sessionId);\n                        this._freeCursorIds.push(tuioCursor.cursorId);\n                    }\n                    this._freeCursorIds.sort();\n                    for(let setMessage of this._cursorSetMessages) {\n                        let [, s, x, y, X, Y, m] = setMessage.args.map(arg => arg.value);\n                        if(aliveSessionIds.has(s)){\n                            if(currentSessionIds.has(s)){\n                                let tuioCursor = this._tuioCursors.get(s);\n                                if(tuioCursor._hasChanged(this._currentTime, x, y, X, Y, m)){\n                                    tuioCursor._update(this._currentTime, x, y, X, Y, m);\n                                    for(let tuioListener of this._tuioListeners) {\n                                        tuioListener.updateTuioCursor(tuioCursor);\n                                    }\n                                }\n                            } else {\n                                let cursorId = this._tuioCursors.size;\n                                if (this._freeCursorIds.length > 0)\n                                {\n                                    cursorId = this._freeCursorIds[0];\n                                    this._freeCursorIds.splice(0, 1);\n                                }\n                                let tuioCursor = new Tuio11Cursor(this._currentTime, s, cursorId, x, y, X, Y, m);\n                                this._tuioCursors.set(s, tuioCursor);\n                                for(let tuioListener of this._tuioListeners) {\n                                    tuioListener.addTuioCursor(tuioCursor);\n                                }\n                            }\n                        }\n                    }\n                    for(let tuioListener of this._tuioListeners) {\n                        tuioListener.refresh(this._currentTime);\n                    }\n                }\n                this._cursorSetMessages = [];\n                this._cursorAliveMessage = null;\n            }\n        }\n    }\n\n    _on2Dblb(oscMessage){\n        let command = oscMessage.args[0].value;\n        if(command === \"set\") {\n            this._blobSetMessages.push(oscMessage);\n        } else if (command === \"alive\") {\n            this._blobAliveMessage = oscMessage;\n        } else if (command === \"fseq\") {\n            let fseq = oscMessage.args[1].value;\n            if(this._updateFrame(fseq)){\n                if(this._blobAliveMessage !== null){\n                    let currentSessionIds = new Set(this._tuioBlobs.keys());\n                    let aliveSessionIds = new Set(this._blobAliveMessage.args.slice(1).map(arg => arg.value));\n                    let removedSessionIds = new Set([...currentSessionIds].filter(x => !aliveSessionIds.has(x)));\n                    for(let sessionId of removedSessionIds) {\n                        let tuioBlob = this._tuioBlobs.get(sessionId);\n                        tuioBlob._remove(this._currentTime);\n                        for(let tuioListener of this._tuioListeners) {\n                            tuioListener.removeTuioBlob(tuioBlob);\n                        }\n                        this._tuioBlobs.delete(sessionId);\n                        this._freeBlobIds.push(tuioBlob.blobId);\n                    }\n                    this._freeBlobIds.sort();\n                    for(let setMessage of this._blobSetMessages) {\n                        let [, s, x, y, a, w, h, f, X, Y, A, m, r] = setMessage.args.map(arg => arg.value);\n                        if(aliveSessionIds.has(s)){\n                            if(currentSessionIds.has(s)){\n                                let tuioBlob = this._tuioBlobs.get(s);\n                                if(tuioBlob._hasChanged(this._currentTime, x, y, a, w, h, f, X, Y, A, m, r)){\n                                    tuioBlob._update(this._currentTime, x, y, a, w, h, f, X, Y, A, m, r);\n                                    for(let tuioListener of this._tuioListeners) {\n                                        tuioListener.updateTuioBlob(tuioBlob);\n                                    }\n                                }\n                            } else {\n                                let blobId =this. _tuioBlobs.size;\n                                if (this._freeBlobIds.length > 0)\n                                {\n                                    blobId = this._freeBlobIds[0];\n                                    this._freeBlobIds.splice(0, 1);\n                                }\n                                let tuioBlob = new Tuio11Blob(this._currentTime, s, blobId, x, y, a, w, h, f, X, Y, A, m, r);\n                                this._tuioBlobs.set(s, tuioBlob);\n                                for(let tuioListener of this._tuioListeners) {\n                                    tuioListener.addTuioBlob(tuioBlob);\n                                }\n                            }\n                        }\n                    }\n                    for(let tuioListener of this._tuioListeners) {\n                        tuioListener.refresh(this._currentTime);\n                    }\n                }\n                this._blobSetMessages = [];\n                this._blobAliveMessage = null;\n            }\n        }\n    }\n}","import {Tuio11Container} from \"./Tuio11Container.js\";\nimport {TuioState} from \"../common/TuioState.js\";\n\nexport class Tuio11Object extends Tuio11Container {\n    constructor(startTime, sessionId, symbolId, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel) {\n        super(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._symbolId = symbolId;\n        this._angle = angle;\n        this._rotationSpeed = rotationSpeed;\n        this._rotationAccel = rotationAccel;\n    }\n\n    get symbolId(){\n        return this._symbolId;\n    }\n\n    get angle(){\n        return this._angle;\n    }\n\n    get rotationSpeed(){\n        return this._rotationSpeed;\n    }\n\n    get rotationAccel(){\n        return this._rotationAccel;\n    }\n\n    _hasChanged(currentTime, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        return !(xPos === this.xPos && yPos === this.yPos && angle === this.angle && xSpeed === this.xSpeed && ySpeed === this.ySpeed && rotationSpeed === this.rotationSpeed && motionAccel === this.motionAccel && rotationAccel === this.rotationAccel);\n    }\n\n    _update(currentTime, xPos, yPos, angle, xSpeed, ySpeed, rotationSpeed, motionAccel, rotationAccel){\n        let lastPoint = this.path[this.path.length - 1];\n        let isCalculateSpeeds = (xPos !== this.xPos && xSpeed === 0) || (yPos !== this.yPos && ySpeed === 0);\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n\n        let isCalculateRotation = (angle !== this.angle && rotationSpeed === 0);\n        if(isCalculateRotation){\n            let dt = currentTime.subtract(lastPoint.startTime).getTotalMilliseconds()/1000.0;\n            let lastAngle = this.angle;\n            let lastRotationSpeed = this.rotationSpeed;\n            let da = (angle - lastAngle) / (2 * Math.PI);\n            if(da > 0.5){\n                da -= 1;\n            } else if(da <= -0.5){\n                da += 1;\n            }\n            this._rotationSpeed = da / dt;\n            this._rotationAccel = (this.rotationSpeed - lastRotationSpeed) / dt;\n        } else {\n            this._rotationSpeed = rotationSpeed;\n            this._rotationAccel = rotationAccel;\n        }\n        this._angle = angle;\n\n        if (this._state !== TuioState.Stopped && this.rotationAccel !== 0) {\n            this._state = TuioState.Rotating;\n        }\n    }\n}","import {Tuio11Container} from \"./Tuio11Container.js\";\n\nexport class Tuio11Cursor extends Tuio11Container {\n    constructor(startTime, sessionId, cursorId, xPos, yPos, xSpeed, ySpeed, motionAccel) {\n        super(startTime, sessionId, xPos, yPos, xSpeed, ySpeed, motionAccel);\n        this._cursorId = cursorId;\n    }\n\n    get cursorId(){\n        return this._cursorId;\n    }\n\n    _hasChanged(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel){\n        return !(xPos === this.xPos && yPos === this.yPos && xSpeed === this.xSpeed && ySpeed === this.ySpeed && motionAccel === this.motionAccel);\n    }\n\n    _update(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel){\n        let isCalculateSpeeds = (xPos !== this.xPos && xSpeed === 0) || (yPos !== this.yPos && ySpeed === 0);\n        this._updateContainer(currentTime, xPos, yPos, xSpeed, ySpeed, motionAccel, isCalculateSpeeds);\n    }\n}","import * as osc from 'osc/dist/osc-browser';\nimport { TuioReceiver } from '../../../../vendor/InteractiveScapeGmbh/tuio_client_js/src';\n\n/**\n * The Interactive Scape WebsocketTuioReceiver does not handle connection errors at all.\n * This is an attempt to implement a more robust version of the WebsocketTuioReceiver with automatic reconnect.\n */\nexport class WebsocketTuioReceiverExt extends TuioReceiver {\n  protected _url: string;\n\n  protected _oscPort: osc.WebSocketPort;\n\n  protected _isConnected: boolean = false;\n\n  protected _reconnectIntervalMs: number;\n\n  protected _reconnectTimeout: number;\n\n  protected _handleOscMessage: (oscMessage: osc.OscMessage) => void;\n  protected _handleOscReady: () => void;\n  protected _handleOscClose: (event: CustomEvent) => void;\n  protected _handleOscError: (oscError: unknown) => void;\n\n  constructor(url: string, reconnectIntervalMs: number) {\n    super();\n    this._url = url;\n    this._reconnectIntervalMs = reconnectIntervalMs;\n    this._oscPort = new osc.WebSocketPort({\n      url: url,\n      metadata: true,\n    });\n\n    this._reconnectTimeout = 0;\n    this._handleOscMessage = this.onOscMessage.bind(this);\n    this._handleOscReady = this.onOscReady.bind(this);\n    this._handleOscClose = this.onOscClose.bind(this);\n    this._handleOscError = this.onOscError.bind(this);\n  }\n\n  scheduleReconnect() {\n    this.disconnect();\n    console.warn(`Attempting reconnection in ${this._reconnectIntervalMs}ms`);\n    clearTimeout(this._reconnectTimeout);\n    this._reconnectTimeout = setTimeout(\n      () => this.connect(),\n      this._reconnectIntervalMs,\n    );\n  }\n\n  protected onOscReady() {\n    this._isConnected = true;\n    this._oscPort.on('message', this._handleOscMessage);\n    console.log(`TUIO connection to ${this._url} established`);\n  }\n\n  protected onOscClose(event: unknown) {\n    console.warn(`TUIO connection to ${this._url} closed`, event);\n    this.scheduleReconnect();\n  }\n\n  protected onOscError(error: unknown) {\n    console.error('TUIO error: ', error);\n    console.warn(`Terminating TUIO connection ${this._url}`);\n    this.scheduleReconnect();\n  }\n\n  connect() {\n    console.log(`Connecting to TUIO server ${this._url}`);\n\n    this._oscPort.once('ready', this._handleOscReady);\n    this._oscPort.once('close', this._handleOscClose);\n    this._oscPort.once('error', this._handleOscError);\n    this._oscPort.once('wsClient', this._handleOscError);\n\n    this._oscPort.open();\n  }\n\n  disconnect() {\n    this._oscPort.off('ready', this._handleOscReady);\n    this._oscPort.off('message', this._handleOscMessage);\n    this._oscPort.off('close', this._handleOscClose);\n    this._oscPort.off('error', this._handleOscError);\n    this._oscPort.off('wsClient', this._handleOscError);\n    this._oscPort.close();\n    this._isConnected = false;\n  }\n}\n","<script setup lang=\"ts\">\nimport type { Writable } from 'ts-essentials';\n\nimport { useArrayFilter } from '@vueuse/core';\n\nimport MarkerUnderlay from './MarkerUnderlay.vue';\nimport { useMarkerStore } from '../../ts/stores/marker';\n\nconst { markerPositions } = useMarkerStore();\n\nconst tuioMarkers = useArrayFilter(\n  markerPositions as Writable<typeof markerPositions>,\n  ({ id }) => id.startsWith('tuio-'),\n);\n</script>\n\n<template>\n  <div ref=\"container\" class=\"abs-top-left\">\n    <MarkerUnderlay\n      v-for=\"marker in tuioMarkers\"\n      :key=\"marker.id\"\n      :marker-id=\"marker.id\"\n      :x=\"marker.x\"\n      :y=\"marker.y\"\n    />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { Ref } from 'vue';\n\nimport { computed } from 'vue';\nimport '@fontsource/jost/latin-500.css'; // Medium weight\nimport '@fontsource/jost/latin-700.css'; // Bold weight\n\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useModelStore } from '../../ts/stores/model';\nimport { Scores } from '../../ts/scores';\n\nconst {\n  config: { general },\n} = useConfigStore();\nconst { primaryLanguage, secondaryLanguage, scoreLabels } = general;\nconst { circularity: circularityLabels, happiness: happinessLabels } =\n  scoreLabels;\n\nconst modelStore = useModelStore();\n\ninterface ScoreInfo {\n  score: Ref<number>;\n  primaryLabel: string;\n  secondaryLabel: string;\n}\n\nconst circularity: ScoreInfo = {\n  score: computed(() => Scores.circularity(modelStore.record)),\n  primaryLabel: circularityLabels[primaryLanguage],\n  secondaryLabel: circularityLabels[secondaryLanguage],\n};\nconst happiness: ScoreInfo = {\n  score: computed(() => Scores.happiness(modelStore.record)),\n  primaryLabel: happinessLabels[primaryLanguage],\n  secondaryLabel: happinessLabels[secondaryLanguage],\n};\n\nconst scores = [circularity, happiness];\n\nconst fractionDigits = 1;\nconst format = (score: number) => `${(score * 100).toFixed(fractionDigits)}%`;\n</script>\n\n<template>\n  <div class=\"scores\">\n    <table>\n      <template v-for=\"{ score, primaryLabel, secondaryLabel } in scores\">\n        <tr>\n          <td>\n            <span class=\"primary\">{{ primaryLabel }}&nbsp;</span\n            ><span class=\"secondary\">{{ secondaryLabel }}</span>\n          </td>\n          <td class=\"primary score-column\">{{ format(score.value) }}</td>\n        </tr>\n      </template>\n    </table>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.scores {\n  display: table;\n  table-layout: fixed;\n  font-size: 38px;\n  position: absolute;\n  padding-bottom: 1.4ex;\n  padding-right: 2.5ex;\n\n  & .table-row {\n    display: table-row;\n  }\n\n  & .table-cell {\n    display: table-cell;\n  }\n\n  & .score-column {\n    width: 9ex;\n    text-align: right;\n  }\n\n  & .primary {\n    font-family: 'Jost', sans-serif;\n    font-weight: 700;\n  }\n\n  & .secondary {\n    font-family: 'Jost', sans-serif;\n    font-weight: 500;\n  }\n}\n</style>\n","import { strict as assert } from 'assert';\nimport { defineStore } from 'pinia';\nimport { inject } from 'vue';\nimport type { ReadonlyConfig } from '../config/config-schema';\nimport { CONFIG_INJECTION_KEY } from '../builtin-config';\n\nexport const useConfigStore = defineStore('config', () => {\n  const config = inject<ReadonlyConfig | null>(CONFIG_INJECTION_KEY, null);\n  assert(config);\n\n  const {\n    general: { assetBaseDir },\n  } = config;\n\n  const assetBaseUrl = new URL(`${assetBaseDir}/`, window.location.href);\n\n  const toAssetUrl = (path: string) => new URL(path, assetBaseUrl);\n\n  const POSITIONAL_ASSET_REGEX =\n    /_x([+-]?[0-9]+)_y([+-]?[0-9]+)\\.[a-zA-Z0-9]+$/;\n  const extractAssetPosition = (\n    url: string | URL,\n  ): { x: number; y: number } => {\n    if (typeof url !== 'string') return extractAssetPosition(url.href);\n\n    const matches = url.match(POSITIONAL_ASSET_REGEX);\n    if (matches === null || matches.length !== 3) return { x: 0, y: 0 };\n\n    const x = Number.parseInt(matches[1], 10);\n    const y = Number.parseInt(matches[2], 10);\n\n    return { x, y };\n  };\n\n  return { config, assetBaseUrl, toAssetUrl, extractAssetPosition };\n});\n","import type { DeepReadonly } from 'ts-essentials';\nimport type { Ref } from 'vue';\n\nimport { strict as assert } from 'assert';\nimport { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport { reactiveComputed } from '@vueuse/core';\n\nimport type { ParameterId, Parameters } from '../circular-economy-model';\n\nimport { CircularEconomyModel } from '../circular-economy-model';\n\nimport { useConfigStore } from './config';\nimport { useParameterTransformsStore } from './parameter-transforms';\nimport { useSlotGroupsStore } from './slot-groups';\n\nexport interface ParameterTransformStep {\n  id: string | null;\n  script: string | null;\n  active: boolean;\n  before: DeepReadonly<Parameters>;\n  after: DeepReadonly<Parameters>;\n  diff: Partial<DeepReadonly<Parameters>>;\n}\n\nexport interface SlotGroupParameterTransformsState {\n  id: string;\n  steps: ParameterTransformStep[];\n}\n\nconst useTransformedParameters = (initialParameters: Ref<Parameters>) => {\n  const slotGroupsStore = useSlotGroupsStore();\n  const parameterTransformStore = useParameterTransformsStore();\n\n  const { slotGroups } = slotGroupsStore;\n  const { parameterTransforms: transforms } = parameterTransformStore;\n\n  const transformedParametersExt = reactiveComputed(\n    (): SlotGroupParameterTransformsState[] => {\n      let before = { ...initialParameters.value };\n      const stepGroups = slotGroups.map(({ id: sId, parameterTransforms }) => {\n        const steps = parameterTransforms.map(({ id: pId, active }) => {\n          const transformObject = transforms.find((t) => t.id === pId);\n          assert(transformObject, `No transform found for id ${pId}`);\n          const { script, transform } = transformObject;\n\n          const after = active ? transform({ ...before }) : { ...before };\n          const diff = Object.fromEntries(\n            (Object.entries(after) as Array<[ParameterId, number]>).filter(\n              ([key, value]) => value !== before[key],\n            ),\n          );\n          const result = { id: pId, script, active, before, after, diff };\n          before = { ...after };\n          return result;\n        });\n        return { id: sId, steps };\n      });\n\n      return stepGroups;\n    },\n  );\n\n  const transformedParameters = reactiveComputed(() => {\n    const lastWithDefault = <T>(a: Array<T>, defaultValue: T) =>\n      a.length > 0 ? a[a.length - 1] : defaultValue;\n\n    const lastStepResult = lastWithDefault(\n      transformedParametersExt.map(({ steps }) =>\n        lastWithDefault(\n          steps.map(({ after }) => after),\n          initialParameters.value,\n        ),\n      ),\n      initialParameters.value,\n    );\n\n    return lastStepResult;\n  });\n\n  return { transformedParametersExt, transformedParameters };\n};\n\nexport const useModelStore = defineStore('model', () => {\n  const {\n    config: { model: modelConfig },\n  } = useConfigStore();\n  const initialRecord = new CircularEconomyModel().evaluate(\n    modelConfig.initialStocks,\n    modelConfig.initialParameters,\n    0,\n  );\n  const record = ref(initialRecord);\n\n  const initialParameters = ref({ ...modelConfig.initialParameters });\n\n  const { transformedParameters, transformedParametersExt } =\n    useTransformedParameters(initialParameters);\n  return {\n    record,\n    initialParameters,\n    transformedParameters,\n    transformedParametersExt,\n  };\n});\n","// This file was auto-generated from the InsightMaker model. Do not edit it manually.\nimport { Model } from './model';\nimport type {\n  ModelElementObject,\n  ModelElementId,\n  ModelElementArray,\n  ModelRecord,\n} from './model';\n\nconst stockIds = [\n  'capacityOfNewlyProducedPhones',\n  'capacityOfRecycledMaterials',\n  'capacityOfRefurbishedPhones',\n  'capacityOfRepairedPhones',\n  'phonesInUse',\n  'supplyOfBrokenPhones',\n  'supplyOfDisposedPhones',\n  'supplyOfHibernatingPhones',\n  'supplyOfNewlyProducedPhones',\n  'supplyOfRecycledMaterials',\n  'supplyOfRefurbishedPhones',\n  'supplyOfRepairedPhones',\n] as const;\n\nconst flowIds = [\n  'abandon',\n  'acquireNewlyProduced',\n  'acquireRefurbished',\n  'acquireRepaired',\n  'acquireUsed',\n  'capacityOfNewlyProducedPhonesAdjustment',\n  'capacityOfRecycledMaterialsAdjustment',\n  'capacityOfRefurbishedPhonesAdjustment',\n  'disposeBroken',\n  'disposeHibernating',\n  'goBroken',\n  'landfill',\n  'produceFromNaturalResources',\n  'produceFromRecycledMaterials',\n  'recycle',\n  'refurbish',\n  'repair',\n  'repairShopCapcityAdjustment',\n] as const;\n\nconst variableIds = [\n  'demandForNaturalResources',\n  'demandForNewlyProducedPhones',\n  'demandForPhones',\n  'demandForRecycledMaterials',\n  'demandForRecycling',\n  'demandForRefurbishedPhones',\n  'demandForRefurbishment',\n  'demandForRepair',\n  'demandForRepairedPhones',\n  'demandForResources',\n  'demandForReusedPhones',\n  'inflowIncentiveSumForPhonesInUse',\n  'phoneGoal',\n  'phonesInUseExcess',\n  'supplyOfBrokenPhonesForDisposal',\n  'supplyOfBrokenPhonesForRepair',\n  'supplyOfDisposedPhonesForLandfilling',\n  'supplyOfDisposedPhonesForRecycling',\n  'supplyOfHibernatingPhonesForDisposal',\n  'supplyOfHibernatingPhonesForRefurbishment',\n  'supplyOfHibernatingPhonesForReuse',\n] as const;\n\nconst parameterIds = [\n  'abandonExcessRate',\n  'abandonRate',\n  'acquireRate',\n  'breakRate',\n  'capacityAdjustmentRate',\n  'disposeIncentive',\n  'disposeRate',\n  'landfillIncentive',\n  'landfillRate',\n  'naturalResourcesIncentive',\n  'newPhoneProductionRate',\n  'newlyProducedPhoneIncentive',\n  'numberOfUsers',\n  'phonesPerUserGoal',\n  'recycleRate',\n  'recyclingIncentive',\n  'refurbishmentIncentive',\n  'refurbishmentRate',\n  'repairIncentive',\n  'repairRate',\n  'reuseIncentive',\n] as const;\n\ntype StockIds = typeof stockIds;\ntype StockId = ModelElementId<StockIds>;\ntype Stocks = ModelElementObject<StockIds>;\ntype StockArray = ModelElementArray<StockIds>;\n\ntype FlowIds = typeof flowIds;\ntype FlowId = ModelElementId<FlowIds>;\ntype Flows = ModelElementObject<FlowIds>;\ntype FlowArray = ModelElementArray<FlowIds>;\n\ntype VariableIds = typeof variableIds;\ntype VariableId = ModelElementId<VariableIds>;\ntype Variables = ModelElementObject<VariableIds>;\ntype VariableArray = ModelElementArray<VariableIds>;\n\ntype ParameterIds = typeof parameterIds;\ntype ParameterId = ModelElementId<ParameterIds>;\ntype Parameters = ModelElementObject<ParameterIds>;\ntype ParameterArray = ModelElementArray<ParameterIds>;\n\ntype Record = ModelRecord<StockIds, FlowIds, VariableIds, ParameterIds>;\n\nclass CircularEconomyModel extends Model<\n  StockIds,\n  FlowIds,\n  VariableIds,\n  ParameterIds\n> {\n  public static readonly initialStocks: Readonly<Stocks> = {\n    capacityOfNewlyProducedPhones: 0,\n    capacityOfRecycledMaterials: 0,\n    capacityOfRefurbishedPhones: 0,\n    capacityOfRepairedPhones: 0,\n    phonesInUse: 0,\n    supplyOfBrokenPhones: 0,\n    supplyOfDisposedPhones: 0,\n    supplyOfHibernatingPhones: 0,\n    supplyOfNewlyProducedPhones: 0,\n    supplyOfRecycledMaterials: 0,\n    supplyOfRefurbishedPhones: 0,\n    supplyOfRepairedPhones: 0,\n  };\n\n  public static readonly defaultParameters: Readonly<Parameters> = {\n    abandonExcessRate: 0.5,\n    abandonRate: 0.1,\n    acquireRate: 1,\n    breakRate: 0.1,\n    capacityAdjustmentRate: 0.1,\n    disposeIncentive: 0.5,\n    disposeRate: 0.5,\n    landfillIncentive: 0.5,\n    landfillRate: 1,\n    naturalResourcesIncentive: 0.5,\n    newPhoneProductionRate: 0.5,\n    newlyProducedPhoneIncentive: 0.82,\n    numberOfUsers: 1000000,\n    phonesPerUserGoal: 1,\n    recycleRate: 1,\n    recyclingIncentive: 0.89,\n    refurbishmentIncentive: 0.5,\n    refurbishmentRate: 1,\n    repairIncentive: 0.5,\n    repairRate: 1,\n    reuseIncentive: 0.86,\n  };\n\n  constructor() {\n    super(stockIds, flowIds, variableIds, parameterIds);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public evaluate(stocks: Stocks, parameters: Parameters, t: number): Record {\n    const {\n      capacityOfNewlyProducedPhones,\n      capacityOfRecycledMaterials,\n      capacityOfRefurbishedPhones,\n      capacityOfRepairedPhones,\n      phonesInUse,\n      supplyOfBrokenPhones,\n      supplyOfDisposedPhones,\n      supplyOfHibernatingPhones,\n      supplyOfNewlyProducedPhones,\n      supplyOfRecycledMaterials,\n      supplyOfRefurbishedPhones,\n      supplyOfRepairedPhones,\n    } = stocks;\n    const {\n      abandonExcessRate,\n      abandonRate,\n      acquireRate,\n      breakRate,\n      capacityAdjustmentRate,\n      disposeIncentive,\n      disposeRate,\n      landfillIncentive,\n      landfillRate,\n      naturalResourcesIncentive,\n      newPhoneProductionRate,\n      newlyProducedPhoneIncentive,\n      numberOfUsers,\n      phonesPerUserGoal,\n      recycleRate,\n      recyclingIncentive,\n      refurbishmentIncentive,\n      refurbishmentRate,\n      repairIncentive,\n      repairRate,\n      reuseIncentive,\n    } = parameters;\n\n    const phoneGoal = numberOfUsers * phonesPerUserGoal;\n    const phonesInUseExcess = Math.max(phonesInUse - phoneGoal, 0);\n    const abandon =\n      abandonRate * phonesInUse + abandonExcessRate * phonesInUseExcess;\n    const inflowIncentiveSumForPhonesInUse =\n      reuseIncentive +\n      repairIncentive +\n      refurbishmentIncentive +\n      newlyProducedPhoneIncentive;\n    const goBroken = breakRate * phonesInUse;\n    const demandForPhones = Math.max(\n      0,\n      phoneGoal - phonesInUse + goBroken + abandon,\n    );\n    const demandForNewlyProducedPhones =\n      (newlyProducedPhoneIncentive / inflowIncentiveSumForPhonesInUse) *\n      demandForPhones;\n    const acquireNewlyProduced =\n      acquireRate *\n      Math.min(supplyOfNewlyProducedPhones, demandForNewlyProducedPhones);\n    const demandForRefurbishedPhones =\n      (refurbishmentIncentive / inflowIncentiveSumForPhonesInUse) *\n      demandForPhones;\n    const acquireRefurbished =\n      acquireRate *\n      Math.min(demandForRefurbishedPhones, supplyOfRefurbishedPhones);\n    const demandForRepairedPhones =\n      (repairIncentive / inflowIncentiveSumForPhonesInUse) * demandForPhones;\n    const acquireRepaired =\n      acquireRate * Math.min(demandForRepairedPhones, supplyOfRepairedPhones);\n    const supplyOfHibernatingPhonesForReuse =\n      (reuseIncentive /\n        (reuseIncentive + refurbishmentIncentive + disposeIncentive)) *\n      supplyOfHibernatingPhones;\n    const demandForReusedPhones =\n      (reuseIncentive / inflowIncentiveSumForPhonesInUse) * demandForPhones;\n    const acquireUsed =\n      acquireRate *\n      Math.min(supplyOfHibernatingPhonesForReuse, demandForReusedPhones);\n    const capacityOfNewlyProducedPhonesAdjustment =\n      capacityAdjustmentRate *\n      (demandForNewlyProducedPhones - capacityOfNewlyProducedPhones);\n    const demandForResources = Math.max(\n      capacityOfNewlyProducedPhones -\n        supplyOfNewlyProducedPhones +\n        acquireNewlyProduced,\n      0,\n    );\n    const demandForRecycledMaterials =\n      (recyclingIncentive / (naturalResourcesIncentive + recyclingIncentive)) *\n      demandForResources;\n    const capacityOfRecycledMaterialsAdjustment =\n      capacityAdjustmentRate *\n      (demandForRecycledMaterials - capacityOfRecycledMaterials);\n    const capacityOfRefurbishedPhonesAdjustment =\n      capacityAdjustmentRate *\n      (demandForRefurbishedPhones - capacityOfRefurbishedPhones);\n    const supplyOfBrokenPhonesForDisposal =\n      (disposeIncentive / (repairIncentive + disposeIncentive)) *\n      supplyOfBrokenPhones;\n    const disposeBroken = disposeRate * supplyOfBrokenPhonesForDisposal;\n    const supplyOfHibernatingPhonesForDisposal =\n      (disposeIncentive /\n        (reuseIncentive + refurbishmentIncentive + disposeIncentive)) *\n      supplyOfHibernatingPhones;\n    const disposeHibernating =\n      disposeRate * supplyOfHibernatingPhonesForDisposal;\n    const supplyOfDisposedPhonesForLandfilling =\n      (landfillIncentive / (recyclingIncentive + landfillIncentive)) *\n      supplyOfDisposedPhones;\n    const landfill = landfillRate * supplyOfDisposedPhonesForLandfilling;\n    const demandForNaturalResources =\n      (naturalResourcesIncentive /\n        (naturalResourcesIncentive + recyclingIncentive)) *\n      demandForResources;\n    const produceFromNaturalResources =\n      newPhoneProductionRate * demandForNaturalResources;\n    const produceFromRecycledMaterials =\n      newPhoneProductionRate *\n      Math.min(demandForRecycledMaterials, supplyOfRecycledMaterials);\n    const supplyOfDisposedPhonesForRecycling =\n      (recyclingIncentive / (recyclingIncentive + landfillIncentive)) *\n      supplyOfDisposedPhones;\n    const demandForRecycling = Math.max(\n      capacityOfRecycledMaterials -\n        supplyOfRecycledMaterials +\n        produceFromRecycledMaterials,\n      0,\n    );\n    const recycle =\n      recycleRate *\n      Math.min(supplyOfDisposedPhonesForRecycling, demandForRecycling);\n    const supplyOfHibernatingPhonesForRefurbishment =\n      (refurbishmentIncentive /\n        (reuseIncentive + refurbishmentIncentive + disposeIncentive)) *\n      supplyOfHibernatingPhones;\n    const demandForRefurbishment = Math.max(\n      capacityOfRefurbishedPhones -\n        supplyOfRefurbishedPhones +\n        acquireRefurbished,\n      0,\n    );\n    const refurbish =\n      refurbishmentRate *\n      Math.min(\n        supplyOfHibernatingPhonesForRefurbishment,\n        demandForRefurbishment,\n      );\n    const demandForRepair = Math.max(\n      capacityOfRepairedPhones - supplyOfRepairedPhones + acquireRepaired,\n      0,\n    );\n    const repair = repairRate * Math.min(supplyOfBrokenPhones, demandForRepair);\n    const repairShopCapcityAdjustment =\n      capacityAdjustmentRate *\n      (demandForRepairedPhones - capacityOfRepairedPhones);\n    const supplyOfBrokenPhonesForRepair =\n      (repairIncentive / (repairIncentive + disposeIncentive)) *\n      supplyOfBrokenPhones;\n\n    const variables = {\n      demandForNaturalResources,\n      demandForNewlyProducedPhones,\n      demandForPhones,\n      demandForRecycledMaterials,\n      demandForRecycling,\n      demandForRefurbishedPhones,\n      demandForRefurbishment,\n      demandForRepair,\n      demandForRepairedPhones,\n      demandForResources,\n      demandForReusedPhones,\n      inflowIncentiveSumForPhonesInUse,\n      phoneGoal,\n      phonesInUseExcess,\n      supplyOfBrokenPhonesForDisposal,\n      supplyOfBrokenPhonesForRepair,\n      supplyOfDisposedPhonesForLandfilling,\n      supplyOfDisposedPhonesForRecycling,\n      supplyOfHibernatingPhonesForDisposal,\n      supplyOfHibernatingPhonesForRefurbishment,\n      supplyOfHibernatingPhonesForReuse,\n    };\n    const flows = {\n      abandon,\n      acquireNewlyProduced,\n      acquireRefurbished,\n      acquireRepaired,\n      acquireUsed,\n      capacityOfNewlyProducedPhonesAdjustment,\n      capacityOfRecycledMaterialsAdjustment,\n      capacityOfRefurbishedPhonesAdjustment,\n      disposeBroken,\n      disposeHibernating,\n      goBroken,\n      landfill,\n      produceFromNaturalResources,\n      produceFromRecycledMaterials,\n      recycle,\n      refurbish,\n      repair,\n      repairShopCapcityAdjustment,\n    };\n\n    return { t, stocks, parameters, variables, flows };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public accumulateFlowsPerStock(flows: Flows): Stocks {\n    const {\n      abandon,\n      acquireNewlyProduced,\n      acquireRefurbished,\n      acquireRepaired,\n      acquireUsed,\n      capacityOfNewlyProducedPhonesAdjustment,\n      capacityOfRecycledMaterialsAdjustment,\n      capacityOfRefurbishedPhonesAdjustment,\n      disposeBroken,\n      disposeHibernating,\n      goBroken,\n      landfill,\n      produceFromNaturalResources,\n      produceFromRecycledMaterials,\n      recycle,\n      refurbish,\n      repair,\n      repairShopCapcityAdjustment,\n    } = flows;\n\n    const flowPerStock: Stocks = {\n      capacityOfNewlyProducedPhones: capacityOfNewlyProducedPhonesAdjustment,\n      capacityOfRecycledMaterials: capacityOfRecycledMaterialsAdjustment,\n      capacityOfRefurbishedPhones: capacityOfRefurbishedPhonesAdjustment,\n      capacityOfRepairedPhones: repairShopCapcityAdjustment,\n      phonesInUse:\n        acquireNewlyProduced +\n        acquireRefurbished +\n        acquireRepaired +\n        acquireUsed -\n        (abandon + goBroken),\n      supplyOfBrokenPhones: goBroken - (disposeBroken + repair),\n      supplyOfDisposedPhones:\n        disposeBroken + disposeHibernating - (landfill + recycle),\n      supplyOfHibernatingPhones:\n        abandon - (acquireUsed + disposeHibernating + refurbish),\n      supplyOfNewlyProducedPhones:\n        produceFromNaturalResources +\n        produceFromRecycledMaterials -\n        acquireNewlyProduced,\n      supplyOfRecycledMaterials: recycle - produceFromRecycledMaterials,\n      supplyOfRefurbishedPhones: refurbish - acquireRefurbished,\n      supplyOfRepairedPhones: repair - acquireRepaired,\n    };\n\n    return flowPerStock;\n  }\n}\n\nexport type {\n  StockIds,\n  StockId,\n  Stocks,\n  StockArray,\n  FlowIds,\n  FlowId,\n  Flows,\n  FlowArray,\n  VariableIds,\n  VariableId,\n  Variables,\n  VariableArray,\n  ParameterIds,\n  ParameterId,\n  Parameters,\n  ParameterArray,\n  Record,\n};\n\nexport { CircularEconomyModel, stockIds, flowIds, variableIds, parameterIds };\n","import type {\n  FlowEvaluator,\n  IntegrationEngineInputArray,\n  IntegrationEngineOutputArray,\n} from './box-model/box-model';\nimport type {\n  ConvertTupleToUnion,\n  ConvertTupleToObject,\n  ConvertTupleItemType,\n} from './util/type-helpers';\n\nimport { step } from './box-model/box-model';\n\ntype ModelElementIds = readonly string[];\ntype ModelElementId<I extends ModelElementIds> = ConvertTupleToUnion<I>;\ntype ModelElementObject<I extends ModelElementIds> = ConvertTupleToObject<\n  I,\n  number\n>;\ntype ModelElementArray<I extends ModelElementIds> = ConvertTupleItemType<\n  I,\n  number\n>;\n\ntype ModelRecord<\n  S extends ModelElementIds,\n  F extends ModelElementIds,\n  V extends ModelElementIds,\n  P extends ModelElementIds,\n> = {\n  t: number;\n  stocks: ModelElementObject<S>;\n  flows: ModelElementObject<F>;\n  variables: ModelElementObject<V>;\n  parameters: ModelElementObject<P>;\n};\n\nabstract class Model<\n  S extends ModelElementIds,\n  F extends ModelElementIds,\n  V extends ModelElementIds,\n  P extends ModelElementIds,\n> {\n  public static elementIds = [\n    'stocks',\n    'parameters',\n    'variables',\n    'flows',\n  ] as const;\n\n  public readonly stockIds: S;\n\n  public readonly flowIds: F;\n\n  public readonly variableIds: V;\n\n  public readonly parameterIds: P;\n\n  protected constructor(\n    stocksIds: S,\n    flowIds: F,\n    variableIds: V,\n    parameterIds: P,\n  ) {\n    this.stockIds = stocksIds;\n    this.flowIds = flowIds;\n    this.variableIds = variableIds;\n    this.parameterIds = parameterIds;\n  }\n\n  public static elementObjectToArray<I extends ModelElementIds>(\n    ids: I,\n    object: Readonly<ModelElementObject<I>>,\n  ): ModelElementArray<I> {\n    return ids.map(\n      (id: ModelElementId<I>) => object[id],\n    ) as ModelElementArray<I>;\n  }\n\n  public static arrayToElementObject<I extends ModelElementIds>(\n    ids: I,\n    array: readonly [...ModelElementArray<I>],\n  ): ModelElementObject<I> {\n    const result: Partial<ModelElementObject<I>> = {};\n    for (let i = 0; i < ids.length; i += 1) {\n      const id: ModelElementId<I> = ids[i];\n      result[id] = array[i];\n    }\n    return result as ModelElementObject<I>;\n  }\n\n  public stocksToStockArray(\n    stocks: Readonly<ModelElementObject<S>>,\n  ): ModelElementArray<S> {\n    return Model.elementObjectToArray(this.stockIds, stocks);\n  }\n\n  public stockArrayToStocks(\n    stockArray: readonly [...ModelElementArray<S>],\n  ): ModelElementObject<S> {\n    return Model.arrayToElementObject(this.stockIds, stockArray);\n  }\n\n  public flowsToFlowArray(\n    flows: Readonly<ModelElementObject<F>>,\n  ): ModelElementArray<F> {\n    return Model.elementObjectToArray(this.flowIds, flows);\n  }\n\n  public flowArrayToFlows(\n    flowArray: readonly [...ModelElementArray<F>],\n  ): ModelElementObject<F> {\n    return Model.arrayToElementObject(this.flowIds, flowArray);\n  }\n\n  public variablesToVariableArray(\n    variables: Readonly<ModelElementObject<V>>,\n  ): ModelElementArray<V> {\n    return Model.elementObjectToArray(this.variableIds, variables);\n  }\n\n  public variableArrayToVariables(\n    variableArray: readonly [...ModelElementArray<V>],\n  ): ModelElementObject<V> {\n    return Model.arrayToElementObject(this.variableIds, variableArray);\n  }\n\n  public parametersToParameterArray(\n    parameters: Readonly<ModelElementObject<P>>,\n  ): ModelElementArray<P> {\n    return Model.elementObjectToArray(this.parameterIds, parameters);\n  }\n\n  public parameterArrayToParameters(\n    parameterArray: readonly [...ModelElementArray<P>],\n  ): ModelElementObject<P> {\n    return Model.arrayToElementObject(this.parameterIds, parameterArray);\n  }\n\n  public abstract evaluate(\n    stocks: ModelElementObject<S>,\n    parameters: ModelElementObject<P>,\n    t: number,\n  ): ModelRecord<S, F, V, P>;\n\n  public abstract accumulateFlowsPerStock(\n    flows: ModelElementObject<F>,\n  ): ModelElementObject<S>;\n\n  public evaluateFlowPerStock(\n    stocks: ModelElementObject<S>,\n    parameters: ModelElementObject<P>,\n    t: number,\n  ): ModelElementObject<S> {\n    const { flows } = this.evaluate(stocks, parameters, t);\n    return this.accumulateFlowsPerStock(flows);\n  }\n\n  public createFlowEvaluator(\n    parameters: Readonly<ModelElementObject<P>>,\n  ): FlowEvaluator<ModelElementArray<S>> {\n    const result = (\n      stocksArray: IntegrationEngineInputArray<ModelElementArray<S>>,\n      t: number,\n    ): IntegrationEngineOutputArray<ModelElementArray<S>> => {\n      const stocks = this.stockArrayToStocks(stocksArray);\n      const flowsPerStock = this.evaluateFlowPerStock(stocks, parameters, t);\n      const flowPerStockArray = this.stocksToStockArray(flowsPerStock);\n      return flowPerStockArray;\n    };\n    return result;\n  }\n\n  public step(\n    stocks: Readonly<ModelElementObject<S>>,\n    t: number,\n    h: number,\n    flowEvaluator: FlowEvaluator<ModelElementArray<S>>,\n  ): ModelElementObject<S> {\n    const stocksArray: ModelElementArray<S> = this.stocksToStockArray(stocks);\n    const newStocksArray = step<ModelElementArray<S>>(\n      stocksArray,\n      t,\n      h,\n      flowEvaluator,\n    );\n    return this.stockArrayToStocks(newStocksArray);\n  }\n}\n\nexport type {\n  ModelElementIds,\n  ModelElementId,\n  ModelElementObject,\n  ModelElementArray,\n  ModelRecord,\n};\n\nexport { Model };\n","import type { FlowEvaluator, ConvergenceCriterion ,\n  IntegrationEngineInputArray,\n  IntegrationEngineOutputArray,\n  IVPIntegrator,\n} from './types';\nimport { step as stepImpl, converge as convergeImpl } from './engine';\n\nfunction step5<T extends readonly number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  integrator?: IVPIntegrator<T>,\n): IntegrationEngineOutputArray<T> {\n  return stepImpl(stocksAtT, t, h, computeFlows, integrator);\n}\n\nfunction step6<T extends readonly number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  flowsAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  integrator?: IVPIntegrator<T>,\n): IntegrationEngineOutputArray<T> {\n  const mutableFlowsAtT: IntegrationEngineOutputArray<T> = [...flowsAtT];\n  const getFlows: FlowEvaluator<T> = (y, x) =>\n    x === t ? mutableFlowsAtT : computeFlows(y, x);\n  return stepImpl<T>(stocksAtT, t, h, getFlows, integrator);\n}\n\nfunction step<T extends readonly number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  integrator?: IVPIntegrator<T>,\n): IntegrationEngineOutputArray<T>;\nfunction step<T extends number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  flowsAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  integrator?: IVPIntegrator<T>,\n): IntegrationEngineOutputArray<T>;\nfunction step<T extends readonly number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  tOrFlowsAtT: number | IntegrationEngineInputArray<T>,\n  tOrH: number,\n  hOrComputeFlows: number | FlowEvaluator<T>,\n  computeFlowsOrIntegrator?: FlowEvaluator<T> | IVPIntegrator<T>,\n  integrator?: IVPIntegrator<T>,\n): IntegrationEngineOutputArray<T> {\n  if (typeof tOrFlowsAtT === 'number')\n    return step5(\n      stocksAtT,\n      tOrFlowsAtT,\n      tOrH,\n      hOrComputeFlows as FlowEvaluator<T>,\n      computeFlowsOrIntegrator as IVPIntegrator<T>,\n    );\n\n  return step6(\n    stocksAtT,\n    tOrFlowsAtT,\n    tOrH,\n    hOrComputeFlows as number,\n    computeFlowsOrIntegrator as FlowEvaluator<T>,\n    integrator as IVPIntegrator<T>,\n  );\n}\n\nfunction converge6<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  criterion: ConvergenceCriterion<T, C>,\n  integrator?: IVPIntegrator<T>,\n): C {\n  return convergeImpl(stocksAtT, t, h, computeFlows, criterion, integrator);\n}\n\nfunction converge7<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  flowsAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  criterion: ConvergenceCriterion<T, C>,\n  integrator?: IVPIntegrator<T>,\n): C {\n  const mutableFlowsAtT: IntegrationEngineOutputArray<T> = [...flowsAtT];\n  const getFlows: FlowEvaluator<T> = (y, x) =>\n    x === t ? mutableFlowsAtT : computeFlows(y, x);\n  return convergeImpl(stocksAtT, t, h, getFlows, criterion, integrator);\n}\n\nfunction converge<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  criterion: ConvergenceCriterion<T, C>,\n  integrator?: IVPIntegrator<T>,\n): C;\nfunction converge<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  flowsAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  computeFlows: FlowEvaluator<T>,\n  criterion: ConvergenceCriterion<T, C>,\n  integrator?: IVPIntegrator<T>,\n): C;\nfunction converge<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  tOrFlowsAtT: number | IntegrationEngineInputArray<T>,\n  tOrH: number,\n  hOrComputeFlows: number | FlowEvaluator<T>,\n  computeFlowsOrCriterion: FlowEvaluator<T> | ConvergenceCriterion<T, C>,\n  criterionOrIntegrator?: ConvergenceCriterion<T, C> | IVPIntegrator<T>,\n  integrator?: IVPIntegrator<T>,\n): C {\n  if (typeof tOrFlowsAtT === 'number')\n    return converge6<T, C>(\n      stocksAtT,\n      tOrFlowsAtT,\n      tOrH,\n      hOrComputeFlows as FlowEvaluator<T>,\n      computeFlowsOrCriterion as ConvergenceCriterion<T, C>,\n      criterionOrIntegrator as IVPIntegrator<T>,\n    );\n\n  return converge7<T, C>(\n    stocksAtT,\n    tOrFlowsAtT,\n    tOrH,\n    hOrComputeFlows as number,\n    computeFlowsOrCriterion as FlowEvaluator<T>,\n    criterionOrIntegrator as ConvergenceCriterion<T, C>,\n    integrator as IVPIntegrator<T>,\n  );\n}\n\nexport type {\n  FlowEvaluator,\n  ConvergenceCriterion,\n  IntegrationEngineInputArray,\n  IntegrationEngineOutputArray,\n};\nexport { step, converge };\n","import type {\n  IntegrationEngineInputArray,\n  IntegrationEngineOutputArray,\n  FlowEvaluator,\n  IVPIntegrator,\n  ConvergenceCriterion,\n} from './types';\nimport { rk4 } from './ode';\n\nfunction step<T extends readonly number[]>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  getFlows: FlowEvaluator<T>,\n  integrator: IVPIntegrator<T> = rk4<T>,\n): IntegrationEngineOutputArray<T> {\n  return integrator(stocksAtT, t, h, getFlows);\n}\n\nfunction converge<T extends readonly number[], C>(\n  stocksAtT: IntegrationEngineInputArray<T>,\n  t: number,\n  h: number,\n  getFlows: FlowEvaluator<T>,\n  criterion: ConvergenceCriterion<T, C>,\n  integrator: IVPIntegrator<T> = rk4<T>,\n): C {\n  let iterations = 0;\n  let { userdata, done } = criterion(stocksAtT, t, undefined, iterations);\n\n  if (!done) {\n    let newT = t;\n    let newStocks: IntegrationEngineOutputArray<T> | undefined;\n\n    do {\n      newStocks = integrator(newStocks ?? stocksAtT, newT, h, getFlows);\n      newT += h;\n      iterations += 1;\n      ({ userdata, done } = criterion(newStocks, newT, userdata, iterations));\n    } while (!done);\n  }\n\n  return userdata;\n}\n\nexport type { FlowEvaluator, ConvergenceCriterion };\nexport { step, converge };\n","import type {\n  IntegrationEngineInputArray,\n  IntegrationEngineOutputArray,\n} from './types';\n\nexport function euler<T extends readonly number[]>(\n  y: IntegrationEngineInputArray<T>,\n  x: number,\n  h: number,\n  derivatives: (\n    y: IntegrationEngineInputArray<T>,\n    x: number,\n  ) => IntegrationEngineOutputArray<T>,\n): IntegrationEngineOutputArray<T> {\n  const n: number = y.length;\n  const dydx = derivatives(y, x);\n  const yTemp = dydx; // Reuse array for result to avoid allocation and GC\n  for (let i = 0; i < n; i += 1) yTemp[i] = y[i] + h * dydx[i];\n  return yTemp;\n}\n\nexport function rk4<T extends readonly number[]>(\n  y: IntegrationEngineInputArray<T>,\n  x: number,\n  h: number,\n  derivatives: (\n    y: IntegrationEngineInputArray<T>,\n    x: number,\n  ) => IntegrationEngineOutputArray<T>,\n): IntegrationEngineOutputArray<T> {\n  const n: number = y.length;\n\n  const dydx = derivatives(y, x);\n  const yTemp = new Array(n) as IntegrationEngineOutputArray<T>;\n\n  const h2 = h / 2.0;\n  const h6 = h / 6.0;\n  const xhh = x + h2;\n\n  for (let i = 0; i < n; i += 1) yTemp[i] = y[i] + h2 * dydx[i];\n  let dydxTemp = derivatives(yTemp, xhh);\n\n  for (let i = 0; i < n; i += 1) yTemp[i] = y[i] + h2 * dydxTemp[i];\n  const dydxM = derivatives(yTemp, xhh);\n\n  for (let i = 0; i < n; i += 1) {\n    yTemp[i] = y[i] + h * dydxM[i];\n    dydxM[i] += dydxTemp[i];\n  }\n  dydxTemp = derivatives(yTemp, x + h);\n\n  for (let i = 0; i < n; i += 1)\n    yTemp[i] = y[i] + h6 * (dydx[i] + dydxTemp[i] + 2.0 * dydxM[i]);\n  return yTemp;\n}\n","import type { DeepReadonly } from 'ts-essentials';\nimport type { Ref } from 'vue';\n\nimport { defineStore } from 'pinia';\nimport { reactive, ref, computed } from 'vue';\n\nimport type { ParameterTransformConfig } from '../config/config-schema';\n\nimport { parameterIds } from '../circular-economy-model';\nimport type { ModelElementIds, ModelElementObject } from '../model';\nimport { isVarName } from '../util/is-var-name';\nimport { useConfigStore } from './config';\n\nexport type ParameterTransformFunction<P extends ModelElementIds> = <\n  T extends ModelElementObject<P>,\n>(\n  parameters: T,\n) => T;\n\nexport type ReactiveParameterTransform = {\n  id: string;\n  script: Ref<string>;\n  transform: Ref<ParameterTransformFunction<typeof parameterIds>>;\n};\n\nfunction createParameterTransformFunction<P extends ModelElementIds>(\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  parameterIds: P,\n  script: string,\n): ParameterTransformFunction<P> {\n  parameterIds.forEach((parameterId) => {\n    if (!isVarName(parameterId)) {\n      throw new Error(\n        `Parameter name '${parameterId}' can not be used as a variable`,\n      );\n    }\n  });\n\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  const wrappedScript = new Function(script).toString();\n\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  const func = new Function(\n    `{ ${parameterIds.join(', ')} }`,\n    `(${wrappedScript})(); return { ${parameterIds.join(', ')} }`,\n  ) as ParameterTransformFunction<P>;\n\n  return <T extends ModelElementObject<P>>(parameters: T) => {\n    const transformedParameters = func(parameters);\n    Object.assign(parameters, transformedParameters);\n    return parameters;\n  };\n}\n\nfunction createReactiveParameterTransform({\n  id,\n  script,\n}: Readonly<{\n  id: string;\n  script: string;\n}>): ReactiveParameterTransform {\n  const reactiveScript = ref(script);\n  const reactiveTransform = computed(() =>\n    createParameterTransformFunction(parameterIds, reactiveScript.value),\n  );\n  return { id, script: reactiveScript, transform: reactiveTransform };\n}\n\nexport const useParameterTransformsStore = defineStore(\n  'parameter-transforms',\n  () => {\n    const { config } = useConfigStore();\n\n    const parameterTransforms = reactive(\n      config.parameterTransforms.map((pt) =>\n        reactive(createReactiveParameterTransform(pt)),\n      ),\n    );\n\n    const addOrModify = (id: string, script: string) => {\n      const index = parameterTransforms.findIndex((t) => t.id === id);\n      if (index === -1) {\n        const newTransform = createReactiveParameterTransform({ id, script });\n        parameterTransforms.push(reactive(newTransform));\n      } else {\n        parameterTransforms[index].script = script;\n      }\n    };\n\n    const remove = (id: string) => {\n      const index = parameterTransforms.findIndex((t) => t.id === id);\n      if (index !== -1) parameterTransforms.splice(index, 1);\n    };\n\n    const move = (from: number, to: number) => {\n      const [removed] = parameterTransforms.splice(from, 1);\n      parameterTransforms.splice(to, 0, removed);\n    };\n\n    const replaceAll = (ptcs: DeepReadonly<ParameterTransformConfig[]>) => {\n      const newParameterTransforms = ptcs.map((ptc) =>\n        reactive(createReactiveParameterTransform(ptc)),\n      );\n      parameterTransforms.splice(\n        0,\n        parameterTransforms.length,\n        ...newParameterTransforms,\n      );\n    };\n\n    return {\n      parameterTransforms,\n      addOrModify,\n      move,\n      remove,\n      replaceAll,\n    };\n  },\n);\n","export function isVarName(str: unknown): boolean {\n  if (typeof str !== 'string') {\n    return false;\n  }\n\n  if (str.trim() !== str) {\n    return false;\n  }\n\n  if (str.match(/^[a-zA-Z_][a-zA-Z0-9_]*$/) === null) {\n    return false;\n  }\n\n  return true;\n}\n","import type { DeepReadonly } from 'ts-essentials';\n\nimport { defineStore } from 'pinia';\nimport { reactive } from 'vue';\nimport { v4 as uuid4 } from 'uuid';\n\nimport type {\n  ActionCardSlotGroupConfig,\n  BasicSlotGroupConfig,\n  EventCardSlotGroupConfig,\n  SlotGroupConfig,\n} from '../config/config-schema';\n\nimport { useConfigStore } from './config';\nimport { useParameterTransformsStore } from './parameter-transforms';\nimport { exhaustiveGuard } from '../util/type-helpers';\n\nexport interface ParameterTransformState {\n  readonly id: string;\n  readonly uuid: string;\n  active: boolean;\n  setActive(active: boolean): void;\n}\n\nexport interface SlotGroupParameterTransformsState {\n  readonly id: string;\n  parameterTransforms: ParameterTransformState[];\n}\n\nexport function useParameterTransformId(id: string): ParameterTransformState {\n  const uuid = uuid4();\n  const active = false;\n  const result = {\n    id,\n    uuid,\n    active,\n    setActive: function (active: boolean) {\n      if (this.active !== active) this.active = active;\n    },\n  };\n  return reactive(result);\n}\n\nexport function useInternalSlotGroup(): SlotGroupParameterTransformsState {\n  const id = 'internal';\n  const parameterTransformStore = useParameterTransformsStore();\n  const parameterTransforms: ParameterTransformState[] = reactive(\n    parameterTransformStore.parameterTransforms.map(\n      ({ id: parameterTransformId }) =>\n        useParameterTransformId(parameterTransformId),\n    ),\n  );\n  return { id, parameterTransforms };\n}\n\nfunction useBasicSlotGroup(\n  config: DeepReadonly<BasicSlotGroupConfig>,\n): SlotGroupParameterTransformsState {\n  const { id } = config;\n  const parameterTransforms = reactive(\n    config.parameterTransformIds.map(useParameterTransformId),\n  );\n  return { id, parameterTransforms };\n}\n\nfunction useActionCardSlotGroup(\n  config: DeepReadonly<ActionCardSlotGroupConfig>,\n): SlotGroupParameterTransformsState {\n  const { id } = config;\n  const parameterTransforms = reactive(\n    config.cards.map(({ parameterTransformId }) =>\n      useParameterTransformId(parameterTransformId),\n    ),\n  );\n  return { id, parameterTransforms };\n}\n\nfunction useEventCardSlotGroup(\n  config: DeepReadonly<EventCardSlotGroupConfig>,\n): SlotGroupParameterTransformsState {\n  const { id } = config;\n  const parameterTransforms = reactive(\n    config.cards.map(({ parameterTransformId }) =>\n      useParameterTransformId(parameterTransformId),\n    ),\n  );\n  return { id, parameterTransforms };\n}\n\nexport function useSlotGroup(\n  config: DeepReadonly<SlotGroupConfig>,\n): SlotGroupParameterTransformsState {\n  const { type } = config;\n  switch (type) {\n    case 'basic':\n      return useBasicSlotGroup(config);\n    case 'action-card':\n      return useActionCardSlotGroup(config);\n    case 'event-card':\n      return useEventCardSlotGroup(config);\n    default:\n      return exhaustiveGuard(type);\n  }\n}\n\nexport const useSlotGroupsStore = defineStore('slot-groups', () => {\n  const { config } = useConfigStore();\n\n  const internalSlotGroup = useInternalSlotGroup();\n  const nonInternalSlotGroups = config.interaction.slotGroups.map(useSlotGroup);\n\n  const slotGroups = [internalSlotGroup, ...nonInternalSlotGroups];\n\n  const rebuildInternalSlotGroup = () => {\n    internalSlotGroup.parameterTransforms.splice(\n      0,\n      internalSlotGroup.parameterTransforms.length,\n      ...useInternalSlotGroup().parameterTransforms,\n    );\n  };\n\n  return {\n    slotGroups,\n    internalSlotGroup,\n    nonInternalSlotGroups,\n    rebuildInternalSlotGroup,\n  };\n});\n","type ConvertTupleToUnion<T extends readonly unknown[]> = [...T][number];\n\ntype ConvertTupleToObject<\n  T extends readonly (string | number | symbol)[],\n  V,\n> = {\n  [P in ConvertTupleToUnion<T>]: V;\n};\n\ntype ConvertTupleItemType<T extends readonly unknown[], V> = [\n  ...{\n    -readonly [P in keyof T]: V;\n  },\n];\n\ntype SafeResult<SuccessType, ErrorType> =\n  | { ok: true; data: SuccessType }\n  | { ok: false; error: ErrorType };\n\ntype Callable<T> = T extends (...args: infer A) => infer R\n  ? (...args: A) => R\n  : never;\n\nfunction makeSafe<T extends Array<unknown>, U>(\n  f: (...args: T) => U,\n): (...args: T) => SafeResult<U, unknown> {\n  return (...args): SafeResult<U, unknown> => {\n    try {\n      return { ok: true, data: f(...args) };\n    } catch (error) {\n      return { ok: false, error };\n    }\n  };\n}\n\nfunction makeSafeAsync<T extends Array<unknown>, U>(\n  f: (...args: T) => Promise<U>,\n): (...args: T) => Promise<SafeResult<U, unknown>> {\n  return async (...args: T): Promise<SafeResult<U, unknown>> => {\n    try {\n      return { ok: true, data: await f(...args) };\n    } catch (error) {\n      return { ok: false, error };\n    }\n  };\n}\n\nfunction exhaustiveGuard<T>(value: never): T {\n  throw new Error(\n    `Reached forbidden guard function with unexpected value: ${JSON.stringify(value)}`,\n  );\n}\n\nexport type {\n  ConvertTupleToUnion,\n  ConvertTupleToObject,\n  ConvertTupleItemType,\n  SafeResult,\n  Callable,\n};\n\nexport { makeSafe, makeSafeAsync, exhaustiveGuard };\n","import { strict as assert } from 'assert';\nimport type { Record } from './circular-economy-model';\n\nclass Scores {\n  static circularity(record: Record) {\n    const {\n      produceFromNaturalResources,\n      acquireNewlyProduced,\n      acquireUsed,\n      acquireRepaired,\n      acquireRefurbished,\n      disposeHibernating,\n      disposeBroken,\n      landfill,\n    } = record.flows;\n\n    const naturalResourcesShare = Math.min(\n      1.0,\n      produceFromNaturalResources /\n        (acquireNewlyProduced +\n          acquireUsed +\n          acquireRepaired +\n          acquireRefurbished),\n    );\n    const landfillShare = Math.min(\n      1.0,\n      landfill / (disposeHibernating + disposeBroken),\n    );\n    const circularity = Math.min(\n      1.0 - naturalResourcesShare,\n      1.0 - landfillShare,\n    );\n\n    if (!Number.isFinite(circularity) || Number.isNaN(circularity)) return 0;\n\n    assert(\n      circularity >= 0 && circularity <= 1,\n      'circularity should be between 0 and 1',\n    );\n\n    return circularity;\n  }\n\n  static happiness(record: Record) {\n    const { phonesInUse } = record.stocks;\n    const { phoneGoal } = record.variables;\n\n    const userSatisfaction =\n      phonesInUse < phoneGoal\n        ? phonesInUse / phoneGoal\n        : phoneGoal / phonesInUse;\n\n    if (!Number.isFinite(userSatisfaction) || Number.isNaN(userSatisfaction))\n      return 0;\n\n    assert(\n      userSatisfaction >= 0 && userSatisfaction <= 1,\n      'userSatisfaction should be between 0 and 1',\n    );\n\n    return userSatisfaction;\n  }\n\n  static all(record: Record) {\n    const circularity = Scores.circularity(record);\n    const happiness = Scores.happiness(record);\n\n    return { circularity, happiness };\n  }\n}\n\nexport { Scores };\n","<script setup lang=\"ts\">\nimport { ref } from 'vue';\n\nimport ControlPanelTabInitialParameters from './ControlPanelTabInitialParameters.vue';\nimport ControlPanelTabParameterTransforms from './ControlPanelTabParameterTransforms.vue';\nimport ControlPanelTabCharts from './ControlPanelTabCharts.vue';\nimport ControlPanelTabImportExport from './ControlPanelTabImportExport.vue';\nimport ControlPanelTabMisc from './ControlPanelTabMisc.vue';\n\nconst props = defineProps({ disabled: Boolean });\n\nconst diagramsTabDisabled = ref(true);\n</script>\n\n<template>\n  <div class=\"control-panel\" :class=\"{ hidden: props.disabled }\">\n    <nav>\n      <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n        <button\n          class=\"nav-link\"\n          id=\"nav-initial-parameters-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#nav-initial-parameters\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"nav-initial-parameters\"\n          aria-selected=\"false\"\n        >\n          Initial parameters\n        </button>\n        <button\n          class=\"nav-link active\"\n          id=\"nav-parameter-transforms-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#nav-parameter-transforms\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"nav-parameter-transforms\"\n          aria-selected=\"true\"\n        >\n          Parameter transforms\n        </button>\n        <button\n          class=\"nav-link\"\n          id=\"nav-diagrams-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#nav-diagrams\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"nav-diagrams\"\n          aria-selected=\"false\"\n          v-on=\"{\n            'hidden.bs.tab': () => (diagramsTabDisabled = true),\n            'show.bs.tab': () => (diagramsTabDisabled = false),\n          }\"\n        >\n          Diagrams\n        </button>\n        <button\n          class=\"nav-link\"\n          id=\"nav-import-export-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#nav-import-export\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"nav-import-export\"\n          aria-selected=\"false\"\n        >\n          Import/Export\n        </button>\n        <button\n          class=\"nav-link\"\n          id=\"nav-misc-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#nav-misc\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"nav-misc\"\n          aria-selected=\"true\"\n        >\n          Misc\n        </button>\n      </div>\n    </nav>\n    <div class=\"tab-content\" id=\"nav-tabContent\">\n      <div\n        class=\"tab-pane show\"\n        id=\"nav-initial-parameters\"\n        role=\"tabpanel\"\n        aria-labelledby=\"nav-initial-parameters-tab\"\n        tabindex=\"0\"\n      >\n        <ControlPanelTabInitialParameters />\n      </div>\n      <div\n        class=\"tab-pane show active\"\n        id=\"nav-parameter-transforms\"\n        role=\"tabpanel\"\n        aria-labelledby=\"nav-parameter-transforms-tab\"\n        tabindex=\"0\"\n      >\n        <ControlPanelTabParameterTransforms />\n      </div>\n      <div\n        class=\"tab-pane show\"\n        id=\"nav-diagrams\"\n        role=\"tabpanel\"\n        aria-labelledby=\"nav-diagrams-tab\"\n        tabindex=\"0\"\n      >\n        <ControlPanelTabCharts\n          :disabled=\"props.disabled || diagramsTabDisabled\"\n        />\n      </div>\n      <div\n        class=\"tab-pane show\"\n        id=\"nav-import-export\"\n        role=\"tabpanel\"\n        aria-labelledby=\"nav-import-export-tab\"\n        tabindex=\"0\"\n      >\n        <ControlPanelTabImportExport />\n      </div>\n      <div\n        class=\"tab-pane show\"\n        id=\"nav-misc\"\n        role=\"tabpanel\"\n        aria-labelledby=\"nav-misc-tab\"\n        tabindex=\"0\"\n      >\n        <ControlPanelTabMisc />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.control-panel {\n  // this node is designed for 1920x1080 and than scaled up 2x\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: calc(1px * var(--app-width) / 4);\n  height: 50%;\n  box-sizing: border-box;\n  border-left: solid 1px;\n  background-color: white;\n  transform-origin: top right;\n  transform: scale(2);\n\n  & nav {\n    padding-top: 1ex;\n\n    & button[disabled] {\n      text-decoration: line-through;\n    }\n  }\n\n  & .tab-pane {\n    padding: 1em;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { storeToRefs } from 'pinia';\nimport { toReactive } from '@vueuse/core';\n\nimport { useModelStore } from '../../ts/stores/model';\nimport { parameterIds } from '../../ts/circular-economy-model';\n\nconst modelStore = useModelStore();\nconst initialParameters = toReactive(storeToRefs(modelStore).initialParameters);\n</script>\n\n<template>\n  <div v-for=\"parameterId in parameterIds\" :key=\"parameterId\">\n    <div>{{ parameterId }} = {{ initialParameters[parameterId] }}</div>\n    <input\n      type=\"range\"\n      min=\"0\"\n      max=\"4\"\n      step=\"0.001\"\n      v-model.number=\"initialParameters[parameterId]\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\ninput[type='range'] {\n  width: 100%;\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { ElementOf } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport { onMounted, ref } from 'vue';\nimport Sortable from 'sortablejs';\n\nimport type { Parameters } from '../../ts/circular-economy-model';\n\nimport { useModelStore } from '../../ts/stores/model';\nimport { useParameterTransformsStore } from '../../ts/stores/parameter-transforms';\nimport {\n  type ParameterTransformState,\n  useParameterTransformId,\n  useSlotGroupsStore,\n} from '../../ts/stores/slot-groups';\n\nconst { transformedParametersExt } = useModelStore();\nconst parameterTransformsStore = useParameterTransformsStore();\nconst { slotGroups, nonInternalSlotGroups, internalSlotGroup } =\n  useSlotGroupsStore();\n\nconst newId = ref('');\nconst newScript = ref('');\n\nfunction select({ id }: ParameterTransformState) {\n  newId.value = id;\n  newScript.value =\n    parameterTransformsStore.parameterTransforms.find((pt) => pt.id === id)\n      ?.script ?? '';\n}\n\nfunction addOrModify(id: string, script: string) {\n  parameterTransformsStore.addOrModify(id, script);\n\n  const internalIndex = internalSlotGroup.parameterTransforms.findIndex(\n    (pt) => pt.id === id,\n  );\n  if (internalIndex === -1) {\n    // The parameter transform is not yet in the internal slot group, so we add it\n    const newParameterTransformState: ParameterTransformState =\n      useParameterTransformId(id);\n    internalSlotGroup.parameterTransforms.push(newParameterTransformState);\n  }\n}\n\nfunction remove(id: string) {\n  const usedNonInternally =\n    nonInternalSlotGroups\n      .flatMap(({ parameterTransforms }) => parameterTransforms)\n      .findIndex((pt) => pt.id === id) !== -1;\n\n  if (usedNonInternally) {\n    alert(\n      'Cannot remove parameter transform that is still used in a non-internal slot group',\n    );\n    return;\n  }\n\n  const nextInternalIndex = () =>\n    internalSlotGroup.parameterTransforms.findIndex((pt) => pt.id === id);\n\n  for (\n    let internalIndex = nextInternalIndex();\n    internalIndex !== -1;\n    internalIndex = nextInternalIndex()\n  ) {\n    internalSlotGroup.parameterTransforms.splice(internalIndex, 1);\n  }\n  parameterTransformsStore.remove(id);\n}\n\nfunction move(from: number, to: number) {\n  parameterTransformsStore.move(from, to);\n}\n\nfunction deactivateAllInternal() {\n  internalSlotGroup.parameterTransforms.forEach((pt) => {\n    // eslint-disable-next-line no-param-reassign\n    pt.active = false;\n  });\n}\n\nconst createTooltip = (\n  slotGroup: ElementOf<typeof slotGroups>,\n  parameterTransformState: ParameterTransformState,\n): string => {\n  const slotGroupIndex = slotGroups.findIndex((sg) => sg === slotGroup);\n  assert(slotGroupIndex !== -1);\n  const slotGroupTransformedParametersExt =\n    transformedParametersExt[slotGroupIndex];\n\n  const parameterTransformIndex = slotGroup.parameterTransforms.findIndex(\n    (pts) => pts === parameterTransformState,\n  );\n  assert(parameterTransformIndex !== -1);\n\n  const step = slotGroupTransformedParametersExt.steps[parameterTransformIndex];\n  const { active, script, diff } = step;\n\n  const pToS = (p: Partial<Parameters>) => JSON.stringify(p, null, 2);\n\n  return active\n    ? `Diff: ${pToS(diff)}\\n\\nScript:\\n${script}`\n    : `Script:\\n${script}`;\n};\n\nconst availableContainer = ref<HTMLDivElement | null>(null);\n\nonMounted(() => {\n  assert(availableContainer.value);\n\n  Sortable.create(availableContainer.value, {\n    onEnd: (event) => {\n      const { newDraggableIndex, oldDraggableIndex } = event;\n      assert(typeof newDraggableIndex !== 'undefined');\n      assert(typeof oldDraggableIndex !== 'undefined');\n      move(oldDraggableIndex, newDraggableIndex);\n    },\n  });\n});\n</script>\n\n<template>\n  <div id=\"parameter-transforms\" class=\"parameter-transforms\">\n    <div>\n      Internal (applied first):\n      <div ref=\"availableContainer\" class=\"available\">\n        <div\n          class=\"parameter-transform\"\n          v-for=\"pt in internalSlotGroup.parameterTransforms\"\n          :key=\"pt.uuid\"\n          :id=\"pt.uuid\"\n          :data-id=\"pt.id\"\n          :title=\"createTooltip(internalSlotGroup, pt)\"\n        >\n          <label class=\"draggable\">\n            <input\n              type=\"checkbox\"\n              :name=\"pt.id\"\n              :value=\"pt.id\"\n              v-model=\"pt.active\"\n            /><span class=\"draggable\">{{ pt.id }}</span></label\n          >\n          <span class=\"edit\" @click=\"select(pt)\"></span>\n        </div>\n      </div>\n      <br />\n      <input\n        type=\"button\"\n        value=\"Deactivate active internal transforms\"\n        @click=\"deactivateAllInternal()\"\n      />\n    </div>\n    <div>\n      <div>\n        Id:<br />\n        <input\n          type=\"text\"\n          v-model=\"newId\"\n          name=\"parameter-transform-id\"\n        /><br />\n        Script:<br />\n        <textarea\n          v-model=\"newScript\"\n          rows=\"5\"\n          cols=\"10\"\n          name=\"parameter-transform-script\"\n        ></textarea\n        ><br />\n        <input\n          type=\"button\"\n          value=\"Add/Modify\"\n          @click=\"addOrModify(newId, newScript)\"\n        />\n        <input type=\"button\" value=\"Delete\" @click=\"remove(newId)\" />\n      </div>\n      <div class=\"slot-group-transforms\">\n        <div\n          v-for=\"slotGroup in nonInternalSlotGroups\"\n          :key=\"slotGroup.id\"\n          :data-id=\"slotGroup.id\"\n        >\n          <br />\n          Slot group '{{ slotGroup.id }}':\n          <div class=\"available\">\n            <div\n              v-for=\"pt in slotGroup.parameterTransforms\"\n              :key=\"pt.uuid\"\n              :data-id=\"pt.id\"\n              :title=\"createTooltip(slotGroup, pt)\"\n            >\n              <label>\n                <input\n                  type=\"checkbox\"\n                  :name=\"pt.id\"\n                  :value=\"pt.id\"\n                  v-model=\"pt.active\"\n                  disabled\n                />{{ pt.id }}</label\n              >\n              <span class=\"edit\" @click=\"select(pt)\"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.parameter-transforms {\n  display: flex;\n  gap: 2em;\n\n  & > *:first-child {\n    flex-grow: 0;\n  }\n\n  & > *:last-child {\n    flex-grow: 3;\n\n    & input[type='text'],\n    & textarea {\n      width: 100%;\n    }\n  }\n\n  & .available {\n    overflow: scroll;\n    max-height: 900px;\n\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n    min-width: 300px;\n    max-width: 300px;\n    min-height: 20px;\n    border: solid 1px;\n\n    & > div {\n      outline: solid 1px;\n      padding: 0.2ex;\n      display: flex;\n      flex-wrap: nowrap;\n\n      & label {\n        flex-grow: 1;\n      }\n\n      & label.draggable {\n        cursor: grab;\n      }\n\n      & > * {\n        white-space: nowrap;\n      }\n\n      & input[type='checkbox'],\n      & .edit {\n        margin-left: 0.5ex;\n        margin-right: 0.5ex;\n      }\n\n      & input[type='checkbox']:not(:disabled),\n      & .edit {\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n.slot-group-transforms {\n  height: 700px;\n  overflow: scroll;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { strict as assert } from 'assert';\nimport { ref, watchEffect, onMounted } from 'vue';\nimport {\n  Chart as ChartJs,\n  BarController,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n} from 'chart.js';\n\nimport { useModelStore } from '../../ts/stores/model';\nimport {\n  CircularEconomyModel,\n  stockIds,\n  flowIds,\n  variableIds,\n  parameterIds,\n  type Record,\n} from '../../ts/circular-economy-model';\n\nChartJs.register(\n  BarController,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n);\n\nconst props = defineProps({ disabled: Boolean });\n\nfunction toChartJsRecord(record: Record): { id: string; value: number }[] {\n  return CircularEconomyModel.elementIds\n    .map((key) =>\n      Object.entries(record[key]).map(([id, value]) => ({ id, value })),\n    )\n    .reduce((cur, acc) => [...cur, ...acc], []);\n}\n\nconst modelStore = useModelStore();\n\nconst labels = {\n  stocks: stockIds,\n  flows: flowIds,\n  variables: variableIds,\n  parameters: parameterIds,\n};\nconst labelsArray = Object.values(labels).flat();\n\nconst canvas = ref<HTMLCanvasElement | null>(null);\n\nonMounted(() => {\n  assert(canvas.value);\n  const chartJs = new ChartJs(canvas.value, {\n    type: 'bar',\n    data: {\n      labels: labelsArray,\n      datasets: [\n        {\n          label: 'Values',\n          data: new Array<number>(labelsArray.length).fill(0),\n        },\n      ],\n    },\n    options: { animation: false },\n  });\n\n  watchEffect(() => {\n    if (props.disabled) return;\n\n    const chartJsRecord = toChartJsRecord(modelStore.record);\n    chartJs.data.datasets[0].data = chartJsRecord.map((x) => x.value);\n    chartJs.update();\n  });\n});\n</script>\n\n<template>\n  <div style=\"width: 100%\">\n    <canvas ref=\"canvas\"></canvas>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { ref, toRaw, watch } from 'vue';\nimport yaml from 'js-yaml';\n\nimport type { Config } from '../../ts/config/config-schema';\n\nimport { useParameterTransformsStore } from '../../ts/stores/parameter-transforms';\nimport { useSlotGroupsStore } from '../../ts/stores/slot-groups';\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useModelStore } from '../../ts/stores/model';\nimport { validateConfig } from '../../ts/config/config-schema';\nimport { ConfigLoader } from '../../ts/config/config-loader';\n\nconst { config } = useConfigStore();\n\nconst parameterTransformsStore = useParameterTransformsStore();\nconst { parameterTransforms } = parameterTransformsStore;\nconst { rebuildInternalSlotGroup } = useSlotGroupsStore();\nconst { initialParameters, transformedParametersExt } = useModelStore();\n\nconst OState = {\n  SUCCESS: 0,\n  UNPROCESSED: 1,\n  UNKNOWN: 2,\n  ERROR: 3,\n} as const;\ntype State = (typeof OState)[keyof typeof OState];\n\nconst stateTooltips = {\n  [OState.SUCCESS]: 'Successfully imported.',\n  [OState.UNPROCESSED]: '',\n  [OState.UNKNOWN]: 'Unknown import state. Please check the developer console.',\n  [OState.ERROR]: 'Failed to import. Please check the developer console.',\n} as const;\n\nconst parameterTransformsYamlText = ref('');\nconst parameterTransformImportState = ref<State>(OState.UNPROCESSED);\nconst initialParametersYamlText = ref('');\nconst initialParametersImportState = ref<State>(OState.UNPROCESSED);\n\nfunction deriveConfig(partialConfigText: string): Config | null {\n  try {\n    const unvalidatedPartialConfig = (yaml.load(partialConfigText) ??\n      {}) as object;\n    const newConfig = ConfigLoader.merge(\n      structuredClone(toRaw(config)),\n      unvalidatedPartialConfig,\n    );\n    const validationResult = validateConfig(newConfig);\n\n    if (!validationResult.ok) {\n      /* eslint-disable no-console */\n      const {\n        error: { errors, explanation },\n      } = validationResult;\n      console.error('Invalid configuration:', newConfig);\n      console.error(explanation);\n      console.error(\n        'Issues reported by the configuration validator:',\n        ...(errors ?? []),\n      );\n      return null;\n    }\n\n    return validationResult.data;\n  } catch (error) {\n    console.error('Failed to parse YAML:', error);\n    return null;\n  }\n}\n\nasync function importInitialParameters() {\n  const newConfig = deriveConfig(initialParametersYamlText.value);\n  initialParametersImportState.value =\n    newConfig === null ? OState.ERROR : OState.UNKNOWN;\n  if (!newConfig) return;\n\n  const {\n    model: { initialParameters: validatedInitialParameters },\n  } = newConfig;\n\n  Object.assign(initialParameters, validatedInitialParameters);\n\n  initialParametersImportState.value = OState.SUCCESS;\n}\n\nasync function importParameterTransforms() {\n  const newConfig = deriveConfig(parameterTransformsYamlText.value);\n  parameterTransformImportState.value =\n    newConfig === null ? OState.ERROR : OState.UNKNOWN;\n  if (!newConfig) return;\n\n  const { parameterTransforms: validatedParameterTransforms } = newConfig;\n\n  const transformParametersPromise = new Promise((resolve, reject) => {\n    watch(transformedParametersExt, resolve, { deep: true, once: true });\n  });\n\n  parameterTransformsStore.replaceAll(validatedParameterTransforms);\n  rebuildInternalSlotGroup();\n\n  await transformParametersPromise;\n  parameterTransformImportState.value = OState.SUCCESS;\n}\n\nfunction exportInitialParameters() {\n  initialParametersImportState.value = OState.UNPROCESSED;\n  const exportObj = {\n    model: { initialParameters: initialParameters },\n  };\n  initialParametersYamlText.value = yaml.dump(exportObj);\n  console.log(initialParametersYamlText.value);\n}\n\nfunction exportParameterTransforms() {\n  parameterTransformImportState.value = OState.UNPROCESSED;\n  const exportObj = {\n    parameterTransforms: parameterTransforms.map(({ id, script }) => ({\n      id,\n      script,\n    })),\n  };\n  parameterTransformsYamlText.value = yaml.dump(exportObj);\n  console.log(parameterTransformsYamlText.value);\n}\n</script>\n\n<template>\n  Initial parameters:<br />\n  <textarea\n    name=\"initialParametersYamlText\"\n    v-model=\"initialParametersYamlText\"\n    rows=\"15\"\n    cols=\"80\"\n    :class=\"{\n      success: initialParametersImportState === OState.SUCCESS,\n      error: initialParametersImportState === OState.ERROR,\n    }\"\n    :title=\"stateTooltips[initialParametersImportState]\"\n    @input=\"initialParametersImportState = OState.UNPROCESSED\"\n  ></textarea>\n  <div>\n    <input type=\"button\" value=\"Import\" @click=\"importInitialParameters()\" />\n    <input type=\"button\" value=\"Export\" @click=\"exportInitialParameters()\" />\n  </div>\n  <br />\n  Parameter transforms:<br />\n  <textarea\n    name=\"parameterTransformYamlText\"\n    v-model=\"parameterTransformsYamlText\"\n    rows=\"15\"\n    cols=\"80\"\n    :class=\"{\n      success: parameterTransformImportState === OState.SUCCESS,\n      unknown: parameterTransformImportState === OState.UNKNOWN,\n      error: parameterTransformImportState === OState.ERROR,\n    }\"\n    :title=\"stateTooltips[parameterTransformImportState]\"\n    @input=\"parameterTransformImportState = OState.UNPROCESSED\"\n  ></textarea>\n  <div>\n    <input type=\"button\" value=\"Import\" @click=\"importParameterTransforms()\" />\n    <input type=\"button\" value=\"Export\" @click=\"exportParameterTransforms()\" />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.success {\n  background-color: lightgreen;\n}\n\n.unknown {\n  background-color: lightyellow;\n}\n\n.error {\n  background-color: lightcoral;\n}\n</style>\n","import type { StrictExtract, DeepReadonly } from 'ts-essentials';\nimport { compile } from 'suretype';\n\nimport { SuretypeConfigSchema } from './config-schema-suretype';\nimport { type Config } from './config-schema-types';\nimport type { SafeResult } from '../util/type-helpers';\n\nconst ConfigSchema = SuretypeConfigSchema;\n\nconst validateConfigSuretype = compile(ConfigSchema);\nconst ensureConfigSuretype = compile(ConfigSchema, { ensure: true });\nconst isValidConfigSuretype = compile(ConfigSchema, { simple: true });\n\ntype ValidationResult = Awaited<ReturnType<typeof validateConfigSuretype>>;\ntype ValidationIssue = Omit<\n  StrictExtract<ValidationResult, { ok: true }>,\n  'ok'\n>;\n\nconst validateConfig: (data: unknown) => SafeResult<Config, ValidationIssue> = (\n  data: unknown,\n) => {\n  const validationResult = validateConfigSuretype(data);\n  if (!validationResult.ok) {\n    const { errors, explanation } = validationResult;\n    return { ok: false, error: { errors, explanation } };\n  }\n\n  return { ok: true, data: data as Config };\n};\n\nconst ensureConfig = (data: unknown) => ensureConfigSuretype(data) as Config;\nconst isValidConfig = (data: unknown): data is Config =>\n  isValidConfigSuretype(data);\n\ntype ReadonlyConfig = DeepReadonly<Config>;\n\nexport type { ReadonlyConfig, ValidationIssue };\nexport { ConfigSchema, validateConfig, ensureConfig, isValidConfig };\n\nexport * from './config-schema-types';\n","import { v, suretype } from 'suretype';\nimport { stockIds, parameterIds } from '../circular-economy-model';\n\nconst POSITIONAL_ASSET_REGEX = /_x[+-]?[0-9]+_y[+-]?[0-9]+\\.[a-zA-Z0-9]+$/g;\nconst AssetUrlSchema = v.string().matches(POSITIONAL_ASSET_REGEX);\n\nconst ParameterTransformSchema = suretype(\n  { name: 'ParameterTransformConfig' },\n  v\n    .object({ id: v.string().required(), script: v.string().required() })\n    .additional(false)\n    .required(),\n);\n\nconst ParameterTransformsSchema = v.array(ParameterTransformSchema);\n\nconst InitialParametersSchema = suretype(\n  { name: 'InitialParametersConfig' },\n  v\n    .object(\n      Object.fromEntries(parameterIds.map((p) => [p, v.number().required()])),\n    )\n    .additional(false),\n);\n\nconst InitialStocksSchema = suretype(\n  { name: 'InitialStocksConfig' },\n  v\n    .object(Object.fromEntries(stockIds.map((p) => [p, v.number().required()])))\n    .additional(false),\n);\n\nconst MarkerSlotSchema = suretype(\n  { name: 'MarkerSlotConfig' },\n  v\n    .object({\n      id: v.string().required(),\n      x: v.number().required(),\n      y: v.number().required(),\n      angle: v.number().required(),\n    })\n    .additional(false),\n);\n\nconst CardSlotSchema = suretype(\n  { name: 'CardSlotConfig' },\n  v\n    .object({\n      id: v.string().required(),\n      x: v.number().required(),\n      y: v.number().required(),\n      angle: v.number().required(),\n    })\n    .additional(false),\n);\n\nconst CardSchema = suretype(\n  { name: 'CardConfig' },\n  v\n    .object({\n      parameterTransformId: v.string().required(),\n      url: v.string().required(),\n    })\n    .additional(false),\n);\n\nconst SlotGroupIdSchema = v.string().matches(/^((?!internal).)*$/g);\n\nconst BasicSlotGroupSchema = suretype(\n  { name: 'BasicSlotGroupConfig' },\n  v\n    .object({\n      id: SlotGroupIdSchema.required(),\n      type: v.string().enum('basic').required(),\n      slots: v.array(MarkerSlotSchema).required(),\n      parameterTransformIds: v.array(v.string()).required(),\n    })\n    .additional(false),\n);\n\nconst ActionCardSlotGroupSchema = suretype(\n  { name: 'ActionCardSlotGroupConfig' },\n  v\n    .object({\n      id: SlotGroupIdSchema.required(),\n      type: v.string().enum('action-card').required(),\n      slots: v\n        .array(\n          v\n            .object({\n              markerSlot: MarkerSlotSchema.required(),\n              cardSlot: CardSlotSchema.required(),\n            })\n            .additional(false),\n        )\n        .required(),\n      cards: v.array(CardSchema).required(),\n    })\n    .additional(false),\n);\n\nconst EventCardSlotGroupSchema = suretype(\n  { name: 'EventCardSlotGroupConfig' },\n  v\n    .object({\n      id: SlotGroupIdSchema.required(),\n      type: v.string().enum('event-card').required(),\n      markerSlot: MarkerSlotSchema.required(),\n      cardSlots: v.array(CardSlotSchema).required(),\n      cards: v.array(CardSchema).required(),\n    })\n    .additional(false),\n);\n\nconst SlotGroupSchema = suretype(\n  { name: 'SlotGroup' },\n  v.anyOf([\n    BasicSlotGroupSchema,\n    ActionCardSlotGroupSchema,\n    EventCardSlotGroupSchema,\n  ]),\n);\n\nconst ModelVisualizationLayerSchema = suretype(\n  { name: 'ModelVisualizationLayerConfig' },\n  v.string().enum('modelVisualization'),\n);\n\nconst ConditionalLayerSchema = suretype(\n  { name: 'ConditionalLayerConfig' },\n  v\n    .object({\n      url: AssetUrlSchema.required(),\n      condition: v.string().required(),\n    })\n    .additional(false)\n    .required(),\n);\n\nconst LayersSchema = v.array(\n  v.anyOf([ModelVisualizationLayerSchema, ConditionalLayerSchema]),\n);\n\nconst GeneralSchema = suretype(\n  { name: 'GeneralConfig' },\n  v\n    .object({\n      assetBaseDir: v.string().required(),\n      primaryLanguage: v.string().required(),\n      secondaryLanguage: v.string().required(),\n      scoreLabels: v\n        .object({\n          circularity: v.object({}).additional(v.string()).required(),\n          happiness: v.object({}).additional(v.string()).required(),\n        })\n        .additional(false)\n        .required(),\n    })\n    .additional(false),\n);\n\nconst AssetUrlObjectSchema = v\n  .object({ url: AssetUrlSchema.required() })\n  .additional(false);\n\nconst InteractionSchema = suretype(\n  { name: 'InteractionConfig' },\n  v\n    .object({\n      actionCardDelayMs: v.number().gte(0).required(),\n      eventCardMinDelayMs: v.number().gte(0).required(),\n      eventCardMaxDelayMs: v.number().gte(0).required(),\n      eventCardMinDurationMs: v.number().gte(0).required(),\n      eventCardMaxDurationMs: v.number().gte(0).required(),\n      assets: v\n        .object({\n          markerSlotActive: AssetUrlObjectSchema.required(),\n          markerSlotInactive: AssetUrlObjectSchema.required(),\n        })\n        .additional(false)\n        .required(),\n      slotGroups: v.array(SlotGroupSchema).required(),\n    })\n    .additional(false),\n);\n\nconst CONFIG_SCHEMA_NAME = 'Config';\n\nconst ConfigSchema = suretype(\n  { name: CONFIG_SCHEMA_NAME },\n  v\n    .object({\n      general: GeneralSchema.required(),\n      model: v\n        .object({\n          initialParameters: InitialParametersSchema.required(),\n          initialStocks: InitialStocksSchema.required(),\n        })\n        .additional(false)\n        .required(),\n      simulation: v\n        .object({\n          deltaPerSecond: v.number().required(),\n          maxStepSize: v.number().required(),\n        })\n        .additional(false)\n        .required(),\n      parameterTransforms: ParameterTransformsSchema.required(),\n      interaction: InteractionSchema.required(),\n      layers: LayersSchema.required(),\n    })\n    .additional(false)\n    .required(),\n);\n\nexport { ConfigSchema as SuretypeConfigSchema, CONFIG_SCHEMA_NAME };\n","import type {\n  BasicSlotConfig,\n  SlotWithCardConfig,\n  ActionCardSlotGroupConfig,\n  ActionCardConfig,\n  EventCardConfig,\n  BasicSlotGroupConfig,\n  EventCardSlotGroupConfig,\n} from './config-schema-types.generated';\n\nexport type SlotConfig = BasicSlotConfig | SlotWithCardConfig;\n\nexport type CardConfig = ActionCardConfig | EventCardConfig;\n\nexport type SlotGroupConfig =\n  | BasicSlotGroupConfig\n  | ActionCardSlotGroupConfig\n  | EventCardSlotGroupConfig;\n\nexport * from './config-schema-types.generated';\n","/* tslint:disable */\n/* eslint-disable */\n/**\n * This file is generated by core-types-ts on behalf of typeconv, DO NOT EDIT.\n * For more information, see:\n *  - {@link https://github.com/grantila/core-types-ts}\n *  - {@link https://github.com/grantila/typeconv}\n */\n\nexport interface GeneralConfig {\n  assetBaseDir: string;\n  primaryLanguage: string;\n  secondaryLanguage: string;\n  scoreLabels: {\n    circularity: {\n      [key: string]: string;\n    };\n    happiness: {\n      [key: string]: string;\n    };\n  };\n}\n\nexport interface InitialParametersConfig {\n  abandonExcessRate: number;\n  abandonRate: number;\n  acquireRate: number;\n  breakRate: number;\n  capacityAdjustmentRate: number;\n  disposeIncentive: number;\n  disposeRate: number;\n  landfillIncentive: number;\n  landfillRate: number;\n  naturalResourcesIncentive: number;\n  newPhoneProductionRate: number;\n  newlyProducedPhoneIncentive: number;\n  numberOfUsers: number;\n  phonesPerUserGoal: number;\n  recycleRate: number;\n  recyclingIncentive: number;\n  refurbishmentIncentive: number;\n  refurbishmentRate: number;\n  repairIncentive: number;\n  repairRate: number;\n  reuseIncentive: number;\n}\n\nexport interface InitialStocksConfig {\n  capacityOfNewlyProducedPhones: number;\n  capacityOfRecycledMaterials: number;\n  capacityOfRefurbishedPhones: number;\n  capacityOfRepairedPhones: number;\n  phonesInUse: number;\n  supplyOfBrokenPhones: number;\n  supplyOfDisposedPhones: number;\n  supplyOfHibernatingPhones: number;\n  supplyOfNewlyProducedPhones: number;\n  supplyOfRecycledMaterials: number;\n  supplyOfRefurbishedPhones: number;\n  supplyOfRepairedPhones: number;\n}\n\nexport interface ParameterTransformConfig {\n  id: string;\n  script: string;\n}\n\nexport interface MarkerSlotConfig {\n  id: string;\n  x: number;\n  y: number;\n  angle: number;\n}\n\nexport interface BasicSlotGroupConfig {\n  id: string;\n  type: 'basic';\n  slots: MarkerSlotConfig[];\n  parameterTransformIds: string[];\n}\n\nexport interface CardSlotConfig {\n  id: string;\n  x: number;\n  y: number;\n  angle: number;\n}\n\nexport interface CardConfig {\n  parameterTransformId: string;\n  url: string;\n}\n\nexport interface ActionCardSlotGroupConfig {\n  id: string;\n  type: 'action-card';\n  slots: {\n    markerSlot: MarkerSlotConfig;\n    cardSlot: CardSlotConfig;\n  }[];\n  cards: CardConfig[];\n}\n\nexport interface EventCardSlotGroupConfig {\n  id: string;\n  type: 'event-card';\n  markerSlot: MarkerSlotConfig;\n  cardSlots: CardSlotConfig[];\n  cards: CardConfig[];\n}\n\nexport type SlotGroup =\n  | BasicSlotGroupConfig\n  | ActionCardSlotGroupConfig\n  | EventCardSlotGroupConfig;\n\nexport interface InteractionConfig {\n  actionCardDelayMs: number;\n  eventCardMinDelayMs: number;\n  eventCardMaxDelayMs: number;\n  eventCardMinDurationMs: number;\n  eventCardMaxDurationMs: number;\n  assets: {\n    markerSlotActive: {\n      url: string;\n    };\n    markerSlotInactive: {\n      url: string;\n    };\n  };\n  slotGroups: SlotGroup[];\n}\n\nexport type ModelVisualizationLayerConfig = 'modelVisualization';\n\nexport interface ConditionalLayerConfig {\n  url: string;\n  condition: string;\n}\n\nexport interface Config {\n  general: GeneralConfig;\n  model: {\n    initialParameters: InitialParametersConfig;\n    initialStocks: InitialStocksConfig;\n  };\n  simulation: {\n    deltaPerSecond: number;\n    maxStepSize: number;\n  };\n  parameterTransforms: ParameterTransformConfig[];\n  interaction: InteractionConfig;\n  layers: (ModelVisualizationLayerConfig | ConditionalLayerConfig)[];\n}\n","import yaml from 'js-yaml';\nimport deepmerge from 'deepmerge';\nimport {\n  validateConfig,\n  type ReadonlyConfig,\n  type ValidationIssue,\n} from './config-schema';\nimport type { SafeResult } from '../util/type-helpers';\n\nfunction overwriteMerge<T>(destination: unknown, source: T): T {\n  return source;\n}\n\nexport class ConfigLoader {\n  protected static async fetch(url: string | URL): Promise<object> {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(\n        `Failed to load config file '${url.toString()}': ${response.statusText}`,\n      );\n    }\n\n    const text = await response.text();\n    const json = yaml.load(text, { schema: yaml.JSON_SCHEMA });\n    if (typeof json !== 'object' || json === null)\n      throw new Error(\n        `Failed to parse config file '${url.toString()}': ${JSON.stringify(json)}`,\n      );\n    return json;\n  }\n\n  static merge(...segments: object[]): object {\n    return deepmerge.all(segments, { arrayMerge: overwriteMerge });\n  }\n\n  static async safeLoad(...urls: URL[]): Promise<\n    SafeResult<\n      ReadonlyConfig,\n      {\n        config: { merged: object; segments: [URL, object][] };\n        error: ValidationIssue;\n      }\n    >\n  > {\n    const segments = await Promise.all(\n      urls.map(\n        async (url): Promise<[URL, object]> => [\n          url,\n          await ConfigLoader.fetch(url),\n        ],\n      ),\n    );\n    const merged = ConfigLoader.merge(\n      ...segments.map(([_, jsonSegment]) => jsonSegment),\n    );\n    const validationResult = validateConfig(merged);\n    if (!validationResult.ok)\n      return {\n        ok: false,\n        error: { config: { merged, segments }, error: validationResult.error },\n      };\n\n    return { ok: true, data: validationResult.data as ReadonlyConfig };\n  }\n\n  static async load(...urls: URL[]): Promise<ReadonlyConfig> {\n    const loadResult = await ConfigLoader.safeLoad(...urls);\n    if (!loadResult.ok)\n      // eslint-disable-next-line @typescript-eslint/no-throw-literal\n      throw loadResult.error;\n\n    return loadResult.data;\n  }\n}\n","<script setup lang=\"ts\">\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { HOTKEYS } from '../../ts/builtin-config';\nimport { useAppStore } from '../../ts/stores/app';\n\nconst togglePlayingBtnId = `btn-toggle-playing-${uuidv4()}`;\nconst toggleFullscreenBtnId = `btn-toggle-playing-${uuidv4()}`;\nconst toggleDeveloperModeBtnId = `btn-toggle-playing-${uuidv4()}`;\nconst toggleHighlightDerivativesBtnId = `btn-toggle-playing-${uuidv4()}`;\n\nconst appStore = useAppStore();\n\nconst togglePlaying = () => appStore.$patch({ isPlaying: !appStore.isPlaying });\n\nconst toggleFullscreen = () =>\n  appStore.$patch({ isFullscreen: !appStore.isFullscreen });\n\nconst toggleDeveloperMode = () =>\n  appStore.$patch({ isDeveloperModeActive: !appStore.isDeveloperModeActive });\n\nconst toggleHighlightDerivatives = () =>\n  appStore.$patch({\n    highlightDerivatives: !appStore.highlightDerivatives,\n  });\n</script>\n\n<template>\n  <input\n    type=\"checkbox\"\n    class=\"btn-check\"\n    :id=\"togglePlayingBtnId\"\n    :class=\"() => (appStore.isFullscreen ? 'active' : '')\"\n    autocomplete=\"off\"\n    @click=\"togglePlaying\"\n  />\n  <label class=\"btn btn-primary\" :for=\"togglePlayingBtnId\"\n    >Run ({{ HOTKEYS.run.label }})</label\n  >\n  <input\n    type=\"checkbox\"\n    class=\"btn-check\"\n    :id=\"toggleFullscreenBtnId\"\n    :class=\"() => (appStore.isFullscreen ? 'active' : '')\"\n    autocomplete=\"off\"\n  />\n  <label\n    class=\"btn btn-primary\"\n    :for=\"toggleFullscreenBtnId\"\n    @click=\"toggleFullscreen\"\n    >Fullscreen ({{ HOTKEYS.fullscreen.label }})</label\n  >\n  <input\n    type=\"checkbox\"\n    class=\"btn-check\"\n    :id=\"toggleDeveloperModeBtnId\"\n    :class=\"() => (appStore.isDeveloperModeActive ? 'active' : '')\"\n    autocomplete=\"off\"\n  />\n  <label\n    class=\"btn btn-primary\"\n    :for=\"toggleDeveloperModeBtnId\"\n    @click=\"toggleDeveloperMode\"\n    >Developer mode ({{ HOTKEYS.developerMode.label }})</label\n  >\n  <input\n    type=\"checkbox\"\n    class=\"btn-check\"\n    :id=\"toggleHighlightDerivativesBtnId\"\n    :class=\"() => (appStore.highlightDerivatives ? 'active' : '')\"\n    autocomplete=\"off\"\n  />\n  <label\n    class=\"btn btn-primary\"\n    :for=\"toggleHighlightDerivativesBtnId\"\n    @click=\"toggleHighlightDerivatives\"\n    >Highlight derivatives ({{ HOTKEYS.highlightDerivatives.label }})</label\n  >\n</template>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly } from 'ts-essentials';\n\nimport { computed } from 'vue';\n\nimport type { ConditionalLayerConfig } from '../../ts/config/config-schema-types';\n\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useModelStore } from '../../ts/stores/model';\nimport { CircularEconomyModel } from '../../ts/circular-economy-model';\n\nconst props = defineProps<{\n  layerConfig: DeepReadonly<ConditionalLayerConfig>;\n}>();\n\nconst { extractAssetPosition, toAssetUrl } = useConfigStore();\nconst { record } = useModelStore();\n\ntype Condition = (r: typeof record) => boolean;\n\nconst conditionParameters = `{ ${CircularEconomyModel.elementIds.join(', ')} }`;\nfunction compile(condition: string): (r: typeof record) => boolean {\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  return new Function(\n    conditionParameters,\n    `return (${condition}) === true;`,\n  ) as Condition;\n}\n\nfunction compileLayer({ condition, url }: ConditionalLayerConfig): {\n  checkCondition: Condition;\n  condition: string;\n  url: URL;\n  x: number;\n  y: number;\n} {\n  const resolvedUrl = toAssetUrl(url);\n  const { x, y } = extractAssetPosition(resolvedUrl);\n  const checkCondition = compile(condition);\n  return {\n    checkCondition,\n    condition,\n    url: resolvedUrl,\n    x,\n    y,\n  };\n}\n\nconst compiledLayer = computed(() => compileLayer(props.layerConfig));\n</script>\n\n<template>\n  <img\n    :src=\"compiledLayer.url.href\"\n    v-if=\"compiledLayer.checkCondition(record)\"\n    class=\"positioned-layer\"\n    :style=\"{\n      '--layer-x': compiledLayer.x,\n      '--layer-y': compiledLayer.y,\n    }\"\n  />\n</template>\n\n<style scoped lang=\"scss\">\n.positioned-layer {\n  position: absolute;\n  top: calc(1px * var(--layer-y));\n  left: calc(1px * var(--layer-x));\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport { ref, watchEffect } from 'vue';\n\nimport type { BasicSlotGroupConfig } from '../../ts/config/config-schema';\n\nimport { useSlotGroupsStore } from '../../ts/stores/slot-groups';\nimport MarkerSlot from './MarkerSlot.vue';\n\nconst props = defineProps<{\n  readonly slotGroupConfig: DeepReadonly<BasicSlotGroupConfig>;\n}>();\nconst { slotGroupConfig } = props;\n\nconst { slotGroups } = useSlotGroupsStore();\nconst slotGroup = slotGroups.find(({ id }) => id === slotGroupConfig.id);\nassert(typeof slotGroup !== 'undefined');\n\nconst numActive = ref(0);\n\nwatchEffect(() =>\n  slotGroup.parameterTransforms.forEach((pt, index) =>\n    pt.setActive(numActive.value > index),\n  ),\n);\n</script>\n\n<template>\n  <div :data-slot-group-id=\"slotGroupConfig.id\">\n    <MarkerSlot\n      v-for=\"slotConfig in slotGroupConfig.slots\"\n      :key=\"slotConfig.id\"\n      :slot-group-id=\"slotGroupConfig.id\"\n      :slot-config=\"slotConfig\"\n      @activate=\"numActive += 1\"\n      @deactivate=\"numActive -= 1\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly, Writable } from 'ts-essentials';\n\nimport { difference } from 'lodash';\nimport { ref, computed, watchEffect, watch } from 'vue';\nimport { useArrayFilter } from '@vueuse/core';\n\nimport type { Marker } from '../../ts/stores/marker';\nimport type { SlotConfig } from '../../ts/config/config-schema';\n\nimport { SLOT_CIRCLE_DIAMETER } from '../../ts/builtin-config';\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useAppStore } from '../../ts/stores/app';\nimport { useMarkerStore } from '../../ts/stores/marker';\nimport { useSlotStore } from '../../ts/stores/slot';\n\nimport { Circle } from '../../ts/util/geometry/circle';\n\nconst props = defineProps<{\n  readonly slotGroupId: string;\n  readonly slotConfig: DeepReadonly<SlotConfig>;\n}>();\n\nconst { slotConfig } = props;\n\nconst slotGroupId = ref(props.slotGroupId);\nconst slotId = `${slotGroupId.value}-${slotConfig.id}`;\n\nconst {\n  config: {\n    interaction: { assets },\n  },\n  toAssetUrl,\n  extractAssetPosition,\n} = useConfigStore();\nconst markerSlotActiveUrl = toAssetUrl(assets.markerSlotActive.url);\nconst markerSlotInactiveUrl = toAssetUrl(assets.markerSlotInactive.url);\nconst markerSlotActivePosition = extractAssetPosition(markerSlotActiveUrl);\nconst markerSlotInactivePosition = extractAssetPosition(markerSlotInactiveUrl);\n\nconst appStore = useAppStore();\n\nconst markerStore = useMarkerStore();\nconst { markerPositions } = markerStore;\n\nconst slotStore = useSlotStore();\n\nconst slotCircle = new Circle(\n  slotConfig.x,\n  slotConfig.y,\n  SLOT_CIRCLE_DIAMETER / 2,\n);\n\nlet previousContainedMarkers = new Array<Marker>();\n\nconst containedMarkers = useArrayFilter(\n  markerPositions as Writable<typeof markerPositions>,\n  (m) => slotCircle.containsPoint(m),\n);\n\nwatchEffect(() => {\n  const added = difference(containedMarkers.value, previousContainedMarkers);\n  const removed = difference(previousContainedMarkers, containedMarkers.value);\n  removed.forEach(({ id: markerId }) =>\n    slotStore.addActivation({ slotId, markerId }),\n  );\n  added.forEach(({ id: markerId }) =>\n    slotStore.addActivation({ slotId, markerId }),\n  );\n  previousContainedMarkers = containedMarkers.value;\n});\n\nconst isActive = computed(() => containedMarkers.value.length > 0);\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst emit = defineEmits<{\n  activate: [ids: { slotId: string; slotGroupId: string }];\n  deactivate: [ids: { slotId: string; slotGroupId: string }];\n}>();\n\nwatch(\n  () => isActive.value,\n  (isActiveNow, isActivePrev) => {\n    if (isActiveNow && !isActivePrev) {\n      emit('activate', { slotId, slotGroupId: slotGroupId.value });\n    } else {\n      emit('deactivate', { slotId, slotGroupId: slotGroupId.value });\n    }\n  },\n);\n</script>\n\n<template>\n  <div\n    :data-slot-id=\"slotConfig.id\"\n    class=\"slot\"\n    :style=\"{\n      '--slot-x': slotConfig.x,\n      '--slot-y': slotConfig.y,\n      '--slot-angle': `${slotConfig.angle}deg`,\n      '--slot-diameter': SLOT_CIRCLE_DIAMETER,\n    }\"\n  >\n    <div class=\"asset-container\">\n      <img\n        v-show=\"isActive\"\n        :src=\"markerSlotActiveUrl.href\"\n        :alt=\"`${slotConfig.id}-active`\"\n        :style=\"{\n          '--asset-x': markerSlotActivePosition.x,\n          '--asset-y': markerSlotActivePosition.y,\n        }\"\n      />\n      <img\n        v-show=\"!isActive\"\n        :src=\"markerSlotInactiveUrl.href\"\n        :alt=\"`${slotConfig.id}-inactive`\"\n        :style=\"{\n          '--asset-x': markerSlotInactivePosition.x,\n          '--asset-y': markerSlotInactivePosition.y,\n        }\"\n      />\n    </div>\n    <div\n      v-if=\"appStore.isDeveloperModeActive\"\n      class=\"circle\"\n      :class=\"{ active: isActive, inactive: !isActive }\"\n    ></div>\n    <div v-if=\"appStore.isDeveloperModeActive\" class=\"label\">\n      {{ slotGroupId }}<br />{{ slotConfig.id }}\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.slot {\n  left: calc(1px * var(--slot-x));\n  top: calc(1px * var(--slot-y));\n  width: calc(1px * var(--slot-diameter));\n  height: calc(1px * var(--slot-diameter));\n  position: absolute;\n  transform-origin: center;\n  transform: translate(-50%, -50%) rotate(var(--slot-angle));\n\n  & > .asset-container {\n    position: absolute;\n    transform: translate(0%, 50%);\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    & > img {\n      position: absolute;\n      transform: translateX(calc(1px * var(--asset-x)))\n        translateY(calc(1px * var(--asset-y)));\n    }\n  }\n\n  & > .circle {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    box-sizing: content-box;\n    outline: solid 2px;\n\n    &.inactive {\n      outline-color: darkgray;\n    }\n\n    &.active {\n      outline-color: black;\n    }\n  }\n\n  & .label {\n    position: absolute;\n  }\n\n  * {\n    pointer-events: none;\n    user-select: none;\n  }\n\n  display: grid;\n  place-items: center center;\n  font-family: sans-serif;\n  font-size: x-large;\n  text-align: center;\n}\n</style>\n","import { defineStore } from 'pinia';\nimport { ref, readonly } from 'vue';\n\nexport interface SlotIdAndMarkerId {\n  slotId: string;\n  markerId: string;\n}\n\nexport const useSlotStore = defineStore('slot', () => {\n  const slotActivations = ref(\n    new Array<{ slotId: string; markerId: string }>(),\n  );\n\n  const removeActivation = (sm: SlotIdAndMarkerId) => {\n    const index = slotActivations.value.findIndex(\n      ({ slotId, markerId }) =>\n        slotId === sm.slotId && markerId === sm.markerId,\n    );\n    if (index !== -1) slotActivations.value.splice(index, 1);\n  };\n\n  const addActivation = (sm: SlotIdAndMarkerId) => {\n    removeActivation(sm);\n    slotActivations.value.push(sm);\n  };\n\n  return {\n    slotActivations: readonly(slotActivations),\n    addActivation,\n    removeActivation,\n  };\n});\n","export class Circle {\n  public x: number;\n\n  public y: number;\n\n  public radius: number;\n\n  constructor(x: number, y: number, radius: number) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n  }\n\n  clone() {\n    return new Circle(this.x, this.y, this.radius);\n  }\n\n  containsPoint({ x, y }: Readonly<{ x: number; y: number }>) {\n    return (this.x - x) ** 2 + (this.y - y) ** 2 <= this.radius ** 2;\n  }\n\n  containsCircle(circle: Readonly<Circle>, threshold = 0) {\n    const distance = Math.sqrt(\n      (this.x - circle.x) ** 2 + (this.y - circle.y) ** 2,\n    );\n    return distance + circle.radius <= this.radius + threshold;\n  }\n\n  static toCircumcircle(rect: DOMRect | DOMRectReadOnly) {\n    const x = rect.x + rect.width / 2;\n    const y = rect.y + rect.height / 2;\n    const radius = Math.sqrt(rect.width ** 2 + rect.height ** 2) / 2;\n    return new Circle(x, y, radius);\n  }\n\n  static toIncircle(rect: DOMRect | DOMRectReadOnly) {\n    const x = rect.x + rect.width / 2;\n    const y = rect.y + rect.height / 2;\n    const radius = Math.min(rect.width, rect.height) / 2;\n    return new Circle(x, y, radius);\n  }\n}\n","<script setup lang=\"ts\">\nimport type { DeepReadonly, ElementOf } from 'ts-essentials';\nimport type { Ref } from 'vue';\n\nimport { strict as assert } from 'assert';\nimport { ref, watch } from 'vue';\n\nimport type {\n  ActionCardSlotGroupConfig,\n  CardConfig,\n} from '../../ts/config/config-schema';\nimport type { ParameterTransformState } from '../../ts/stores/slot-groups';\n\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useSlotGroupsStore } from '../../ts/stores/slot-groups';\nimport MarkerSlot from './MarkerSlot.vue';\nimport CardSlot from './CardSlot.vue';\n\ninterface CardAssigment {\n  cardConfig: DeepReadonly<CardConfig>;\n  state: ParameterTransformState;\n}\n\ninterface ActionCardSlotAssignment {\n  readonly slotConfig: DeepReadonly<\n    ElementOf<ActionCardSlotGroupConfig['slots']>\n  >;\n  assignment: Ref<CardAssigment | null>;\n  active: Ref<boolean>;\n  timeout: ReturnType<typeof setTimeout> | null;\n}\n\nconst props = defineProps<{\n  slotGroupConfig: DeepReadonly<ActionCardSlotGroupConfig>;\n}>();\nconst { slotGroupConfig } = props;\n\nconst {\n  config: {\n    interaction: { actionCardDelayMs },\n  },\n} = useConfigStore();\n\nconst { slotGroups } = useSlotGroupsStore();\nconst slotGroup = slotGroups.find(({ id }) => id === slotGroupConfig.id);\nassert(typeof slotGroup !== 'undefined');\n\nconst slotsWithCard = slotGroupConfig.slots.map(\n  (slotConfig): ActionCardSlotAssignment => ({\n    slotConfig,\n    assignment: ref<CardAssigment | null>(null),\n    active: ref(false),\n    timeout: null,\n  }),\n);\n\nconst availableCardAssignments = slotGroupConfig.cards.map((cardConfig) => {\n  const state = slotGroup.parameterTransforms.find(\n    (pt) => pt.id === cardConfig.parameterTransformId,\n  );\n  assert(typeof state !== 'undefined');\n  return { cardConfig, state };\n});\n\nslotsWithCard.forEach((slotWithCard) => {\n  watch(\n    slotWithCard.active,\n    (active) => {\n      const { assignment } = slotWithCard;\n      if (!active) {\n        if (assignment.value !== null) {\n          const assignmentValue = assignment.value;\n          const { state } = assignmentValue;\n          console.log(\n            `Deactivating ${state.id} at action card slot ${slotWithCard.slotConfig.cardSlot.id}`,\n          );\n          assignmentValue.state.setActive(false);\n          console.log(\n            `Removing ${assignmentValue.state.id} from action card slot ${slotWithCard.slotConfig.cardSlot.id}`,\n          );\n          slotWithCard.assignment.value = null;\n          availableCardAssignments.push(assignmentValue);\n        }\n\n        if (slotWithCard.timeout === null) {\n          slotWithCard.timeout = setTimeout(() => {\n            slotWithCard.timeout = null;\n            const newAssignment = availableCardAssignments.shift();\n            assert(typeof newAssignment !== 'undefined');\n            console.log(\n              `Assigning ${newAssignment.state.id} to action card slot ${slotWithCard.slotConfig.cardSlot.id}`,\n            );\n            assignment.value = newAssignment;\n            assignment.value.state.setActive(slotWithCard.active.value);\n          }, actionCardDelayMs);\n        }\n      } else {\n        if (assignment.value !== null) {\n          const { state } = assignment.value;\n          console.log(state);\n          console.log(\n            `Activating ${state.id} at action card slot ${slotWithCard.slotConfig.cardSlot.id}`,\n          );\n          state.setActive(true);\n        }\n      }\n    },\n    { immediate: true },\n  );\n});\n</script>\n\n<template>\n  <div :data-slot-group-id=\"slotGroupConfig.id\">\n    <CardSlot\n      v-for=\"slotWithCard in slotsWithCard\"\n      :key=\"slotWithCard.slotConfig.cardSlot.id\"\n      :card-slot-config=\"slotWithCard.slotConfig.cardSlot\"\n      :card-config=\"slotWithCard.assignment.value?.cardConfig ?? null\"\n      :active=\"slotWithCard.assignment.value?.state?.active ?? false\"\n    />\n    <MarkerSlot\n      v-for=\"slotWithCard in slotsWithCard\"\n      :key=\"slotWithCard.slotConfig.markerSlot.id\"\n      :slot-group-id=\"slotGroupConfig.id\"\n      :slot-config=\"slotWithCard.slotConfig.markerSlot\"\n      @activate=\"slotWithCard.active.value = true\"\n      @deactivate=\"slotWithCard.active.value = false\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly } from 'ts-essentials';\n\nimport type { CardSlotConfig, CardConfig } from '../../ts/config/config-schema';\n\nimport { useAppStore } from '../../ts/stores/app';\n\nimport GameCard from './GameCard.vue';\n\nconst props = defineProps<{\n  readonly cardSlotConfig: DeepReadonly<CardSlotConfig>;\n  cardConfig: DeepReadonly<CardConfig> | null;\n  active: boolean;\n}>();\n\nconst appStore = useAppStore();\n</script>\n\n<template>\n  <div\n    :style=\"{\n      '--card-x': cardSlotConfig.x,\n      '--card-y': cardSlotConfig.y,\n      '--card-angle': cardSlotConfig.angle,\n    }\"\n    class=\"card-slot\"\n    :class=\"{ 'dev-mode': appStore.isDeveloperModeActive }\"\n  >\n    <div class=\"label\" v-if=\"appStore.isDeveloperModeActive\">\n      {{ cardSlotConfig.id }}\n    </div>\n    <template v-if=\"cardConfig !== null\">\n      <GameCard\n        :url=\"cardConfig.url\"\n        :label=\"cardConfig.parameterTransformId\"\n        :active=\"props.active\"\n      />\n    </template>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.card-slot {\n  position: absolute;\n  width: 202px;\n  height: 275px;\n  transform-origin: top left;\n  --card-x-px: calc(1px * var(--card-x));\n  --card-y-px: calc(1px * var(--card-y));\n  transform: translateX(var(--card-x-px)) translateY(var(--card-y-px))\n    rotate(calc(1deg * var(--card-angle)));\n\n  &.dev-mode {\n    background-color: rgba(255, 255, 255, 0.5);\n    outline: 2px dotted gray;\n  }\n\n  & > .label {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    place-items: center center;\n    font-family: sans-serif;\n    font-size: x-large;\n    text-align: center;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue';\n\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useAppStore } from '../../ts/stores/app';\n\nconst props = defineProps<{\n  readonly url: string;\n  readonly label: string;\n  active: boolean;\n}>();\n\nconst { toAssetUrl, extractAssetPosition } = useConfigStore();\nconst appStore = useAppStore();\n\nconst assetUrl = computed(() => toAssetUrl(props.url));\n\n// const position = computed(() => extractAssetPosition(assetUrl.value));\n// Keep the position fixed for now\nconst position = { x: 0, y: 0 };\n</script>\n\n<template>\n  <div\n    class=\"action-card\"\n    :class=\"{ active: props.active }\"\n    :style=\"{\n      '--card-x': position.x,\n      '--card-y': position.y,\n    }\"\n  >\n    <img :src=\"assetUrl.href\" :alt=\"label\" class=\"image\" />\n    <div class=\"label\" v-if=\"appStore.isDeveloperModeActive\">\n      <span class=\"highlight\">{{ label }}</span>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.action-card {\n  --inactive-card-filter: invert(1) brightness(0.4) invert(1);\n  position: absolute;\n  left: calc(1px * var(--card-x));\n  top: calc(1px * var(--card-y));\n\n  &:not(.active) {\n    filter: var(--inactive-card-filter);\n  }\n\n  .image {\n    position: relative;\n  }\n\n  .label {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    place-items: center center;\n    font-family: sans-serif;\n    font-size: x-large;\n    text-align: center;\n  }\n\n  .highlight {\n    background: #fff7;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport { ref } from 'vue';\n\nimport type { EventCardSlotGroupConfig } from '../../ts/config/config-schema';\n\nimport { useSlotGroupsStore } from '../../ts/stores/slot-groups';\nimport MarkerSlot from './MarkerSlot.vue';\nimport EventCardCycler from './EventCardCycler.vue';\n\nconst props = defineProps<{\n  slotGroupConfig: DeepReadonly<EventCardSlotGroupConfig>;\n}>();\nconst { slotGroupConfig } = props;\nconst { markerSlot: markerSlotConfig } = slotGroupConfig;\n\nconst { slotGroups } = useSlotGroupsStore();\nconst slotGroup = slotGroups.find(({ id }) => id === slotGroupConfig.id);\nassert(typeof slotGroup !== 'undefined');\n\nconst isMarkerSlotActive = ref(false);\n</script>\n\n<template>\n  <div :data-slot-group-id=\"slotGroupConfig.id\">\n    <EventCardCycler\n      :slot-group-config=\"slotGroupConfig\"\n      :enabled=\"isMarkerSlotActive\"\n    />\n    <MarkerSlot\n      :slot-group-id=\"slotGroupConfig.id\"\n      :slot-config=\"markerSlotConfig\"\n      @activate=\"isMarkerSlotActive = true\"\n      @deactivate=\"isMarkerSlotActive = false\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport type { DeepReadonly } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport { reactive, watch } from 'vue';\nimport { useTimeoutFn } from '@vueuse/core';\n\nimport type {\n  CardSlotConfig,\n  CardConfig,\n  EventCardSlotGroupConfig,\n} from '../../ts/config/config-schema';\n\nimport { useConfigStore } from '../../ts/stores/config';\nimport { useSlotGroupsStore } from '../../ts/stores/slot-groups';\nimport CardSlot from './CardSlot.vue';\n\nconst props = defineProps<{\n  slotGroupConfig: DeepReadonly<EventCardSlotGroupConfig>;\n  enabled: boolean;\n}>();\n\nconst {\n  config: {\n    interaction: {\n      eventCardMinDelayMs,\n      eventCardMaxDelayMs,\n      eventCardMinDurationMs,\n      eventCardMaxDurationMs,\n    },\n  },\n} = useConfigStore();\n\nconst { slotGroups } = useSlotGroupsStore();\nconst slotGroup = slotGroups.find(({ id }) => id === props.slotGroupConfig.id);\nassert(typeof slotGroup !== 'undefined');\n\nconst getRandomDelayMs = (minDelayMultiplier: number = 1) =>\n  minDelayMultiplier * eventCardMinDelayMs +\n  Math.random() * Math.abs(eventCardMaxDelayMs - eventCardMinDelayMs);\nconst getRandomDurationMs = () =>\n  eventCardMinDurationMs +\n  Math.random() * Math.abs(eventCardMaxDurationMs - eventCardMinDurationMs);\n\ninterface CardSlotAssignment {\n  cardSlotConfig: DeepReadonly<CardSlotConfig>;\n  cardConfig: DeepReadonly<CardConfig> | null;\n  stopFilling: () => void;\n}\n\nconst cardSlotAssignments = reactive(\n  props.slotGroupConfig.cardSlots.map(\n    (csc): CardSlotAssignment => ({\n      cardSlotConfig: csc,\n      cardConfig: null,\n      stopFilling: () => {},\n    }),\n  ),\n);\n\nassert(cardSlotAssignments.length > 0);\nassert(props.slotGroupConfig.cards.length > 0);\nassert(cardSlotAssignments.length <= props.slotGroupConfig.cards.length);\n\nconst eventCardPriorityQueue = props.slotGroupConfig.cards.map((cardConfig) => {\n  const parameterTransform = slotGroup.parameterTransforms.find(\n    (pt) => pt.id === cardConfig.parameterTransformId,\n  );\n  assert(parameterTransform !== undefined);\n  return { cardConfig, parameterTransform };\n});\nconst getNextEventCard = () => {\n  const nextEventCard = eventCardPriorityQueue.shift();\n  assert(typeof nextEventCard !== 'undefined');\n  eventCardPriorityQueue.push(nextEventCard);\n  return nextEventCard;\n};\n\nconst fillCardSlot = (csa: CardSlotAssignment) => {\n  csa.stopFilling();\n  const { cardConfig, parameterTransform } = getNextEventCard();\n  csa.cardConfig = cardConfig;\n  parameterTransform.active = true;\n  const durationMs = getRandomDurationMs();\n  const delayMs = getRandomDelayMs();\n  csa.stopFilling();\n  csa.stopFilling = useTimeoutFn(\n    () => fillCardSlot(csa),\n    durationMs + delayMs,\n  ).stop;\n  useTimeoutFn(() => {\n    csa.cardConfig = null;\n    parameterTransform.active = false;\n  }, durationMs);\n};\n\nconst activateCardSlotAssignments = () => {\n  let delayMultiplier = 0;\n  cardSlotAssignments.forEach((csa) => {\n    if (csa.cardConfig === null) {\n      const delayMs =\n        delayMultiplier === 0 ? 0 : getRandomDelayMs(delayMultiplier);\n      csa.stopFilling();\n      csa.stopFilling = useTimeoutFn(() => fillCardSlot(csa), delayMs).stop;\n      delayMultiplier += 1;\n    }\n  });\n};\n\nconst deactivateCardSlotAssignments = () => {\n  cardSlotAssignments.forEach((csa) => csa.stopFilling());\n};\n\nwatch(\n  () => props.enabled,\n  (newEnabled, prevEnabled) => {\n    if (newEnabled === prevEnabled) return;\n\n    if (newEnabled) {\n      activateCardSlotAssignments();\n    } else {\n      deactivateCardSlotAssignments();\n    }\n  },\n  { immediate: true },\n);\n</script>\n\n<template>\n  <CardSlot\n    v-for=\"csa in cardSlotAssignments\"\n    :key=\"csa.cardSlotConfig.id\"\n    :card-slot-config=\"csa.cardSlotConfig\"\n    :card-config=\"csa.cardConfig\"\n    :active=\"true\"\n  />\n</template>\n","<script setup lang=\"ts\">\nimport type { ElementOf } from 'ts-essentials';\n\nimport { strict as assert } from 'assert';\nimport kebabCase from 'lodash/kebabCase';\nimport camelCase from 'lodash/camelCase';\nimport { onMounted, ref, computed } from 'vue';\nimport { toReactive } from '@vueuse/core';\nimport { v4 as uuid4 } from 'uuid';\n\nimport type { ModelElementObject } from '../../ts/model';\nimport { type Record, type StockId } from '../../ts/circular-economy-model';\n\nimport { BOARD_WIDTH, BOARD_HEIGHT } from '../../ts/builtin-config';\nimport { useAppStore } from '../../ts/stores/app';\nimport { useModelStore } from '../../ts/stores/model';\nimport { stockIds } from '../../ts/circular-economy-model';\nimport { loadSvg } from '../../ts/util/load-svg';\nimport { getCircleCenter } from '../../ts/util/geometry/svg';\nimport { guardedQuerySelector } from '../../ts/util/guarded-query-selectors';\n\nconst svgUrl = new URL('../../svg/model.svg', import.meta.url);\nconst uuid = uuid4();\n\nconst mainFlowIds = [\n  'abandon',\n  'acquireNewlyProduced',\n  'acquireRefurbished',\n  'acquireRepaired',\n  'acquireUsed',\n  'disposeBroken',\n  'disposeHibernating',\n  'goBroken',\n  'landfill',\n  'produceFromNaturalResources',\n  'produceFromRecycledMaterials',\n  'recycle',\n  'refurbish',\n  'repair',\n] as const;\n\nconst mainCapacityIds = [\n  'recycledMaterials',\n  'repairedPhones',\n  'refurbishedPhones',\n  'newlyProducedPhones',\n] as const;\n\nconst mainSupplyIds = [\n  'recycledMaterials',\n  'hibernatingPhones',\n  'disposedPhones',\n  'brokenPhones',\n  'repairedPhones',\n  'refurbishedPhones',\n  'newlyProducedPhones',\n] as const;\n\nconst additionalVerbatimSupplyIds = ['phonesInUse'] as const;\n\ntype MainFlowIds = typeof mainFlowIds;\ntype MainFlowId = ElementOf<MainFlowIds>;\n\nconst flowVizSigns: ModelElementObject<MainFlowIds> = {\n  abandon: +1,\n  acquireNewlyProduced: -1,\n  acquireRefurbished: -1,\n  acquireRepaired: -1,\n  acquireUsed: -1,\n  disposeBroken: -1,\n  disposeHibernating: -1,\n  goBroken: -1,\n  landfill: -1,\n  produceFromNaturalResources: -1,\n  produceFromRecycledMaterials: -1,\n  recycle: -1,\n  refurbish: -1,\n  repair: -1,\n} as const;\n\nconst scaleFactors = {\n  global: 30000,\n  stocks: 1,\n  flows: 0.001,\n  flowHighlight: 10,\n};\n\nconst svgPromise = loadSvg(svgUrl);\n\nconst appStore = useAppStore();\n\nconst modelStore = useModelStore();\n\nconst updateInfo = ref({\n  deltaMs: 0,\n  stepSize: 0,\n  flowVizScale: 1,\n  stockVizScale: 1,\n  record: modelStore.record,\n});\n\ninterface StockDescription {\n  readonly id: string;\n  readonly x: number;\n  readonly y: number;\n  radius: number;\n  highlight: number;\n}\n\ninterface FlowDescription {\n  readonly id: string;\n  readonly svgPath: string;\n  dashOffset: number;\n  highlight: number;\n}\n\nconst useStockToRadius = (stockId: StockId) => {\n  const radius = computed(() => {\n    const { record } = updateInfo.value;\n    const { stocks } = record;\n    const stock = stocks[stockId];\n    const stockVizScale = updateInfo.value.stockVizScale;\n    return Math.sqrt((stock * stockVizScale) / Math.PI);\n  });\n  return { radius };\n};\n\nconst useFlowToDashoffset = (flowId: MainFlowId) => {\n  let lastDashOffset = 0;\n  const dashoffset = computed(() => {\n    const { deltaMs, flowVizScale, record } = updateInfo.value;\n    const { flows } = record;\n    const flow = flows[flowId];\n    const flowVizSign = flowVizSigns[flowId];\n\n    // The dash offset step must not be small compared to the dash gap.\n    // Otherwise, the flow animation may appear to move backwards.\n    const maxStep = 10; // TODO: Make this configurable\n    const dashOffsetStep =\n      flowVizSign * Math.min(deltaMs * flowVizScale * flow, maxStep);\n    const dashOffset =\n      (Number.isNaN(lastDashOffset) ? 0 : lastDashOffset) + dashOffsetStep;\n    lastDashOffset = dashOffset;\n    return dashOffset;\n  });\n  return { dashoffset };\n};\n\nconst useFlowToHighlight = (flowId: MainFlowId) => {\n  let previousFlow = updateInfo.value.record.flows[flowId];\n  const highlight = computed(() => {\n    const { flowVizScale, record, stepSize } = updateInfo.value;\n    const flow = record.flows[flowId];\n    const flowDerivative = (flow - previousFlow) / stepSize;\n    const scaledFlowDerivative =\n      scaleFactors.flowHighlight * flowVizScale * flowDerivative;\n\n    // TODO: fine-tune formula\n    const highlight =\n      0.5 *\n      (1 +\n        Math.min(\n          Math.max(\n            Math.sign(scaledFlowDerivative) *\n              Math.sqrt(Math.abs(scaledFlowDerivative)),\n            -1,\n          ),\n          1,\n        ));\n    previousFlow = flow;\n    return appStore.highlightDerivatives && !Number.isNaN(highlight)\n      ? highlight\n      : 0.5;\n  });\n  return { highlight };\n};\n\nconst extractFlowDescriptions = (svgElement: SVGElement): FlowDescription[] =>\n  mainFlowIds.map((id) => {\n    const flowElement = guardedQuerySelector(\n      SVGGeometryElement,\n      `#${kebabCase(id)}`,\n      svgElement,\n    );\n    const svgPath = flowElement.getAttribute('d');\n    assert(svgPath !== null, `SVG path for flow ${id} not found.`);\n    const flowDescription: FlowDescription = toReactive({\n      id,\n      svgPath,\n      dashOffset: useFlowToDashoffset(id).dashoffset,\n      highlight: useFlowToHighlight(id).highlight,\n    });\n    return flowDescription;\n  });\n\nconst extractStockDescriptions = (\n  svgElement: SVGElement,\n  type: 'supply' | 'capacity' | 'verbatim',\n): StockDescription[] => {\n  const mainStockIds =\n    type === 'supply'\n      ? mainSupplyIds\n      : type === 'capacity'\n        ? mainCapacityIds\n        : additionalVerbatimSupplyIds;\n  return mainStockIds.map((mainId) => {\n    const stockElement = guardedQuerySelector(\n      SVGGeometryElement,\n      `#${kebabCase(mainId)}`,\n      svgElement,\n    );\n    assert(stockElement.tagName === 'circle');\n    const { x, y } = getCircleCenter(stockElement as SVGCircleElement);\n    const id = (\n      type === 'verbatim'\n        ? mainId\n        : camelCase(`${type}-of-${kebabCase(mainId)}`)\n    ) as StockId;\n    assert(\n      stockIds.includes(id),\n      `${id} is no valid stockId (${stockIds.join(', ')})`,\n    );\n    const stockDescription: StockDescription = toReactive({\n      id,\n      x,\n      y,\n      radius: useStockToRadius(id).radius,\n      highlight: 0,\n    });\n    return stockDescription;\n  });\n};\n\nconst capacityDescriptions = ref<StockDescription[]>([]);\nconst supplyDescriptions = ref<StockDescription[]>([]);\nconst flowDescriptions = ref<FlowDescription[]>([]);\n\nconst flowElements = ref<SVGPathElement[]>([]);\nconst supplyElements = ref<SVGCircleElement[]>([]);\n\nonMounted(() => {\n  svgPromise.then((svg) => {\n    flowDescriptions.value.push(...extractFlowDescriptions(svg));\n    capacityDescriptions.value.push(\n      ...extractStockDescriptions(svg, 'capacity'),\n    );\n    supplyDescriptions.value.push(\n      ...extractStockDescriptions(svg, 'supply'),\n      ...extractStockDescriptions(svg, 'verbatim'),\n    );\n  });\n});\n\nconst update = (\n  deltaMs: DOMHighResTimeStamp,\n  stepSize: number,\n  record: Record,\n) => {\n  const flowVizScale =\n    stepSize *\n    ((scaleFactors.global * scaleFactors.flows) /\n      record.parameters.numberOfUsers);\n  const stockVizScale =\n    (scaleFactors.global * scaleFactors.stocks) /\n    record.parameters.numberOfUsers;\n  updateInfo.value = { deltaMs, stepSize, flowVizScale, stockVizScale, record };\n};\n\ndefineExpose({ update });\n</script>\n\n<template>\n  <div\n    ref=\"container\"\n    class=\"model-viz-container\"\n    :style=\"{\n      '--dev-mode-label-display': appStore.isDeveloperModeActive\n        ? 'inline'\n        : 'none',\n    }\"\n  >\n    <svg\n      :width=\"BOARD_WIDTH\"\n      :height=\"BOARD_HEIGHT\"\n      :viewBox=\"`0 0 ${BOARD_WIDTH} ${BOARD_HEIGHT}`\"\n      xml:space=\"preserve\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"model-visualization\"\n    >\n      <path\n        v-for=\"flowDescription in flowDescriptions\"\n        :key=\"flowDescription.id\"\n        :id=\"`${flowDescription.id}-${uuid}`\"\n        ref=\"flowElements\"\n        :data-label=\"flowDescription.id\"\n        :d=\"flowDescription.svgPath\"\n        :stroke-dashoffset=\"flowDescription.dashOffset\"\n        class=\"flow anim-edge\"\n        :style=\"{\n          '--highlight': flowDescription.highlight,\n        }\"\n      />\n      <circle\n        v-for=\"stockDescription in capacityDescriptions\"\n        :key=\"stockDescription.id\"\n        :cx=\"stockDescription.x\"\n        :cy=\"stockDescription.y\"\n        :r=\"stockDescription.radius\"\n        class=\"stock capacity\"\n      />\n      <circle\n        v-for=\"stockDescription in supplyDescriptions\"\n        :key=\"stockDescription.id\"\n        :id=\"`${stockDescription.id}-${uuid}`\"\n        ref=\"supplyElements\"\n        :data-label=\"stockDescription.id\"\n        :cx=\"stockDescription.x\"\n        :cy=\"stockDescription.y\"\n        :r=\"stockDescription.radius\"\n        class=\"stock supply\"\n      />\n      <template v-if=\"appStore.isDeveloperModeActive\">\n        <text v-for=\"flowElement in flowElements\" :key=\"flowElement.id\">\n          <textPath\n            :xlink:href=\"`#${flowElement.id}`\"\n            startOffset=\"50%\"\n            text-anchor=\"middle\"\n            dominant-baseline=\"middle\"\n            class=\"label\"\n          >\n            {{ flowElement.dataset.label }}\n          </textPath>\n        </text>\n        <text\n          v-for=\"supplyElement in supplyElements\"\n          :key=\"supplyElement.id\"\n          :x=\"supplyElement.getAttribute('cx')\"\n          :y=\"supplyElement.getAttribute('cy')\"\n          class=\"label\"\n        >\n          {{ supplyElement.dataset.label }}\n        </text>\n      </template>\n    </svg>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.model-visualization {\n  overflow: visible;\n\n  .stock {\n    stroke: none;\n    opacity: 0.75;\n  }\n\n  .supply {\n    fill: lightgray;\n  }\n\n  .capacity {\n    fill: gray;\n  }\n\n  @keyframes highlight {\n    0% {\n      stroke: red;\n    }\n\n    50% {\n      stroke: gray;\n    }\n\n    100% {\n      stroke: blue;\n    }\n  }\n\n  .flow {\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    animation: 100s linear calc(-100s * var(--highlight)) paused highlight;\n    animation-fill-mode: both;\n\n    fill: none;\n\n    &.edge {\n      stroke-width: 8;\n      display: none;\n    }\n\n    &.anim-edge {\n      stroke-width: 15;\n      stroke-dasharray: 10 27;\n      --max-dashoffset-step: 15; // string must be parseable by parseFloat()\n    }\n\n    &#recycle-flow,\n    &#recycle-edge,\n    &#produce-from-recycled-materials-flow,\n    &#produce-from-recycled-materials-edge,\n    &#repair-flow,\n    &#repair-edge,\n    &#acquire-repaired-flow,\n    &#acquire-repaired-edge,\n    &#refurbish-flow,\n    &#refurbish-edge,\n    &#acquire-refurbished-flow,\n    &#acquire-refurbished-edge,\n    &#acquire-used-flow,\n    &#acquire-used-edge {\n      stroke: gray;\n\n      &.anim-edge {\n        stroke-dasharray: 0 27;\n        --max-dashoffset-step: 12.5; // string must be parseable by parseFloat()\n      }\n    }\n  }\n\n  foreignObject {\n    overflow: visible;\n  }\n\n  .label {\n    font-size: 48px;\n    font-family: sans-serif;\n    text-anchor: middle;\n    dominant-baseline: middle;\n  }\n}\n</style>\n","/**\n * Loads an external SVG file and returns the DOM tree of its first <svg> element.\n *\n * @param {string|URL} uri\n * @param {boolean} clearStyles\n *  If true removes the style elements from the file\n * @return {Promise<SVGSVGElement>}\n */\nexport async function loadSvg(uri: string | URL, clearStyles = true) {\n  const response = await fetch(uri);\n  if (response.status < 200 || response.status >= 300) {\n    throw new Error(\n      `Server returned status ${response.status} (${\n        response.statusText\n      }) loading ${new URL(uri).href}.`,\n    );\n  }\n  const svgText = await response.text();\n  const div = document.createElement('div');\n  div.innerHTML = svgText;\n  const svgDoc = div.querySelector('svg');\n  if (svgDoc === null) {\n    throw new Error(`No SVG element found in ${new URL(uri).href}.`);\n  }\n\n  if (clearStyles) {\n    svgDoc.querySelectorAll('style')?.forEach((s) => s.remove());\n  }\n\n  return svgDoc;\n}\n","import { strict as assert } from 'assert';\n\nexport function getCircleCenter(element: SVGCircleElement) {\n  const x = parseFloat(element.getAttribute('cx') ?? '');\n  assert(!Number.isNaN(x));\n  const y = parseFloat(element.getAttribute('cy') ?? '');\n  assert(!Number.isNaN(y));\n  return { x, y };\n}\n\nexport function getRectangleCenter(element: SVGRectElement) {\n  const x = parseFloat(element.getAttribute('x') ?? '');\n  assert(!Number.isNaN(x));\n  const y = parseFloat(element.getAttribute('y') ?? '');\n  assert(!Number.isNaN(y));\n  const width = parseFloat(element.getAttribute('width') ?? '');\n  assert(!Number.isNaN(width));\n  const height = parseFloat(element.getAttribute('height') ?? '');\n  assert(!Number.isNaN(height));\n  return { x: x + width / 2, y: y + height / 2 };\n}\n","export function guardedQuerySelector<T extends Element>(\n  type: { new (...args: unknown[]): T },\n  selector: string,\n  elem: Element | Document = document,\n): T {\n  const result = elem.querySelector(selector);\n  if (result === null) {\n    throw new Error(`No element found matching selector ${selector}.`);\n  }\n  if (!(result instanceof type)) {\n    throw new Error(\n      `Element matching selector ${selector} has the wrong type.`,\n    );\n  }\n  return result;\n}\n\nexport function guardedQuerySelectorAll<T extends Element>(\n  type: { new (...args: unknown[]): T },\n  selector: string,\n  elem: Element | Document = document,\n): NodeListOf<T> {\n  const results = elem.querySelectorAll(selector);\n  results.forEach((result) => {\n    if (!(result instanceof type)) {\n      throw new Error(\n        `An element matching selector ${selector} has the wrong type.`,\n      );\n    }\n  });\n\n  return results as NodeListOf<T>;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('6xGL6') + \"model.db14af94.svg\";","function ignorePromise<T>(promise: Promise<T>): void {\n  void promise;\n}\n\nexport { ignorePromise };\n","import type {\n  ModelElementIds,\n  ModelElementArray,\n  ModelElementObject,\n  ModelRecord,\n} from './model';\nimport type { FlowEvaluator } from './box-model/types';\n\nimport { Model } from './model';\n\nclass ModelSimulator<\n  S extends ModelElementIds,\n  F extends ModelElementIds,\n  V extends ModelElementIds,\n  P extends ModelElementIds,\n> {\n  public readonly model: Model<S, F, V, P>;\n\n  public readonly parameters: ModelElementObject<P>;\n\n  public record: ModelRecord<S, F, V, P>;\n\n  public deltaPerSecond: number;\n\n  public maxStepSize: number;\n\n  protected flowPerStockCache: {\n    t: number;\n    value: readonly [...ModelElementArray<S>];\n  } | null;\n\n  protected flowEvaluator: FlowEvaluator<ModelElementArray<S>>;\n\n  protected flowEvaluatorWithCache: FlowEvaluator<ModelElementArray<S>>;\n\n  constructor(\n    model: Model<S, F, V, P>,\n    stocks: ModelElementObject<S>,\n    parameters: ModelElementObject<P>,\n    t: number,\n    deltaPerSecond: number,\n    maxStepSize: number,\n  ) {\n    this.model = model;\n    this.parameters = parameters;\n    this.flowPerStockCache = null;\n    this.record = this.model.evaluate(stocks, parameters, t);\n    this.deltaPerSecond = deltaPerSecond;\n    this.maxStepSize = maxStepSize;\n    this.flowEvaluator = this.model.createFlowEvaluator(parameters);\n    this.flowEvaluatorWithCache = this.evaluateFlowPerStockWithCache.bind(this);\n  }\n\n  protected evaluateFlowPerStockWithCache(\n    stockArray: readonly [...ModelElementArray<S>],\n    t: number,\n  ): [...ModelElementArray<S>] {\n    if (this.flowPerStockCache !== null && this.flowPerStockCache.t === t)\n      return [...this.flowPerStockCache.value];\n\n    return this.flowEvaluator(stockArray, t);\n  }\n\n  tick(seconds: number): ModelRecord<S, F, V, P> {\n    const targetT = this.record.t + seconds * this.deltaPerSecond;\n    while (this.record.t < targetT) {\n      const stepSize = Math.min(this.maxStepSize, targetT - this.record.t);\n      this.step(stepSize);\n    }\n    return this.record;\n  }\n\n  protected step(h: number): ModelRecord<S, F, V, P> {\n    const { stocks, parameters, t } = this.record;\n    const newStocks = this.model.step(\n      stocks,\n      t,\n      h,\n      this.flowEvaluatorWithCache,\n    );\n    const newRecord = this.model.evaluate(newStocks, parameters, t + h);\n    this.flowPerStockCache = {\n      t: newRecord.t,\n      value: this.model.stocksToStockArray(\n        this.model.accumulateFlowsPerStock(newRecord.flows),\n      ),\n    };\n    this.record = newRecord;\n    return newRecord;\n  }\n}\n\nexport { ModelSimulator };\n","import { EventEmitter } from 'events';\nimport type TypedEmitter from 'typed-emitter';\nimport { strict as assert } from 'assert';\nimport { ignorePromise } from './ignore-promise';\n\ntype RunnerEvents = {\n  play: () => void;\n  pause: () => void;\n  tick: (\n    delta: DOMHighResTimeStamp,\n    timestamp: DOMHighResTimeStamp,\n    lastTimeStamp: DOMHighResTimeStamp,\n    timeStampOffset: DOMHighResTimeStamp,\n  ) => void;\n};\n\nfunction getCurrentAnimationTime() {\n  const currentAnimationTime = document.timeline?.currentTime;\n  if (\n    typeof currentAnimationTime === 'undefined' ||\n    currentAnimationTime === null\n  )\n    return performance.now();\n\n  if (typeof currentAnimationTime === 'number') return currentAnimationTime;\n\n  return currentAnimationTime.to('ms').value;\n}\n\nclass Runner extends (EventEmitter as new () => TypedEmitter<RunnerEvents>) {\n  protected shouldRun: boolean = false;\n\n  protected running: boolean = false;\n\n  protected timeStampOffset: DOMHighResTimeStamp = 0;\n\n  protected lastTimeStamp: DOMHighResTimeStamp = getCurrentAnimationTime();\n\n  protected cancelAnimationFrameCallback: (() => void) | null = null;\n\n  play() {\n    this.shouldRun = true;\n    ignorePromise(this.run());\n  }\n\n  pause() {\n    this.shouldRun = false;\n    if (this.cancelAnimationFrameCallback !== null)\n      this.cancelAnimationFrameCallback();\n  }\n\n  isPlaying() {\n    return this.running;\n  }\n\n  isPaused() {\n    return !this.running;\n  }\n\n  shouldPlay(): boolean {\n    return this.shouldRun;\n  }\n\n  shouldPause(): boolean {\n    return !this.shouldRun;\n  }\n\n  togglePlayPause() {\n    if (this.shouldRun) this.pause();\n    else this.play();\n  }\n\n  tick() {\n    if (this.isPlaying()) {\n      assert(this.cancelAnimationFrameCallback !== null);\n      this.cancelAnimationFrameCallback();\n    } else {\n      this.play();\n      this.pause();\n    }\n  }\n\n  protected async run() {\n    if (this.running || !this.shouldRun) return;\n    this.running = true;\n    this.emit('play');\n\n    // Keep track of the offset between this runner and the global animation time.\n    // The offset increases by the time the runner was paused.\n    let timeStamp = getCurrentAnimationTime();\n    this.timeStampOffset += timeStamp - this.lastTimeStamp;\n\n    // The first tick will be emitted with a delta of 0, i.e. the attached listeners should not progress.\n    // If renderers are attached, they should just render the current state.\n    this.lastTimeStamp = timeStamp;\n    do {\n      const delta = timeStamp - this.lastTimeStamp;\n      this.emit(\n        'tick',\n        delta,\n        timeStamp,\n        this.lastTimeStamp,\n        this.timeStampOffset,\n      );\n      this.lastTimeStamp = timeStamp;\n\n      // Account for the case where the runner has been paused during the tick event\n      if (!this.shouldRun) break;\n\n      try {\n        // Wait for the next animation frame\n        // eslint-disable-next-line no-await-in-loop\n        timeStamp = await new Promise<DOMHighResTimeStamp>(\n          (resolve, reject) => {\n            const requestId = requestAnimationFrame(resolve);\n            this.cancelAnimationFrameCallback = () => {\n              cancelAnimationFrame(requestId);\n              this.cancelAnimationFrameCallback = null;\n              if (this.shouldRun) resolve(getCurrentAnimationTime());\n              else reject();\n            };\n          },\n        );\n      } catch (err) {\n        // The runner was paused while waiting for the next animation frame\n      }\n    } while (this.shouldRun);\n    this.running = false;\n    this.emit('pause');\n  }\n}\n\nexport { Runner };\nexport type { RunnerEvents };\n","import { createApp } from 'vue';\nimport { createPinia } from 'pinia';\n\nimport './side-effects';\n\nimport App from '../vue/components/App.vue';\n\nimport { ConfigLoader } from './config/config-loader';\nimport { documentReady } from './util/document-ready';\nimport { CONFIG_URLS, CONFIG_INJECTION_KEY } from './builtin-config';\n\n// eslint-disable-next-line no-lone-blocks\n{\n  // This is for setting global Vue.js option that should actually be set by the bundler, but aren't.\n  /* eslint-disable */\n  // @ts-ignore\n  globalThis.__VUE_OPTIONS_API__ = true;\n  // @ts-ignore\n  globalThis.__VUE_PROD_DEVTOOLS__ = true;\n  // @ts-ignore\n  globalThis.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = true;\n}\n\ntype CircularEconomyApi = {\n  app: InstanceType<typeof App>;\n};\n\nasync function init(): Promise<CircularEconomyApi> {\n  const configLoaderResult = await ConfigLoader.safeLoad(...CONFIG_URLS);\n  if (!configLoaderResult.ok) {\n    const {\n      config,\n      error: { errors, explanation },\n    } = configLoaderResult.error;\n    console.error('Invalid configuration:', config);\n    console.error(explanation);\n    console.error(\n      'Issues reported by the configuration validator:',\n      ...(errors ?? []),\n    );\n    throw new Error('Error loading configuration. See console for details.');\n  }\n  const config = configLoaderResult.data;\n  console.log(config);\n\n  const pinia = createPinia();\n\n  const app = createApp(App);\n  app.provide(CONFIG_INJECTION_KEY, config);\n  app.use(pinia);\n  const appComponent = app.mount(document.body) as InstanceType<typeof App>;\n\n  const circularEconomyApi: CircularEconomyApi = {\n    app: appComponent,\n  };\n\n  return circularEconomyApi;\n}\n\ndeclare global {\n  interface Window {\n    circularEconomy: Promise<CircularEconomyApi>;\n  }\n}\n\nwindow.circularEconomy = documentReady().then(init);\n","/**\n * This file is used to import and reference modules with side effects\n * that would otherwise be stripped out by the bundler.\n */\n\nimport { Tab } from 'bootstrap';\n\nconst sideEffects = {\n  bootstrap: { Tab },\n};\n\nexport default sideEffects;\n","export async function documentReady() {\n  return new Promise<void>((resolve) => {\n    const state = document.readyState;\n    if (state === 'complete' || state === 'interactive') {\n      setTimeout(resolve, 0);\n    }\n\n    document.addEventListener('DOMContentLoaded', () => resolve());\n  });\n}\n"],"names":["$94648bb2449130ad$var$script","$parcel$defineInteropFlag","a","Object","defineProperty","value","configurable","$parcel$export","e","n","v","s","get","set","enumerable","$parcel$interopDefault","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$7f2e693888b7da48$export$2e2bcd8739ae039","$djimy","$djoOt","$1Ubyj","$bA8zD","$4I7K4","$2PnmE","$lbosM","$4TkLj","$2vvax","$1VbKL","$jrojO","$kIEuR","$7Rjir","$flGFW","$7dQGn","$f4LB1","$i5N9G","$8C4qt","$6h466","$aDsGb","$9cXwb","defineComponent","__name","setup","__props","expose","__expose","options","useOptionStore","config","useConfigStore","appStore","useAppStore","modelStore","useModelStore","model","CircularEconomyModel","modelSimulator","ModelSimulator","initialStocks","initialParameters","simulation","deltaPerSecond","maxStepSize","runner","Runner","watchEffect","isPlaying","play","pause","assign","parameters","transformedParameters","console","log","tick","watch","isFullscreen","ignorePromise","document","documentElement","requestFullscreen","exitFullscreen","enableControlPanel","ref","toggleControlPanel","toggleDeveloperMode","isDeveloperModeActive","togglePlayPause","toggleFullscreen","onKeyStroke","HOTKEYS","controlPanel","key","developerMode","run","fullscreen","modelVisualizations","onMounted","on","deltaMs","t","lastT","record","currentT","deltaT","$patch","forEach","mv","update","__returned__","ScaledLetterBox","PointerMarkerPanel","TuioMarkerPanel","ScoreTable","ControlPanel","ConditionalLayer","BasicSlotGroup","ActionCardSlotGroup","EventCardSlotGroup","ModelVisualization","BOARD_WIDTH","BOARD_HEIGHT","$1633fb7771aaca14$var$script","$1633fb7771aaca14$export$2e2bcd8739ae039","render","__cssModules","__scopeId","__file","$1eb7476f2c6edbd3$export$2e2bcd8739ae039","$hWymx","props","targetSize","emits","emit","__emit","outerElement","innerElement","transformInfo","translateX","translateY","scale","strict","outerElementValue","handleResize","rect","getBoundingClientRect","Math","min","width","height","observer","ResizeObserver","observe","onUnmounted","disconnect","$72b31b861bff258e$export$b3890eb0ae9dca99","$72b31b861bff258e$var$_hoisted_1","class","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","createElementVNode","style","normalizeStyle","renderSlot","$slots","$af83e81a6fab8a8b$export$2e2bcd8739ae039","script","$86e9b5140c82a6be$var$script","$86e9b5140c82a6be$export$2e2bcd8739ae039","$10959303488fabde$export$2e2bcd8739ae039","$9OMm5","$dLTM2","$02fmQ","markerPositions","addMarker","moveMarker","useMarkerStore","pointerMarkers","useArrayFilter","startsWith","POINTER_MARKER_COORDINATES","x","y","i","offsets","Map","onPointerDown","event","m","target","HTMLElement","setPointerCapture","pointerId","offset","clientX","clientY","onPointerMove","hasPointerCapture","onPointerUpOrCancel","_","releasePointerCapture","MarkerUnderlay","$79212d24b42f8c0b$export$2b102c21fd8c3a14","$79212d24b42f8c0b$export$2d4baac05ba5050f","$79212d24b42f8c0b$export$eefabe5abfdf297","$79212d24b42f8c0b$export$c89d6b8b907791b2","$79212d24b42f8c0b$export$635192e5cc7a5655","$79212d24b42f8c0b$export$633ebe01a9307f62","$79212d24b42f8c0b$export$f983e279e6a51323","$79212d24b42f8c0b$export$f44b5656cfdd52c7","$79212d24b42f8c0b$export$e82355d5f8b7b656","$79212d24b42f8c0b$export$3b1418b0273134fc","URL","location","href","$79212d24b42f8c0b$export$feeb00bdeba6b9a4","map","name","Symbol","Array","fill","label","highlightDerivatives","$a06aeda8c0ab6070$var$script","$a06aeda8c0ab6070$export$2e2bcd8739ae039","$846b478b0b125147$export$2e2bcd8739ae039","markerId","MARKER_CIRCLE_DIAMETER","$32cab0daf3d2e700$export$35cd30506bcba883","$kV0Ly","defineStore","optionStore","autoStart","$e7dc2931e5db5cc8$export$60f4650a311a4bd4","searchParams","URLSearchParams","search","useTuioMarkers","usePointerMarkers","numPointerMarkers","Number","parseInt","NUM_POINTER_MARKERS","tuioUrl","tuioReconnectionDelayMs","$7aa464cf12ea4d55$export$b3890eb0ae9dca99","$7aa464cf12ea4d55$var$_hoisted_1","pushScopeId","popScopeId","$7aa464cf12ea4d55$var$_hoisted_2","toDisplayString","createCommentVNode","$8e493d15ea3076d6$export$2e2bcd8739ae039","$211e460fa0ebe353$export$190b5ce5ec6b71c","$46h5Q","$4Bz8r","$le1Q3","removeMarker","index","findIndex","splice","push","movedMarker","find","tuio11EventEmitter","Tuio11EventEmitter","client","Tuio11Client","WebsocketTuioReceiverExt","addTuioListener","setTimeout","connect","tuioObject","sessionId","xPos","yPos","readonly","$79791ffeac0c565b$export$228c2695e2750e70","$3ZGF0","EventEmitter","addTuioObject","updateTuioObject","removeTuioObject","addTuioCursor","tuioCursor","updateTuioCursor","removeTuioCursor","addTuioBlob","tuioBlob","updateTuioBlob","removeTuioBlob","refresh","frameTime","TuioReceiver","$772f60e1750256f5$export$28f0a315f845fe05","UDP","Websocket","constructor","toString","$0237672df630eb01$export$1d174becd7383320","_isConnected","_messageListeners","onOscMessage","oscMessage","messageListeners","address","undefined","messageListener","addMessageListener","callback","$2196a14ad8312b8c$export$e8c7defc8ed7d61c","Added","Accelerating","Decelerating","Stopped","Removed","Rotating","Idle","$8a6c2aafea9e66e6$export$c9434b8ebedd3127","_startTime","seconds","microSeconds","_seconds","_microSeconds","fromOscTime","oscTime","raw","subtract","tuioTime","getTotalMilliseconds","_getSystemTime","performanceNow","performance","now","floor","getCurrentTime","$1e89eb4ee9dfa7e6$export$c1c6b3d395fb2eb","$cmRMF","$2SMZK","Tuio11Container","startTime","blobId","symbolId","angle","area","xSpeed","ySpeed","rotationSpeed","motionAccel","rotationAccel","_blobId","_angle","_width","_height","_area","_rotationSpeed","_rotationAccel","_hasChanged","currentTime","_update","lastPoint","path","length","isCalculateSpeeds","_updateContainer","dt","lastAngle","lastRotationSpeed","da","PI","_state","TuioState","$9011427d9ef946ab$export$7a903d80da36dab7","$1lgn3","Tuio11Point","MAX_PATH_LENGTH","_currentTime","_sessionId","_xSpeed","_ySpeed","_motionSpeed","sqrt","_motionAccel","_prevPoints","motionSpeed","state","_xPos","_yPos","dx","dy","lastMotionSpeed","dist","shift","_remove","$0fa47383898c1af0$export$2ae129cdfdb48009","$35a5df3efa823680$export$f69bbf3abdc617d6","$b3X4E","$02co9","$2Cyxe","$bSOPx","tuioReceiver","_tuioReceiver","_on2Dobj","bind","_on2Dcur","_on2Dblb","_tuioListeners","_tuioObjects","_tuioCursors","_tuioBlobs","_objectSetMessages","_cursorSetMessages","_blobSetMessages","_objectAliveMessage","_cursorAliveMessage","_blobAliveMessage","_freeCursorIds","_freeBlobIds","_currentFrame","TuioTime","tuioListener","removeTuioListener","indexOf","removeAllTuioListeners","getTuioObjects","values","getTuioCursors","getTuioBlobs","getTuioObject","ret","getTuioCursor","getTuioBlob","_updateFrame","fseq","command","args","currentSessionIds","Set","keys","aliveSessionIds","slice","arg","filter","has","delete","setMessage","X","Y","A","r","Tuio11Object","cursorId","sort","size","Tuio11Cursor","w","h","f","Tuio11Blob","$80ddcc621d415983$export$24309c183f44708e","_symbolId","$0069cc215a4c388c$export$5d8d626d568b91cf","_cursorId","$4fec40e32d323de9$export$a64a15eace4f507c","$9iGn8","$bNthR","url","reconnectIntervalMs","_url","_reconnectIntervalMs","_oscPort","WebSocketPort","metadata","_reconnectTimeout","_handleOscMessage","_handleOscReady","onOscReady","_handleOscClose","onOscClose","_handleOscError","onOscError","scheduleReconnect","warn","clearTimeout","error","once","open","off","close","$a26f9109ab158c38$export$b3890eb0ae9dca99","$a26f9109ab158c38$var$_hoisted_1","Fragment","renderList","marker","createBlock","onPointerdown","$event","onPointermove","onPointerup","onPointercancel","$c8f17d3a36a29c4b$export$2e2bcd8739ae039","$36e146e0af5e607b$var$script","$36e146e0af5e607b$export$2e2bcd8739ae039","$18441bec35370532$export$2e2bcd8739ae039","tuioMarkers","$30cb5235f346f7b0$export$b3890eb0ae9dca99","$30cb5235f346f7b0$var$_hoisted_1","$3808e37639eea4f2$export$2e2bcd8739ae039","$20f277e0999adaf7$var$script","$20f277e0999adaf7$export$2e2bcd8739ae039","$6a024a7d4d6ff12f$export$2e2bcd8739ae039","$dNJei","general","primaryLanguage","secondaryLanguage","scoreLabels","circularity","circularityLabels","happiness","happinessLabels","score","computed","Scores","primaryLabel","secondaryLabel","scores","fractionDigits","format","toFixed","$05dc67d1dc32361c$export$34e3fa5a389d1187","inject","CONFIG_INJECTION_KEY","assetBaseDir","assetBaseUrl","POSITIONAL_ASSET_REGEX","extractAssetPosition","matches","match","toAssetUrl","$ce8a515351467a03$export$5f60664fdfa2046f","$5rTuK","$cIjax","$ce8a515351467a03$var$useTransformedParameters","slotGroupsStore","useSlotGroupsStore","parameterTransformStore","useParameterTransformsStore","slotGroups","parameterTransforms","transforms","transformedParametersExt","reactiveComputed","before","stepGroups","sId","steps","pId","active","transformObject","transform","after","diff","fromEntries","entries","result","lastWithDefault","defaultValue","lastStepResult","modelConfig","initialRecord","evaluate","$206356841936c3c2$export$f750b2e397fa5c0d","$206356841936c3c2$export$7c12f5d9f59e1bd6","$206356841936c3c2$export$b590f4f5e6e68ae6","$206356841936c3c2$export$a03075ce549b4fda","$206356841936c3c2$export$8f51ca2bca4e557a","$jRMUH","Model","capacityOfNewlyProducedPhones","capacityOfRecycledMaterials","capacityOfRefurbishedPhones","capacityOfRepairedPhones","phonesInUse","supplyOfBrokenPhones","supplyOfDisposedPhones","supplyOfHibernatingPhones","supplyOfNewlyProducedPhones","supplyOfRecycledMaterials","supplyOfRefurbishedPhones","supplyOfRepairedPhones","_2","defaultParameters","abandonExcessRate","abandonRate","acquireRate","breakRate","capacityAdjustmentRate","disposeIncentive","disposeRate","landfillIncentive","landfillRate","naturalResourcesIncentive","newPhoneProductionRate","newlyProducedPhoneIncentive","numberOfUsers","phonesPerUserGoal","recycleRate","recyclingIncentive","refurbishmentIncentive","refurbishmentRate","repairIncentive","repairRate","reuseIncentive","stocks","phoneGoal","phonesInUseExcess","max","abandon","inflowIncentiveSumForPhonesInUse","goBroken","demandForPhones","demandForNewlyProducedPhones","acquireNewlyProduced","demandForRefurbishedPhones","acquireRefurbished","demandForRepairedPhones","acquireRepaired","supplyOfHibernatingPhonesForReuse","demandForReusedPhones","demandForResources","demandForRecycledMaterials","supplyOfBrokenPhonesForDisposal","supplyOfHibernatingPhonesForDisposal","supplyOfDisposedPhonesForLandfilling","demandForNaturalResources","produceFromRecycledMaterials","supplyOfDisposedPhonesForRecycling","demandForRecycling","supplyOfHibernatingPhonesForRefurbishment","demandForRefurbishment","demandForRepair","variables","supplyOfBrokenPhonesForRepair","flows","acquireUsed","capacityOfNewlyProducedPhonesAdjustment","capacityOfRecycledMaterialsAdjustment","capacityOfRefurbishedPhonesAdjustment","disposeBroken","disposeHibernating","landfill","produceFromNaturalResources","recycle","refurbish","repair","repairShopCapcityAdjustment","accumulateFlowsPerStock","$cbfe2072c869131c$export$a1edc412be3e1841","$4E5XB","elementIds","stocksIds","flowIds","variableIds","parameterIds","stockIds","elementObjectToArray","ids","object","arrayToElementObject","array","stocksToStockArray","stockArrayToStocks","stockArray","flowsToFlowArray","flowArrayToFlows","flowArray","variablesToVariableArray","variableArrayToVariables","variableArray","parametersToParameterArray","parameterArrayToParameters","parameterArray","evaluateFlowPerStock","createFlowEvaluator","stocksArray","flowsPerStock","flowPerStockArray","step","flowEvaluator","newStocksArray","$b31563e15b67f27b$export$35d34bc0ed591a92","$3h2ov","stocksAtT","tOrFlowsAtT","tOrH","hOrComputeFlows","computeFlowsOrIntegrator","integrator","$b31563e15b67f27b$var$step6","flowsAtT","computeFlows","mutableFlowsAtT","$e256d5ccddceeace$export$35d34bc0ed591a92","$e256d5ccddceeace$export$342c33653c71264","$555Ja","getFlows","rk4","criterion","iterations","userdata","done","newStocks","newT","$5d015ad0548de018$export$926181dbdeb3ce30","derivatives","dydx","yTemp","h2","h6","xhh","dydxTemp","dydxM","$095edef698fa8b01$export$7ec9ce70268244ce","$k6FcS","$095edef698fa8b01$var$createReactiveParameterTransform","reactiveScript","reactiveTransform","$095edef698fa8b01$var$createParameterTransformFunction","parameterId","isVarName","wrappedScript","Function","func","join","reactive","pt","addOrModify","newTransform","move","from","to","removed","remove","replaceAll","ptcs","newParameterTransforms","ptc","$decb13147f00dbdd$export$75ea5357c1bedf6c","str","trim","$9f9fc157427b77a6$export$d5bc3025606077cd","$9f9fc157427b77a6$export$acd2e06900408da2","$gK2p2","$6clsW","uuid","setActive","$9f9fc157427b77a6$export$1b929da68af3f2bb","parameterTransformId","$9f9fc157427b77a6$export$c3958279a8e7f3ca","type","$9f9fc157427b77a6$var$useBasicSlotGroup","parameterTransformIds","$9f9fc157427b77a6$var$useActionCardSlotGroup","cards","$9f9fc157427b77a6$var$useEventCardSlotGroup","exhaustiveGuard","internalSlotGroup","nonInternalSlotGroups","interaction","rebuildInternalSlotGroup","$8749890caf5fdf0f$export$bf9df2bc3f7ef580","JSON","stringify","$e0ed409047cd3bec$export$1f8210a5093264da","isFinite","isNaN","userSatisfaction","all","$9819330937cb63c5$export$b3890eb0ae9dca99","$9819330937cb63c5$var$_hoisted_1","$9819330937cb63c5$var$_hoisted_2","$9819330937cb63c5$var$_hoisted_3","$9819330937cb63c5$var$_hoisted_4","$a9ff96aaa9fac546$export$2e2bcd8739ae039","$f6bd99efb9596e4d$var$script","$f6bd99efb9596e4d$export$2e2bcd8739ae039","$417672d13f6bb84f$export$2e2bcd8739ae039","$1jdKh","$iTpok","$3PxCe","$c1iJh","$d1qRQ","disabled","Boolean","diagramsTabDisabled","ControlPanelTabInitialParameters","ControlPanelTabParameterTransforms","ControlPanelTabCharts","ControlPanelTabImportExport","ControlPanelTabMisc","$0f423a5d35ad2700$var$script","$0f423a5d35ad2700$export$2e2bcd8739ae039","$433fab186c35cc81$export$2e2bcd8739ae039","toReactive","storeToRefs","$caecfa228c8d5ba0$export$b3890eb0ae9dca99","$caecfa228c8d5ba0$var$_hoisted_1","withDirectives","vModelText","number","$083d30a120d7f653$export$2e2bcd8739ae039","$dc110f4580b21879$var$script","$dc110f4580b21879$export$2e2bcd8739ae039","$b8d7873fc9b268e7$export$2e2bcd8739ae039","$aWxmM","parameterTransformsStore","newId","newScript","availableContainer","create","onEnd","newDraggableIndex","oldDraggableIndex","select","internalIndex","newParameterTransformState","useParameterTransformId","usedNonInternally","flatMap","alert","nextInternalIndex","deactivateAllInternal","createTooltip","slotGroup","parameterTransformState","slotGroupIndex","sg","slotGroupTransformedParametersExt","parameterTransformIndex","pts","$aec017be103147c8$export$b3890eb0ae9dca99","$aec017be103147c8$var$_hoisted_1","$aec017be103147c8$var$_hoisted_2","$aec017be103147c8$var$_hoisted_3","$aec017be103147c8$var$_hoisted_4","$aec017be103147c8$var$_hoisted_5","$aec017be103147c8$var$_hoisted_6","$aec017be103147c8$var$_hoisted_7","$aec017be103147c8$var$_hoisted_8","$aec017be103147c8$var$_hoisted_9","$aec017be103147c8$var$_hoisted_10","$aec017be103147c8$var$_hoisted_11","$aec017be103147c8$var$_hoisted_12","$aec017be103147c8$var$_hoisted_13","$aec017be103147c8$var$_hoisted_14","$aec017be103147c8$var$_hoisted_15","$aec017be103147c8$var$_hoisted_16","$aec017be103147c8$var$_hoisted_17","$aec017be103147c8$var$_hoisted_18","$aec017be103147c8$var$_hoisted_19","createTextVNode","title","vModelCheckbox","onClick","rows","cols","$38078c6eda257adf$export$2e2bcd8739ae039","$2ca035e5600c52ee$var$script","$2ca035e5600c52ee$export$2e2bcd8739ae039","$efc8de590539c9b0$export$2e2bcd8739ae039","$dbRyT","toChartJsRecord","reduce","cur","acc","Chart","BarController","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","labels","labelsArray","flat","canvas","chartJs","data","datasets","animation","chartJsRecord","$b3acec57c11aa6d4$export$b3890eb0ae9dca99","$b3acec57c11aa6d4$var$_hoisted_1","$b3acec57c11aa6d4$var$_hoisted_2","$7d12b96cb2c9491b$export$2e2bcd8739ae039","$8c041b461947cf90$var$script","$8c041b461947cf90$export$2e2bcd8739ae039","$62b6d5b710521b97$export$2e2bcd8739ae039","$jTevu","$krAM6","$coVQp","OState","SUCCESS","UNPROCESSED","UNKNOWN","ERROR","stateTooltips","parameterTransformsYamlText","parameterTransformImportState","initialParametersYamlText","initialParametersImportState","deriveConfig","partialConfigText","unvalidatedPartialConfig","load","newConfig","ConfigLoader","merge","structuredClone","toRaw","validationResult","validateConfig","ok","errors","explanation","importInitialParameters","validatedInitialParameters","importParameterTransforms","validatedParameterTransforms","transformParametersPromise","Promise","resolve","reject","deep","exportInitialParameters","dump","exportParameterTransforms","exportObj","$8c6f320334d39d66$export$127f9a442b42d18","$Clc2s","$ke2S4","$8c6f320334d39d66$export$e54a743cb2cd79b9","SuretypeConfigSchema","$8c6f320334d39d66$var$validateConfigSuretype","compile","ensure","simple","$07c7bb3554c31a9f$export$a26eaca21534c20c","$07c7bb3554c31a9f$var$AssetUrlSchema","string","$07c7bb3554c31a9f$var$ParameterTransformSchema","suretype","required","additional","$07c7bb3554c31a9f$var$ParameterTransformsSchema","$07c7bb3554c31a9f$var$InitialParametersSchema","p","$07c7bb3554c31a9f$var$InitialStocksSchema","$07c7bb3554c31a9f$var$MarkerSlotSchema","$07c7bb3554c31a9f$var$CardSlotSchema","$07c7bb3554c31a9f$var$CardSchema","$07c7bb3554c31a9f$var$SlotGroupIdSchema","$07c7bb3554c31a9f$var$BasicSlotGroupSchema","enum","slots","$07c7bb3554c31a9f$var$ActionCardSlotGroupSchema","markerSlot","cardSlot","$07c7bb3554c31a9f$var$EventCardSlotGroupSchema","cardSlots","$07c7bb3554c31a9f$var$SlotGroupSchema","anyOf","$07c7bb3554c31a9f$var$ModelVisualizationLayerSchema","$07c7bb3554c31a9f$var$ConditionalLayerSchema","condition","$07c7bb3554c31a9f$var$LayersSchema","$07c7bb3554c31a9f$var$GeneralSchema","$07c7bb3554c31a9f$var$AssetUrlObjectSchema","$07c7bb3554c31a9f$var$InteractionSchema","actionCardDelayMs","gte","eventCardMinDelayMs","eventCardMaxDelayMs","eventCardMinDurationMs","eventCardMaxDurationMs","assets","markerSlotActive","markerSlotInactive","layers","$e3d07e970acdc070$export$74b74ee58cf5eeb2","$fWsyq","$e3d07e970acdc070$var$overwriteMerge","destination","source","fetch","response","statusText","text","json","schema","JSON_SCHEMA","segments","arrayMerge","safeLoad","urls","merged","jsonSegment","loadResult","$bf37af7b456c67fe$export$b3890eb0ae9dca99","$bf37af7b456c67fe$var$_withScopeId","$bf37af7b456c67fe$var$_hoisted_1","$bf37af7b456c67fe$var$_hoisted_2","$bf37af7b456c67fe$var$_hoisted_3","$bf37af7b456c67fe$var$_hoisted_4","$bf37af7b456c67fe$var$_hoisted_5","normalizeClass","success","onInput","unknown","$9ce5e9f631706ff0$export$2e2bcd8739ae039","$97b035a81ac928d2$var$script","$97b035a81ac928d2$export$2e2bcd8739ae039","$979f2ad2ef920c94$export$2e2bcd8739ae039","togglePlayingBtnId","toggleFullscreenBtnId","toggleDeveloperModeBtnId","toggleHighlightDerivativesBtnId","togglePlaying","toggleHighlightDerivatives","$41fd6e91dc0c2209$export$b3890eb0ae9dca99","autocomplete","for","$eb77ffd843d230ac$export$2e2bcd8739ae039","$d05f04d0be94f565$export$b3890eb0ae9dca99","$d05f04d0be94f565$var$_withScopeId","$d05f04d0be94f565$var$_hoisted_1","role","$d05f04d0be94f565$var$_hoisted_2","$d05f04d0be94f565$var$_hoisted_3","$d05f04d0be94f565$var$_hoisted_4","$d05f04d0be94f565$var$_hoisted_5","$d05f04d0be94f565$var$_hoisted_6","$d05f04d0be94f565$var$_hoisted_7","tabindex","$d05f04d0be94f565$var$_hoisted_8","$d05f04d0be94f565$var$_hoisted_9","$d05f04d0be94f565$var$_hoisted_10","$d05f04d0be94f565$var$_hoisted_11","hidden","mergeProps","toHandlers","createVNode","$6d4e245845e76776$export$2e2bcd8739ae039","$38fc676564b73ea9$var$script","$38fc676564b73ea9$export$2e2bcd8739ae039","$1bf32df420dc4173$export$2e2bcd8739ae039","layerConfig","conditionParameters","compileLayer","resolvedUrl","checkCondition","compiledLayer","$284525201cc1f7d3$export$b3890eb0ae9dca99","$284525201cc1f7d3$var$_hoisted_1","src","$770d99ba1df5d6c2$export$2e2bcd8739ae039","$1d36a78168b81dd9$var$script","$1d36a78168b81dd9$export$2e2bcd8739ae039","$0f4561d4b6509349$export$2e2bcd8739ae039","$jH98U","slotGroupConfig","numActive","MarkerSlot","$e56920082d7f0099$var$script","$e56920082d7f0099$export$2e2bcd8739ae039","$4a9ca63f01e5c22e$export$2e2bcd8739ae039","$iNn5Y","$fPRSg","$9QUOw","slotGroupId","slotConfig","slotId","markerSlotActiveUrl","markerSlotInactiveUrl","markerSlotActivePosition","markerSlotInactivePosition","markerStore","slotStore","useSlotStore","slotCircle","Circle","SLOT_CIRCLE_DIAMETER","previousContainedMarkers","containedMarkers","containsPoint","added","difference","addActivation","isActive","isActiveNow","isActivePrev","$fc0392f9e9b7f2cf$export$6c597292cc31470e","slotActivations","removeActivation","sm","$db69d09b0c73b170$export$c89a927ffc67e6fa","radius","clone","containsCircle","circle","threshold","distance","toCircumcircle","toIncircle","$bc7efb6441d9753a$export$b3890eb0ae9dca99","$bc7efb6441d9753a$var$_hoisted_1","$bc7efb6441d9753a$var$_hoisted_2","$bc7efb6441d9753a$var$_hoisted_3","$bc7efb6441d9753a$var$_hoisted_4","$bc7efb6441d9753a$var$_hoisted_5","$bc7efb6441d9753a$var$_hoisted_6","alt","vShow","inactive","$46e9bab64d402492$export$2e2bcd8739ae039","$e2dae3a0b5a8ccd4$export$b3890eb0ae9dca99","$e2dae3a0b5a8ccd4$var$_hoisted_1","onActivate","onDeactivate","$aabed62df42bda76$export$2e2bcd8739ae039","$16643b44604c5017$var$script","$16643b44604c5017$export$2e2bcd8739ae039","$7c6f249daa2d3636$export$2e2bcd8739ae039","$7RdUk","slotsWithCard","assignment","timeout","availableCardAssignments","cardConfig","slotWithCard","assignmentValue","newAssignment","immediate","CardSlot","$5b884568bf0a0efc$var$script","$5b884568bf0a0efc$export$2e2bcd8739ae039","$578f8105e6430d65$export$2e2bcd8739ae039","$7lUOB","cardSlotConfig","GameCard","$55a690e0c34df7aa$var$script","$55a690e0c34df7aa$export$2e2bcd8739ae039","$16b0e89ef5b5c680$export$2e2bcd8739ae039","assetUrl","position","$00f88fbde0d486fc$export$b3890eb0ae9dca99","$00f88fbde0d486fc$var$_hoisted_1","$00f88fbde0d486fc$var$_hoisted_2","$00f88fbde0d486fc$var$_hoisted_3","$751439ed45b36aac$export$2e2bcd8739ae039","$f5bef93edcec28c2$export$b3890eb0ae9dca99","$f5bef93edcec28c2$var$_hoisted_1","$36a4f4cbf400b5f0$export$2e2bcd8739ae039","$90baf0a77b3422b2$export$b3890eb0ae9dca99","$90baf0a77b3422b2$var$_hoisted_1","$ad682bdb1ae28c60$export$2e2bcd8739ae039","$e273671e7491f17e$var$script","$e273671e7491f17e$export$2e2bcd8739ae039","$ead4f306a98c0381$export$2e2bcd8739ae039","$llWLg","markerSlotConfig","isMarkerSlotActive","EventCardCycler","$f8b923e5fdc84a50$var$script","$f8b923e5fdc84a50$export$2e2bcd8739ae039","$77040f91b9ee72c8$export$2e2bcd8739ae039","enabled","getRandomDelayMs","minDelayMultiplier","random","abs","getRandomDurationMs","cardSlotAssignments","csc","stopFilling","eventCardPriorityQueue","parameterTransform","getNextEventCard","nextEventCard","fillCardSlot","csa","durationMs","delayMs","useTimeoutFn","stop","activateCardSlotAssignments","delayMultiplier","deactivateCardSlotAssignments","newEnabled","prevEnabled","$6c30b2884256701d$export$b3890eb0ae9dca99","$721e4ef9279f6cfd$export$2e2bcd8739ae039","$e8dcf7d29644485c$export$b3890eb0ae9dca99","$e8dcf7d29644485c$var$_hoisted_1","$d18d32ea1bee103c$export$2e2bcd8739ae039","$f1575486b1eff73a$var$script","$f1575486b1eff73a$export$2e2bcd8739ae039","$3fe62b05a4dfc7e4$export$2e2bcd8739ae039","$lOERq","$gkhY4","$aXhH2","$jcDd5","$etm9Z","svgUrl","mainFlowIds","mainCapacityIds","mainSupplyIds","additionalVerbatimSupplyIds","flowVizSigns","scaleFactors","flowHighlight","svgPromise","loadSvg","updateInfo","stepSize","flowVizScale","stockVizScale","useStockToRadius","stockId","stock","useFlowToDashoffset","flowId","lastDashOffset","dashoffset","flow","flowVizSign","dashOffset","useFlowToHighlight","previousFlow","highlight","flowDerivative","scaledFlowDerivative","sign","extractFlowDescriptions","svgElement","flowElement","guardedQuerySelector","SVGGeometryElement","svgPath","getAttribute","flowDescription","extractStockDescriptions","mainStockIds","mainId","stockElement","tagName","getCircleCenter","includes","stockDescription","capacityDescriptions","supplyDescriptions","flowDescriptions","flowElements","supplyElements","then","svg","$c322c1f25c72ec14$export$b6a2e78b63791dfa","uri","clearStyles","status","svgText","div","createElement","innerHTML","svgDoc","querySelector","querySelectorAll","$ec59b9543045d3cd$export$5758bd826bc20e64","element","parseFloat","$087b83628c25cd9a$export$99496351b147462","selector","elem","getBundleURL","$e0adb1699048779d$export$b3890eb0ae9dca99","$e0adb1699048779d$var$_hoisted_1","$e0adb1699048779d$var$_hoisted_2","$e0adb1699048779d$var$_hoisted_3","$e0adb1699048779d$var$_hoisted_4","$e0adb1699048779d$var$_hoisted_5","$e0adb1699048779d$var$_hoisted_6","viewBox","xmlns","ref_for","d","cx","cy","startOffset","dataset","supplyElement","$6521c5f3de0a8cee$export$2e2bcd8739ae039","$5ea80b180850514d$export$c90df33c26bd6dc8","promise","$74997f750a8f1187$export$62914d791c60fb79","flowPerStockCache","flowEvaluatorWithCache","evaluateFlowPerStockWithCache","targetT","newRecord","$466b5cf0b0e1fb7a$export$571ad3bcba5a0c45","$466b5cf0b0e1fb7a$var$getCurrentAnimationTime","currentAnimationTime","timeline","shouldRun","cancelAnimationFrameCallback","running","isPaused","shouldPlay","shouldPause","timeStamp","timeStampOffset","lastTimeStamp","delta","requestId","requestAnimationFrame","cancelAnimationFrame","$e9fced93364bd9e0$export$b3890eb0ae9dca99","$e9fced93364bd9e0$var$_hoisted_1","$e9fced93364bd9e0$var$_hoisted_2","onResize","withCtx","onKeydown","stopPropagation","$b16e24666d4286b1$export$2e2bcd8739ae039","$5jyqD","Tab","$94648bb2449130ad$export$2e2bcd8739ae039","$e7128e4b2b9cca94$export$3e2b244719956741","readyState","addEventListener","$962a287dfbedc8f3$var$init","configLoaderResult","CONFIG_URLS","pinia","createPinia","app","createApp","provide","use","appComponent","mount","body","__VUE_OPTIONS_API__","__VUE_PROD_DEVTOOLS__","__VUE_PROD_HYDRATION_MISMATCH_DETAILS__","circularEconomy"],"version":3,"file":"index.71c4cc0d.js.map"}